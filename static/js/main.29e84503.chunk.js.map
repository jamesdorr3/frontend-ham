{"version":3,"sources":["constants.js","actions/searchActions.js","components/SearchResultCard.js","containers/SearchContainer.js","actions/foodsActions.js","components/ChoiceCard.js","actions/choicesActions.js","components/CategoryCard.js","actions/goalsActions.js","components/AutogenerateGoal.js","actions/daysActions.js","components/GoalsRow.js","actions/saveAllAction.js","containers/Table.js","actions/authActions.js","components/MakeFoodCard.js","components/SignedInHeader.js","components/LoginCard.js","actions/passwordActions.js","components/SignUpCard.js","actions/usersActions.js","components/ResetPasswordCard.js","components/NotSignedInHeader.js","containers/Header.js","components/Footer.js","App.js","serviceWorker.js","Redux/reducer.js","index.js"],"names":["URL","HEADERS","Content-Type","Accept","Authorization","localStorage","getItem","concat","selectSearchResult","props","dispatch","type","fetch","method","headers","body","JSON","stringify","then","r","json","choiceAndFood","payload","connect","state","day","selectInternalSearchResult","prop","idAndCategory","choiceFood","react_default","a","createElement","className","onClick","hideResults","clearForm","food","id","foodId","categoryId","dayId","fdcId","name","description","brand","brandOwner","fat","carbs","protein","toFixed","SearchContainer","text","favorites","filteredFavorites","common","internal","error","addFood","currentPage","totalPages","showResults","categories","componentDidMount","_this","foodsIndex","setState","handleChange","e","target","value","length","clearResults","filter","searchTerm","toLowerCase","includes","handleSubmit","preventDefault","encodeURIComponent","startLoading","externalSearch","branded","categoryByTime","hour","Date","getHours","find","x","makeSearchResultCard","components_SearchResultCard","key","searchPhrase","_this2","this","pageNumber","arguments","undefined","stopLoading","current_page","total_pages","_this3","Fragment","style","display","choiceFoods","onFocus","onSubmit","onChange","placeholder","src","alt","map","removed","React","Component","ChoiceCard","autoUpdateMacro","macro","amount","choice","measure","measures","measure_id","servings","grams","serving_grams","updateInDB","updateChoice","Object","objectSpread","handleAmountChange","editChoice","handleMeasureChange","parseInt","generateMeasures","sort","y","deleteChoice","setTimeout","destroyChoice","handleFocus","window","addEventListener","handleBlur","removeEventListener","react_beautiful_dnd_esm","draggableId","index","provided","assign","draggableProps","dragHandleProps","ref","innerRef","input","amountInput","min","onBlur","info","choiceObj","console","log","autoSum","sum","category_id","category","forEach","droppableId","droppableProps","components_ChoiceCard","updateGoal","goal","createGoal","deleteGoal","AutogenerateGoal","showUserInfo","feet","inches","weight","bodyFat","age","gender","activityLevel","calorieGoalAdjuster","macroGoal","tdeeCals","calorieGoalDescriptor","katchMcArdle","mifflin","parseFloat","calories","user_id","user","toggleAutogenerate","defineProperty","activityLevelSelect","oldName","multiplier","opt","calorieGoalAdjusterSelect","macroGoalsSelect","macroGoals","goalProfile","required","max","pattern","createDay","date","toLocaleString","selectDay","dayAndInfo","deleteDay","updateDay","GoalsRow","showEditGoalForm","goalsSelector","sortedGoals","goals","b","changeGoal","goal_id","addGoal","day_id","editGoal","_this$props$editGoal2","showAutogenerateForm","defaultValue","readonly","components_AutogenerateGoal","userId","saveAll","addChoices","choices","selectUser","editGoalName","keyRow","compareForStyle","email","components_GoalsRow","macrosLeftRow","components_CategoryCard","loading","reauth","response","jwtAndUser","jwt","MakeFoodCard","serving_unit_amount","serving_unit_name","cholesterol","dietary_fiber","potassium","saturated_fat","sodium","sugars","unit_size","upc","s","createFood","toggleNewFoodForm","showNewFoodForm","step","list","moreInfoForm","SignedInHeader","username","usernameOrEmail","password","signup","editDay","handleSignOut","removeItem","signOut","prettyDayDisplay","dayObj","slice","dayOptions","days","handleDayFormChange","dayChangeHandler","todaysDate","year","getFullYear","month","getMonth","getDate","confirm","anotherDay","copyDay","components_MakeFoodCard","href","LoginCard","showSignup","toggleSignup","auth","username_or_email","setItem","message","forgotPassword","match","autoComplete","SignUpCard","password2","createUser","resp","handleSignupClick","minLength","token","resetPassword","status","closeResetPassword","position","right","textAlign","color","fontWeight","NotSignedInHeader","showPasswordReset","showAuth","signedIn","toggleShowAuth","params","location","search","split","decodeURIComponent","disabled","components_LoginCard","components_SignUpCard","ResetPasswordCard","closePasswordReset","Header","editDayName","dayName","created_at","editDayToggle","handleDayNameChange","components_SignedInHeader","components_NotSignedInHeader","addChoice","App","onDragEnd","result","destination","orderedIds","indexOf","splice","i","containers_Header","Table","containers_SearchContainer","components_Footer","Boolean","hostname","_","require","initialState","reducer","action","choiceFoodsCopy","cloneDeep","push","now","toConsumableArray","removedChoice","choice_foods","_ret","newChoices","choicesIds","_loop","choiceId","v","daysCopy","dayCopy","newGoals","store","createStore","applyMiddleware","thunk","ReactDOM","render","es","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"6QAAaA,EAAM,qCAGNC,EAAU,iBAAO,CAC5BC,eAAe,mBACfC,OAAQ,mBACRC,cAAeC,aAAaC,QAAQ,SAArB,UAAAC,OAA0CF,aAAaC,QAAQ,UAAa,OCJhFE,EAAqB,SAACC,GACjC,OAAO,SAACC,GAEN,OADAA,EAAS,CAACC,KAAM,kBACTC,MAAK,GAAAL,OAAIP,EAAJ,sBAA6B,CACvCa,OAAQ,OACRC,QAASb,IACTc,KAAMC,KAAKC,UAAUR,KAEtBS,KAAK,SAAAC,GAAC,OAAIA,EAAEC,SACZF,KAAK,SAAAG,GAEJX,EAAS,CAACC,KAAM,iBAChBD,EAAS,CAAEC,KAAM,aAAcW,QAASD,QCiC/BE,cAbS,SAAAC,GACtB,MAAO,CACLC,IAAKD,EAAMC,MAIY,SAAAf,GACzB,MAAO,CACLgB,2BAA4B,SAAAC,GAAI,OAAIjB,GDvBGkB,ECuBiCD,EDrBnE,SAACjB,GAEN,OADAA,EAAS,CAACC,KAAM,kBACTC,MAAK,GAAAL,OAAIP,EAAJ,YAAmB,CAACa,OAAQ,OAAQC,QAASb,IAAWc,KAAMC,KAAKC,UAAUW,KACxFV,KAAK,SAAAC,GAAC,OAAIA,EAAEC,SACZF,KAAK,SAAAW,GAEJnB,EAAS,CAACC,KAAM,iBAChBD,EAAS,CAAEC,KAAM,aAAcW,QAASO,SATJ,IAACD,GCwBvCpB,mBAAoB,SAAAmB,GAAI,OAAIjB,EAASF,EAAmBmB,OAI7CJ,CA3CU,SAAAd,GAavB,OACEqB,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAeC,QAZP,WAEtBzB,EAAM0B,cACN1B,EAAM2B,YACH3B,EAAM4B,KAAKC,GACZ7B,EAAMiB,2BAA2B,CAACa,OAAQ9B,EAAM4B,KAAKC,GAAIE,WAAY/B,EAAM+B,WAAYC,MAAOhC,EAAMgB,IAAIa,KAExG7B,EAAMD,mBAAmB,CAACkC,MAAOjC,EAAM4B,KAAKK,MAAOF,WAAY/B,EAAM+B,WAAYC,MAAOhC,EAAMgB,IAAIa,OAMlGR,EAAAC,EAAAC,cAAA,QAAMC,UAAU,cAAcxB,EAAM4B,KAAKM,MAAQlC,EAAM4B,KAAKO,aAC3DnC,EAAM4B,KAAKQ,MAAQf,EAAAC,EAAAC,cAAA,QAAMC,UAAU,aAAhB,MAAgCxB,EAAM4B,KAAKQ,OAAgB,KAC9EpC,EAAM4B,KAAKS,WAAahB,EAAAC,EAAAC,cAAA,QAAMC,UAAU,aAAhB,MAAgCxB,EAAM4B,KAAKS,YAAqB,KACxFrC,EAAM4B,KAAKU,KAAOtC,EAAM4B,KAAKW,OAASvC,EAAM4B,KAAKY,QAClDnB,EAAAC,EAAAC,cAAA,MAAIC,UAAU,gBACZH,EAAAC,EAAAC,cAAA,kBAAUvB,EAAM4B,KAAKU,IAAIG,WACzBpB,EAAAC,EAAAC,cAAA,oBAAYvB,EAAM4B,KAAKW,MAAME,WAC7BpB,EAAAC,EAAAC,cAAA,sBAAcvB,EAAM4B,KAAKY,QAAQC,YAEjC,QCrBFC,6MAEJ3B,MAAQ,CACN4B,KAAM,GACNC,UAAW,GACXC,kBAAmB,GACnBC,OAAQ,GACRC,SAAU,GACVC,OAAO,EACPC,SAAS,EACTC,YAAa,EACbC,WAAY,EACZC,aAAa,EACbC,WAAY,MAGdC,kBAAoB,WAClBC,EAAKvD,MAAMwD,WAAW,IACrB/C,KAAK,SAAAC,GAAC,OAAIA,EAAEC,SACZF,KAAK,SAAAC,GACJ6C,EAAKE,SAAS,CAACb,UAAWlC,EAAEkC,iBAIhCY,WAAa,SAACb,GACZY,EAAKvD,MAAMwD,WAAWb,GACrBlC,KAAK,SAAAC,GAAC,OAAIA,EAAEC,SACZF,KAAK,SAAAC,GACJ6C,EAAKE,SAAS,CAACZ,kBAAmBnC,EAAEkC,YACjClC,EAAE2C,YAAYE,EAAKE,SAAS,CAACJ,WAAY3C,EAAE2C,kBAIlDK,aAAe,SAAAC,GACbJ,EAAKE,SAAS,CAACd,KAAMgB,EAAEC,OAAOC,QACD,IAA1BF,EAAEC,OAAOC,MAAMC,QAChBP,EAAKC,WAAW,IAChBD,EAAKQ,gBAELR,EAAKE,SAAS,CACZZ,kBAAmBU,EAAKxC,MAAM6B,UAAUoB,OAAO,SAAApC,GAC7C,IAAMqC,EAAaV,EAAKxC,MAAM4B,KAAKuB,cACnC,OAAOtC,EAAKM,KAAKgC,cAAcC,SAASF,IAAgBrC,EAAKQ,OAASR,EAAKQ,MAAM8B,cAAcC,SAASF,UAMhHG,aAAe,SAAAT,GACbA,EAAEU,iBACF,IAAMJ,EAAaK,mBAAmBf,EAAKxC,MAAM4B,MAC7CsB,IAEFV,EAAKE,SAAS,CAACX,OAAQ,KACvBS,EAAKvD,MAAMuE,eACXhB,EAAKC,WAAWS,GAChBV,EAAKiB,eAAeP,EAAY,OAkBpCF,aAAe,WACbR,EAAKE,SAAS,CACZZ,kBAAmB,GACnB4B,QAAS,GACT3B,OAAQ,GACRC,SAAU,GACVJ,KAAM,GACNK,OAAO,EACPE,YAAa,EACbC,WAAY,EACZE,WAAY,QAIhBqB,eAAiB,WACf,IAAMC,GAAO,IAAIC,MAAOC,WAClBxB,EAAaE,EAAKvD,MAAMqD,WAC9B,OAAIsB,EAAO,EAAUtB,EAAWyB,KAAK,SAAAC,GAAC,MAAe,cAAXA,EAAE7C,OAAsBL,IAAMwB,EAAW,GAC1EsB,EAAO,GAAWtB,EAAWyB,KAAK,SAAAC,GAAC,MAAe,UAAXA,EAAE7C,OAAkBL,IAAMwB,EAAW,GACzEA,EAAWyB,KAAK,SAAAC,GAAC,MAAe,WAAXA,EAAE7C,OAAmBL,IAAMwB,EAAW,MAGzE2B,qBAAuB,SAACpD,GACtB,OAAOP,EAAAC,EAAAC,cAAE0D,EAAF,CACPlD,WAAYwB,EAAKmB,iBACjBQ,IAAKtD,EAAKC,IAAMD,EAAKK,MACrBL,KAAMA,EACND,UAAW4B,EAAKQ,aAChBrC,YAAa6B,EAAK7B,iBAIpB0B,YAAc,WACZG,EAAKE,SAAS,CAACL,aAAa,OAG9B1B,YAAc,WACZ6B,EAAKE,SAAS,CAACL,aAAa,mFAnDf+B,GAA6B,IAAAC,EAAAC,KAAfC,EAAeC,UAAAzB,OAAA,QAAA0B,IAAAD,UAAA,GAAAA,UAAA,GAAF,EACxCF,KAAKrF,MAAMwE,eAAeW,EAAcG,GACvC7E,KAAK,SAAAC,GAAC,OAAIA,EAAEC,SACZF,KAAK,SAAAC,GACJ0E,EAAKpF,MAAMyF,cACP/E,EAAEoC,QAAUpC,EAAEoC,OAAOgB,OAAS,EAChCsB,EAAK3B,SAAS,CAACX,OAAQsC,EAAKrE,MAAM+B,OAAOhD,OAAOY,EAAEoC,QAASI,YAAaxC,EAAEgF,aAAcvC,WAAYzC,EAAEiF,cAGtGP,EAAK3B,SAAS,CAACT,MAAO,uDA6CpB,IAAA4C,EAAAP,KACN,OACEhE,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuE,SAAA,KACAxE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QAAQsE,MAAO,CAACC,QAASV,KAAKrF,MAAMgG,YAAYlC,OAAS,EAAI,OAAS,UACnFzC,EAAAC,EAAAC,cAAA,QAAMC,UAAU,aAAhB,eAEFH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mCAAmCyE,QAASZ,KAAKjC,aAC9D/B,EAAAC,EAAAC,cAAA,QAAM2E,SAAUb,KAAKjB,aAAc5C,UAAU,cAC3CH,EAAAC,EAAAC,cAAA,SAAOrB,KAAK,SAEV2D,MAAOwB,KAAKtE,MAAM4B,KAClBwD,SAAUd,KAAK3B,aACf0C,YAAY,yBACZ5E,UAAU,eAGZH,EAAAC,EAAAC,cAAA,SAAOrB,KAAK,QAAQmG,IAAI,kBAAkBC,IAAI,SAASpE,KAAK,SAASV,UAAU,6BAEjFH,EAAAC,EAAAC,cAAA,MAAIC,UAAW6D,KAAKtE,MAAMqC,YAAc,wBAA0B,+BAChE/B,EAAAC,EAAAC,cAAA,uBACC8D,KAAKtE,MAAMsE,KAAKtE,MAAM8B,kBAAkBiB,OAAS,GAAyB,KAApBuB,KAAKtE,MAAM4B,KAAc,oBAAsB,aAAa4D,IAAI,SAAA3E,GAAI,OAAIgE,EAAKZ,qBAAqBpD,KAGzJP,EAAAC,EAAAC,cAAA,0BACC8D,KAAKtE,MAAMgC,SAASwD,IAAI,SAAA3E,GAAI,OAAIgE,EAAKZ,qBAAqBpD,KAC1DyD,KAAKtE,MAAM+B,OAAOyD,IAAI,SAAA3E,GAAI,OAAIgE,EAAKZ,qBAAqBpD,KAExDyD,KAAKtE,MAAMmC,YAAcmC,KAAKtE,MAAMoC,WAErC9B,EAAAC,EAAAC,cAAA,MACAC,UAAU,wBACVC,QAAS,kBAAImE,EAAKpB,eAAeoB,EAAK7E,MAAM4B,KAAMiD,EAAK7E,MAAMmC,YAAc,KAF3E,wBAIwBmC,KAAKtE,MAAMmC,YAAYmC,KAAKtE,MAAMoC,WAAW,KAAKV,UAJ1E,gBAOA,KAGC4C,KAAKtE,MAAMiC,MAAQ3B,EAAAC,EAAAC,cAAA,UAAK8D,KAAKtE,MAAMiC,OAAc,KACjDqC,KAAKrF,MAAMwG,QAAQ1C,OAAS,EAE3BzC,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuE,SAAA,KACAxE,EAAAC,EAAAC,cAAA,8BACC8D,KAAKrF,MAAMwG,QAAQD,IAAI,SAAA3E,GAAI,OAAIgE,EAAKZ,qBAAqBpD,MAExD,eAhKgB6E,IAAMC,WAsLrB5F,cAbS,SAAAC,GACtB,OAAOA,GAGkB,SAAAd,GACzB,MAAO,CACLsE,aAAc,kBAAMtE,EAAS,CAACC,KAAM,mBACpCuF,YAAa,kBAAMxF,EAAS,CAACC,KAAM,kBACnCsE,eAAgB,SAACP,GAAD,IAAaqB,EAAbC,UAAAzB,OAAA,QAAA0B,IAAAD,UAAA,GAAAA,UAAA,GAA0B,EAA1B,OAAgCtF,EF3ItB,SAACgE,GAA+B,IAAnBqB,EAAmBC,UAAAzB,OAAA,QAAA0B,IAAAD,UAAA,GAAAA,UAAA,GAAN,EACtD,OAAO,SAAAtF,GACL,OAAOE,MAAK,GAAAL,OAAIP,EAAJ,kBAAAO,OAAwBmE,EAAxB,gBAAAnE,OAAiDwF,GAAc,CAACjF,QAASb,OEyI5BgF,CAAeP,EAAYqB,KACpF9B,WAAY,SAACS,GAAD,OAAgBhE,ECtKN,SAACgE,GACzB,OAAO,SAAAhE,GACL,OAAOE,MAAK,GAAAL,OAAIP,EAAJ,aAAAO,OAAmBmE,GAAc,CAAC5D,QAASb,ODoKlBgE,CAAWS,OAIrCnD,CAA6C4B,kBExLtDiE,6MAEJ5F,MAAQ,CACNS,UAAW,iBAUboF,gBAAkB,SAAAC,GAChB,IAAMC,EAASvD,EAAKvD,MAAMoB,WAAW2F,OAAOD,OACtCE,EAAUzD,EAAKvD,MAAMoB,WAAW6F,SAASnC,KAAK,SAAAC,GAAC,OAAIA,EAAElD,KAAO0B,EAAKvD,MAAMoB,WAAW2F,OAAOG,aAIzFC,EAHaL,EAASE,EAAQI,MACd7D,EAAKvD,MAAMoB,WAAWQ,KAAKyF,eAC3BL,EAAQF,OAAQE,EAAQF,OAAS,GAGvD,OAAQvD,EAAKvD,MAAMoB,WAAWQ,KAAKiF,GAASM,GAAU1E,aAGxD6E,WAAa,WAAoB,IAAnBzG,EAAmB0E,UAAAzB,OAAA,QAAA0B,IAAAD,UAAA,GAAAA,UAAA,GAAT,KACtBhC,EAAKvD,MAAMuH,aAAXC,OAAAC,EAAA,EAAAD,CAAA,GAA4BjE,EAAKvD,MAAMoB,WAAW2F,OAAWlG,OAG/D6G,mBAAqB,SAAC/D,GACpB,GAAIA,EAAEC,OAAOC,OAAS,EAAG,CACvB,IAEMhD,EAAU,CAACgB,GAFN0B,EAAKvD,MAAMoB,WAAW2F,OAAOlF,GAEfiF,OADVnD,EAAEC,OAAOC,OAExBN,EAAKvD,MAAM2H,WAAW,CAACZ,OAAQlG,QAInC+G,oBAAsB,SAACjE,GAUrB,IAEM9C,EAAU,CAACqG,WAFEW,SAASlE,EAAEC,OAAOC,OAEIhC,GAD9B0B,EAAKvD,MAAMoB,WAAW2F,OAAOlF,IAExC0B,EAAKvD,MAAM2H,WAAW,CAACZ,OAAQlG,IAC/B0C,EAAK+D,WAAWzG,MAGlBiH,iBAAmB,WAGjB,OAFiBvE,EAAKvD,MAAMoB,WAAW6F,SAEvBc,KAAK,SAAChD,EAAEiD,GAAH,OAASjD,EAAE7C,KAAO8F,EAAE9F,OAAMqE,IAAI,SAAAS,GACjD,OACE3F,EAAAC,EAAAC,cAAA,UAAQsC,MAAOmD,EAAQnF,GAAIqD,IAAK8B,EAAQnF,IAAMmF,EAAQ9E,WAK5D+F,aAAe,WAEb1E,EAAKE,SAAS,CAACjC,UAAW,gBAC1B0G,WAAW,WACT,IAAMrG,EAAK0B,EAAKvD,MAAMoB,WAAW2F,OAAOlF,GACxC0B,EAAKvD,MAAMiI,aAAapG,GACxB0B,EAAKvD,MAAMmI,cAActG,IACxB,QAGLuG,YAAc,WACZC,OAAOC,iBAAiB,eAAgB/E,EAAK+D,eAG/CiB,WAAa,WACXF,OAAOG,oBAAoB,eAAgBjF,EAAK+D,YAChD/D,EAAK+D,iGA1EY,IAAAlC,EAAAC,KACjBA,KAAK5B,SAAS,CAACjC,UAAW,kBAC1B0G,WAAW,WACT9C,EAAK3B,SAAS,CAACjC,UAAW,iBACzB,sCAyEG,IAAAoE,EAAAP,KACN,OACEhE,EAAAC,EAAAC,cAACkH,EAAA,EAAD,CACEC,YAAarD,KAAKrF,MAAMoB,WAAW2F,OAAOlF,GAC1C8G,MAAOtD,KAAKrF,MAAM2I,OAEjB,SAAAC,GAAQ,OACTvH,EAAAC,EAAAC,cAAA,KAAAiG,OAAAqB,OAAA,CACArH,UAAWoE,EAAK7E,MAAMS,WAClBoH,EAASE,eACTF,EAASG,gBAHb,CAIAC,IAAKJ,EAASK,SACdpH,GAAI+D,EAAK5F,MAAMoB,WAAW2F,OAAOlF,KAE/BR,EAAAC,EAAAC,cAAA,MAAIC,UAAU,QACZH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,cAAhB,UAEGoE,EAAK5F,MAAMoB,WAAWQ,KAAKM,KAAM0D,EAAK5F,MAAMoB,WAAWQ,KAAKQ,MAA3B,MAAAtC,OAAyC8F,EAAK5F,MAAMoB,WAAWQ,KAAKQ,OAAU,OAGpHf,EAAAC,EAAAC,cAAA,MAAIC,UAAU,UACVH,EAAAC,EAAAC,cAAA,SAAOrB,KAAK,SACZ8I,IAAK,SAACE,GAAYtD,EAAKuD,YAAcD,GACrCE,IAAI,IACJlH,KAAK,SACL2B,MAAO+B,EAAK5F,MAAMoB,WAAW2F,OAAOD,OACpCjF,GAAI+D,EAAK5F,MAAMoB,WAAW2F,OAAOlF,GACjCqD,IAAKU,EAAK5F,MAAMoB,WAAW2F,OAAOlF,GAClCsE,SAAUP,EAAK8B,mBACfzB,QAASL,EAAKwC,YACdiB,OAAQzD,EAAK2C,cAIjBlH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,WACVH,EAAAC,EAAAC,cAAA,UACAC,UAAU,GACVqC,MAAO+B,EAAK5F,MAAMoB,WAAW2F,OAAOG,WACpCf,SAAUP,EAAKgC,oBACf1F,KAAK,WAEF0D,EAAKkC,qBAGZzG,EAAAC,EAAAC,cAAA,MAAIC,UAAU,kBAAkBoE,EAAKgB,gBAAgB,aACrDvF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aAAaoE,EAAKgB,gBAAgB,QAChDvF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAeoE,EAAKgB,gBAAgB,UAClDvF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,iBAAiBoE,EAAKgB,gBAAgB,YACpDvF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,gBAAgBH,EAAAC,EAAAC,cAAA,UAAQE,QAASmE,EAAKqC,aAAczG,UAAU,4BAA4B8E,IAAI,iBAAgBjF,EAAAC,EAAAC,cAAA,OAAK8E,IAAI,iBAAiB7E,UAAU,eAAe8E,IAAI,8BAnIpKG,IAAMC,WAqJhB5F,cAAQ,KATI,SAAAb,GACzB,MAAO,CACLgI,aAAc,SAAApG,GAAE,OAAI5B,EAAS,CAAEC,KAAM,gBAAiBW,QAASgB,KAC/D8F,WAAY,SAAA2B,GAAI,OAAIrJ,EAAS,CAAEC,KAAM,cAAeW,QAASyI,KAC7D/B,aAAc,SAAA+B,GAAI,OAAIrJ,GCnJGsJ,EDmJmBD,EClJ9CE,QAAQC,IAAIF,GACL,SAAAtJ,GACL,OAAOE,MAAK,GAAAL,OAAIP,EAAJ,YAAAO,OAAkByJ,EAAU1H,IAAM,CAC5CzB,OAAQ,QACRC,QAASb,IACTc,KAAMC,KAAKC,UAAU,CAACuG,OAAQwC,SANR,IAACA,GDoJzBpB,cAAe,SAAAmB,GAAI,OAAIrJ,GCzIG4B,EDyIoByH,ECxIzC,SAAArJ,GACL,OAAOE,MAAK,GAAAL,OAAIP,EAAJ,aAAAO,OAAmB+B,GAAM,CAACzB,OAAQ,cAFrB,IAACyB,KD6Iff,CAAkC6F,GEjFlC7F,cATS,SAAAC,GACtB,MAAO,CAACiF,YAAajF,EAAMiF,cAGF,SAAA/F,GACzB,MAAO,IAIMa,CApEM,SAAAd,GAEnB,IAKM0J,EAAU,SAAC7C,GACf,IAAI8C,EAAM,EAcV,OAbA3J,EAAMgG,YAAYhC,OAAO,SAAA5C,GAAU,OAAIA,EAAW2F,OAAO6C,cAAgB5J,EAAM6J,SAAShI,KAAIiI,QAAQ,SAAA1I,GAIlG,IAAM0F,EAAS1F,EAAW2F,OAAOD,OAC3BE,EAAU5F,EAAW6F,SAASnC,KAAK,SAAAC,GAAC,OAAIA,EAAElD,KAAOT,EAAW2F,OAAOG,aAInEC,EAHaL,EAASE,EAAQI,MACdhG,EAAWQ,KAAKyF,eAChBL,EAAQF,OAAQE,EAAQF,OAAS,GAGvD6C,GAAQvI,EAAWQ,KAAKiF,GAASM,IAE5BwC,EAAIlH,WAGb,OACEpB,EAAAC,EAAAC,cAACkH,EAAA,EAAD,CAAWsB,YAAa/J,EAAM6J,SAAShI,IACtC,SAAC+G,GAAD,OACCvH,EAAAC,EAAAC,cAAA,MAAAiG,OAAAqB,OAAA,CAAKrH,UAAU,WACfwH,IAAKJ,EAASK,UACVL,EAASoB,gBAEX3I,EAAAC,EAAAC,cAAA,KAAGC,UAAU,qBAAqBxB,EAAM6J,SAAS3H,MA7BnClC,EAAMgG,YAAYhC,OAAO,SAAA+C,GAAM,OAAIA,EAAOA,OAAO6C,cAAgB5J,EAAM6J,SAAShI,KACjFkG,KAAK,SAAChD,EAAGiD,GAAJ,OAAUjD,EAAEgC,OAAO4B,MAAQX,EAAEjB,OAAO4B,QA6BnCpC,IAAI,SAACnF,EAAYuH,GAAb,OAAuBtH,EAAAC,EAAAC,cAAE0I,EAAF,CAE9C7I,WAAYA,EACZ8D,IAAK9D,EAAW2F,OAAOlF,GACvB8G,MAAOA,EACPV,aAAcjI,EAAMiI,iBAEnBW,EAASxC,YACV/E,EAAAC,EAAAC,cAAA,MACAC,UAAU,qBAERH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,sBACdH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aAAd,eACAH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,kBAAkBkI,EAAQ,aACxCrI,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aAAakI,EAAQ,QACnCrI,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAekI,EAAQ,UACrCrI,EAAAC,EAAAC,cAAA,MAAIC,UAAU,iBAAiBkI,EAAQ,YACvCrI,EAAAC,EAAAC,cAAA,MAAIC,UAAU,8BCrDX0I,EAAa,SAACC,GACzB,OAAO,SAAClK,GAGN,OAFAA,EAAS,CAACC,KAAM,kBAChBD,EAAS,CAACC,KAAM,YAAaW,QAASsJ,IAC/BhK,MAAK,GAAAL,OAAIP,EAAJ,WAAAO,OAAiBqK,EAAKtI,IAAM,CACtCzB,OAAQ,QACRC,QAASb,IACTc,KAAMC,KAAKC,UAAU,CAAC2J,WAEvB1J,KAAK,SAAAC,GAAC,OAAIT,EAAS,CAACC,KAAM,qBAIlBkK,EAAa,SAACd,GACzB,OAAO,SAACrJ,GAEN,OADAA,EAAS,CAACC,KAAM,kBACTC,MAAK,GAAAL,OAAIP,EAAJ,UAAiB,CAC3Ba,OAAQ,OACRC,QAASb,IACTc,KAAMC,KAAKC,UAAU8I,KAEtB7I,KAAK,SAAAC,GAAC,OAAIA,EAAEC,SACZF,KAAK,SAAA0J,GACJlK,EAAS,CAACC,KAAM,iBAChBD,EAAS,CAACC,KAAM,WAAYW,QAASsJ,QAK9BE,EAAa,SAAAxI,GACxB,OAAO,SAAA5B,GACL,OAAOE,MAAK,GAAAL,OAAIP,EAAJ,WAAAO,OAAiB+B,GAAM,CAACzB,OAAQ,SAAUC,QAASb,MAC9DiB,KAAK,SAAAC,GAAC,OAAIT,EAAS,CAACC,KAAM,cAAeW,QAASgB,QC9BjDyI,6MAEJvJ,MAAQ,CACNwJ,cAAc,EACdC,KAAM,KACNC,OAAQ,KACRC,OAAQ,KACRC,QAAS,KACTC,IAAK,KACLC,OAAQ,GACRC,cAAe,IACfC,oBAAqB,EACrBC,UAAW,0BACX1I,IAAK,GACLC,MAAO,GACPC,QAAS,MAGX4B,aAAe,SAACT,GAEd,IAAIsH,EAUAC,EAXJvH,EAAEU,iBAGA4G,EADE1H,EAAKxC,MAAM4J,SACDpH,EAAK4H,eAAiB5H,EAAK6H,WAAa,EAGzC7H,EAAK6H,UAGlBH,GAAsBI,WAAW9H,EAAKxC,MAAMgK,qBAGLG,EAApC3H,EAAKxC,MAAMgK,oBAAsB,EAAyB,cACrDxH,EAAKxC,MAAMgK,oBAAsB,EAAyB,cACvC,kBAE3BxH,EAAKvD,MAAMoK,WAAW,CACpBkB,SAAUL,EAASxI,UACnBH,KAAO2I,EAAWpD,SAAStE,EAAKxC,MAAMuB,KAAQ,KAAKG,UACnDF,OAAS0I,EAAWpD,SAAStE,EAAKxC,MAAMwB,OAAU,KAAKE,UACvDD,SAAWyI,EAAWpD,SAAStE,EAAKxC,MAAMyB,SAAY,KAAKC,UAC3DP,KAAI,GAAApC,OAAKyD,EAAKxC,MAAMiK,UAAhB,QAAAlL,OAAgCoL,GACpCK,QAAShI,EAAKvD,MAAMwL,KAAK3J,KAE3B0B,EAAKvD,MAAMyL,wBAGbN,aAAe,WAKb,OAFY,IAAO,OAFD5H,EAAKxC,MAAM2J,OAAUnH,EAAKxC,MAAM2J,QAAUnH,EAAKxC,MAAM4J,QAAU,MACpD,MAEVpH,EAAKxC,MAAM+J,iBAIhCM,QAAU,WAOR,OAFY,IAJK7H,EAAKxC,MAAM2J,OAAS,KAIT,MAH4C,MAApC,GAAlBnH,EAAKxC,MAAMyJ,KAAY3C,SAAStE,EAAKxC,MAAM0J,UAC5C,EAAIlH,EAAKxC,MAAM6J,KACLrH,EAAKxC,MAAM8J,OAAS,IAA3B,IAAkC,MAEnCtH,EAAKxC,MAAM+J,iBAIhCpH,aAAe,SAAAC,GACbJ,EAAKE,SAAL+D,OAAAkE,EAAA,EAAAlE,CAAA,GAAgB7D,EAAEC,OAAO1B,KAAOyB,EAAEC,OAAOC,WAG3C8H,oBAAsB,WAOpB,OAAOtK,EAAAC,EAAAC,cAAA,UAAQsC,MAAON,EAAKxC,MAAM+J,cAAetJ,UAAU,gBAAgBU,KAAK,gBAAgBiE,SAAU5C,EAAKG,cAN/F,CACb,CAACxB,KAAM,UAAW0J,QAAS,8CAA+CC,WAAY,KACtF,CAAC3J,KAAM,uBAAwB0J,QAAS,0DAA2DC,WAAY,OAC/G,CAAC3J,KAAM,0BAA2B0J,QAAS,gEAAiEC,WAAY,MACxH,CAAC3J,KAAM,oBAAqB0J,QAAS,sDAAuDC,WAAY,OACxG,CAAC3J,KAAM,qCAAsC0J,QAAS,wFAAyFC,WAAY,MAErJtF,IAAI,SAAAuF,GACR,OAAOzK,EAAAC,EAAAC,cAAA,UAAQW,KAAM4J,EAAI5J,KAAMgD,IAAK4G,EAAI5J,KAAM2B,MAAOiI,EAAID,YAAcC,EAAI5J,YAKjF6J,0BAA4B,WAM1B,OAAO1K,EAAAC,EAAAC,cAAA,UAAQsC,MAAON,EAAKxC,MAAMgK,oBAAqB7I,KAAK,sBAAsBiE,SAAU5C,EAAKG,cAL3E,CACnB,CAACxB,KAAM,4BAA6B2J,WAAY,MAChD,CAAC3J,KAAM,kBAAmB2J,WAAY,GACtC,CAAC3J,KAAM,4BAA6B2J,WAAY,MAGlCtF,IAAI,SAAA4D,GAAI,OAAI9I,EAAAC,EAAAC,cAAA,UAAQW,KAAMiI,EAAKjI,KAAMgD,IAAKiF,EAAKjI,KAAM2B,MAAOsG,EAAK0B,WAAYhK,GAAIsI,EAAK0B,YAAc1B,EAAKjI,YAI3H8J,iBAAmB,WACjB,IAAMC,EAAa,CACjB,CAAC/J,KAAM,0BAA2BI,IAAK,GAAIC,MAAO,GAAIC,QAAS,IAC/D,CAACN,KAAM,0BAA2BI,IAAK,GAAIC,MAAO,GAAIC,QAAS,IAC/D,CAACN,KAAM,kBAAmBI,IAAK,GAAIC,MAAO,EAAGC,QAAS,IACtD,CAACN,KAAM,wBAAyBI,IAAK,GAAIC,MAAO,GAAIC,QAAS,IAC7D,CAACN,KAAM,2CAA4CI,IAAK,GAAIC,MAAO,GAAIC,QAAS,IAChF,CAACN,KAAM,eAAgBI,IAAK,GAAIC,MAAO,GAAIC,QAAS,KAQtD,OAAOnB,EAAAC,EAAAC,cAAA,UAAQsC,MAAON,EAAKxC,MAAMiK,UAAW9I,KAAK,YAAYiE,SAL1C,SAACxC,GAClBJ,EAAKG,aAAaC,GAClB,IAAMuI,EAAcD,EAAWjI,OAAO,SAAAe,GAAC,OAAEA,EAAE7C,OAASyB,EAAEC,OAAOC,QAAO,GACpEN,EAAKE,SAAS,CAACnB,IAAK4J,EAAY5J,IAAKC,MAAO2J,EAAY3J,MAAOC,QAAS0J,EAAY1J,YAGnFyJ,EAAW1F,IAAI,SAAA4D,GAAI,OAAI9I,EAAAC,EAAAC,cAAA,UAAQW,KAAMiI,EAAKjI,KAAMgD,IAAKiF,EAAKjI,KAAM2B,MAAOsG,EAAKjI,MAAOiI,EAAKjI,kFAK3F,OACEb,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACbH,EAAAC,EAAAC,cAAA,6BACAF,EAAAC,EAAAC,cAAA,UAAQE,QAAS4D,KAAKrF,MAAMyL,oBAA5B,SACApK,EAAAC,EAAAC,cAAA,QAAM2E,SAAUb,KAAKjB,cACnB/C,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,uBACLF,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAAA,SAAO4K,UAAQ,EAACjM,KAAK,SAASkJ,IAAI,IAAIgD,IAAI,IAAIhG,YAAY,OAAOlE,KAAK,OAAOV,UAAU,SAAS2E,SAAUd,KAAK3B,eAC/GrC,EAAAC,EAAAC,cAAA,SAAO4K,UAAQ,EAACjM,KAAK,SAASkJ,IAAI,IAAIgD,IAAI,KAAKhG,YAAY,SAASlE,KAAK,SAASV,UAAU,SAAS2E,SAAUd,KAAK3B,iBAEtHrC,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,6BACLF,EAAAC,EAAAC,cAAA,SAAO4K,UAAQ,EAACjM,KAAK,SAASkJ,IAAI,IAAIgD,IAAI,OAAO5K,UAAU,YAAY4E,YAAY,SAASlE,KAAK,SAASiE,SAAUd,KAAK3B,gBACzHrC,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,2BACLF,EAAAC,EAAAC,cAAA,SAAOrB,KAAK,SAASkJ,IAAI,IAAIgD,IAAI,KAAK5K,UAAU,YAAY4E,YAAY,aAAalE,KAAK,UAAUiE,SAAUd,KAAK3B,gBACnHrC,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,oBACLF,EAAAC,EAAAC,cAAA,SAAO4K,UAAQ,EAACjM,KAAK,SAASkJ,IAAI,KAAKgD,IAAI,MAAMC,QAAQ,SAASjG,YAAY,MAAMlE,KAAK,MAAMiE,SAAUd,KAAK3B,gBAC9GrC,EAAAC,EAAAC,cAAA,SAAOC,UAAU,UAAjB,UACAH,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,UACnBH,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAAA,SAAOrB,KAAK,QAAQgC,KAAK,SAASiE,SAAUd,KAAK3B,eACjDrC,EAAAC,EAAAC,cAAA,uBAEFF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,kCACJ8D,KAAKsG,uBACNtK,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,6BACC8D,KAAK0G,6BAER1K,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,8BACC8D,KAAK2G,oBAER3K,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,gCACAF,EAAAC,EAAAC,cAAA,SAAOC,UAAU,yBAAjB,OACAH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,wBAAwBU,KAAK,MAAMhC,KAAK,SAAS2D,MAAOwB,KAAKtE,MAAMuB,IAAK6D,SAAUd,KAAK3B,eACxGrC,EAAAC,EAAAC,cAAA,SAAOC,UAAU,yBAAjB,SACAH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,wBAAwBU,KAAK,QAAQhC,KAAK,SAAS2D,MAAOwB,KAAKtE,MAAMwB,MAAO4D,SAAUd,KAAK3B,eAC5GrC,EAAAC,EAAAC,cAAA,SAAOC,UAAU,yBAAjB,WACAH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,wBAAwBU,KAAK,UAAUhC,KAAK,SAAS2D,MAAOwB,KAAKtE,MAAMyB,QAAS2D,SAAUd,KAAK3B,gBAElHrC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,SAAOM,GAAG,iBAAV,SACCgG,SAASxC,KAAKtE,MAAMuB,KAAOuF,SAASxC,KAAKtE,MAAMwB,OAASsF,SAASxC,KAAKtE,MAAMyB,SAF/E,KAIAnB,EAAAC,EAAAC,cAAA,SAAOrB,KAAK,SAAS2D,MAAM,6BA/JN4C,IAAMC,WAkLtB5F,cAZS,SAAAC,GACtB,MAAO,CACLyK,KAAMzK,EAAMyK,OAIW,SAAAvL,GACzB,MAAM,CACJmK,WAAY,SAACpK,GAAD,OAAWC,EAASmK,EAAWpK,OAIhCc,CAA6CwJ,GCpL/CgC,EAAY,WACvB,OAAO,SAACrM,GAGN,OADAA,EAAS,CAACC,KAAM,kBACTC,MAAK,GAAAL,OAAIP,EAAJ,SAAgB,CAC1Ba,OAAQ,OACRC,QAASb,IACTc,KAAMC,KAAKC,UAAU,CAAC+L,MAAO,IAAI3H,MAAQ4H,qBAE1C/L,KAAK,SAAAC,GAAC,OAAIA,EAAEC,SACZF,KAAK,SAAAO,GACJf,EAAS,CAACC,KAAM,iBAChBD,EAAS,CAAEC,KAAM,UAAWW,QAASG,QAK9ByL,EAAY,SAAC5K,GACxB,OAAO,SAAC5B,GAEN,OADAA,EAAS,CAACC,KAAM,kBACTC,MAAK,GAAAL,OAAIP,EAAJ,UAAAO,OAAgB+B,GAAM,CAACxB,QAASb,MAC3CiB,KAAK,SAAAC,GAAC,OAAIA,EAAEC,SACZF,KAAK,SAAAiM,GACJzM,EAAS,CAACC,KAAM,iBAChBD,EAAS,CAAEC,KAAM,aAAcW,QAAS6L,QAKjCC,EAAY,SAAA9K,GAEvB,OAAO,SAAA5B,GAEL,OADAA,EAAS,CAACC,KAAM,aAAcW,QAASgB,IAChC1B,MAAK,GAAAL,OAAIP,EAAJ,UAAAO,OAAgB+B,GAAM,CAACzB,OAAQ,SAAUC,QAASb,QAIrDoN,EAAY,SAAA5L,GACvB,OAAO,SAAAf,GACL,OAAOE,MAAK,GAAAL,OAAIP,EAAJ,SAAAO,OAAekB,EAAIa,IAAM,CACnCzB,OAAQ,QACRC,QAASb,IACTc,KAAMC,KAAKC,UAAUQ,OCtCrB6L,6MAEJ9L,MAAQ,CACN+L,kBAAkB,KAGpBC,cAAgB,WACd,IAAMC,EAAczJ,EAAKvD,MAAMiN,MAAMlF,KAAK,SAASzG,EAAE4L,GACnD,OAAI5L,EAAEY,KAAKgC,cAAgBgJ,EAAEhL,KAAKgC,cAAsB,EACpD5C,EAAEY,KAAKgC,cAAgBgJ,EAAEhL,KAAKgC,eAAuB,EAClD,IAET,OAAO7C,EAAAC,EAAAC,cAAA,UAAQsC,MAAON,EAAKvD,MAAMmK,KAAKtI,GAAIL,UAAU,cAAc2E,SAAU5C,EAAK4J,YAC9EH,EAAYzG,IAAI,SAAA4D,GAAI,OAAI9I,EAAAC,EAAAC,cAAA,UAAQsC,MAAOsG,EAAKtI,GAAIqD,IAAKiF,EAAKtI,IAAKsI,EAAKjI,YAIzEiL,WAAa,SAACxJ,GACZJ,EAAKvD,MAAMmN,WAAWxJ,EAAEC,OAAOC,OAC/BN,EAAKvD,MAAM4M,UAAU,CAAC/K,GAAI0B,EAAKvD,MAAMgB,IAAIa,GAAGuL,QAASzJ,EAAEC,OAAOC,WAGhEwJ,QAAU,WACR9J,EAAKvD,MAAMoK,WAAW,CACpBmB,QAAShI,EAAKvD,MAAMwL,KAAK3J,GACzByL,OAAQ/J,EAAKvD,MAAMgB,IAAIa,GACvBK,KAAM,WACNoJ,SAAU,EAAGhJ,IAAK,EAAGC,MAAO,EAAGC,QAAS,IAEzC/B,KAAK8C,EAAKgK,aAGbA,SAAW,WACThK,EAAKE,SAAS,CAACqJ,kBAAkB,OAGnCzC,WAAa,WACR9G,EAAKvD,MAAMiN,MAAMnJ,OAAS,GAC3BP,EAAKvD,MAAMqK,WAAW9G,EAAKvD,MAAMmK,KAAKtI,OAI1CuC,aAAe,SAACT,GACdA,EAAEU,iBACFd,EAAKE,SAAS,CAACqJ,kBAAkB,IACjCvJ,EAAKvD,MAAMkK,WAAW3G,EAAKvD,MAAMmK,SAGnCzG,aAAe,SAACC,GAEd,GAAqB,aAAlBA,EAAEC,OAAO1B,KACVqB,EAAKvD,MAAMuN,SAAX/F,OAAAkE,EAAA,EAAAlE,CAAA,GAAsB7D,EAAEC,OAAO1B,KAAOyB,EAAEC,OAAOC,YAC5C,KAAA2J,EACGrD,EAAI3C,OAAAC,EAAA,EAAAD,CAAA,GAAOjE,EAAKvD,MAAMmK,KAAlB3C,OAAAkE,EAAA,EAAAlE,CAAA,GAAyB7D,EAAEC,OAAO1B,KAAOyB,EAAEC,OAAOC,QAC5DN,EAAKvD,MAAMuN,UAAXC,EAAA,GAAAhG,OAAAkE,EAAA,EAAAlE,CAAAgG,EAAsB7J,EAAEC,OAAO1B,KAAOyB,EAAEC,OAAOC,OAA/C2D,OAAAkE,EAAA,EAAAlE,CAAAgG,EAAA,WAAmF,EAAnB3F,SAASsC,EAAK7H,KAA8B,EAArBuF,SAASsC,EAAK5H,OAAkC,EAAvBsF,SAASsC,EAAK3H,UAA9HgL,QAIJ/B,mBAAqB,WAAOlI,EAAKE,SAAS,CAACgK,sBAAuBlK,EAAKxC,MAAM0M,gGAG3E,OACEpM,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuE,SAAA,KAEAR,KAAKtE,MAAM+L,iBAEXzL,EAAAC,EAAAC,cAAA,QAAMC,UAAU,aAAa0E,SAAUb,KAAKjB,cAC1C/C,EAAAC,EAAAC,cAAA,MAAIC,UAAU,cAAaH,EAAAC,EAAAC,cAAA,0BAC3BF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eACZH,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,SAAOrB,KAAK,OAAOgC,KAAK,OAAOkE,YAAY,OAAOsH,aAAcrI,KAAKrF,MAAMmK,KAAKjI,KAAM2B,MAAOwB,KAAKtE,MAAMmB,KAAMiE,SAAUd,KAAK3B,iBAEpIrC,EAAAC,EAAAC,cAAA,MAAIC,UAAU,kBAAkBH,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,SAAOsC,MAAOwB,KAAKrF,MAAMmK,KAAKmB,SAAU9J,UAAU,WAAWmM,UAAQ,MAC1GtM,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aAAaH,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,SAAOrB,KAAK,SAASgC,KAAK,MAAMkH,IAAI,IAAIhD,YAAY,QAAQvC,MAAOwB,KAAKrF,MAAMmK,KAAK7H,IAAK6D,SAAUd,KAAK3B,iBACvIrC,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAeH,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,SAAOrB,KAAK,SAASgC,KAAK,QAAQkH,IAAI,IAAIhD,YAAY,QAAQvC,MAAOwB,KAAKrF,MAAMmK,KAAK5H,MAAO4D,SAAUd,KAAK3B,iBAC7IrC,EAAAC,EAAAC,cAAA,MAAIC,UAAU,iBAAiBH,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,SAAOrB,KAAK,SAASgC,KAAK,UAAUkH,IAAI,IAAIhD,YAAY,QAAQvC,MAAOwB,KAAKrF,MAAMmK,KAAK3H,QAAS2D,SAAUd,KAAK3B,iBACnJrC,EAAAC,EAAAC,cAAA,MAAIC,UAAU,cAAaH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,aAAatB,KAAK,SAAS2D,MAAM,aAG/ExC,EAAAC,EAAAC,cAAA,MAAIC,UAAU,cACZH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,cAAaH,EAAAC,EAAAC,cAAA,sBAC3BF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAcH,EAAAC,EAAAC,cAAA,WAAM8D,KAAK0H,kBACvC1L,EAAAC,EAAAC,cAAA,MAAIC,UAAU,kBAAkBH,EAAAC,EAAAC,cAAA,WAAM8D,KAAKrF,MAAMmK,KAAKmB,WACtDjK,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aAAaH,EAAAC,EAAAC,cAAA,WAAM8D,KAAKrF,MAAMmK,KAAK7H,MACjDjB,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAeH,EAAAC,EAAAC,cAAA,WAAM8D,KAAKrF,MAAMmK,KAAK5H,QACnDlB,EAAAC,EAAAC,cAAA,MAAIC,UAAU,iBAAiBH,EAAAC,EAAAC,cAAA,WAAM8D,KAAKrF,MAAMmK,KAAK3H,UACrDnB,EAAAC,EAAAC,cAAA,QAAMC,UAAU,YACdH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,QAAOH,EAAAC,EAAAC,cAAA,aAAOF,EAAAC,EAAAC,cAAA,aAAOF,EAAAC,EAAAC,cAAA,cACrCF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,oBACZH,EAAAC,EAAAC,cAAA,MAAIE,QAAS4D,KAAKgI,SAAShM,EAAAC,EAAAC,cAAA,cAAQF,EAAAC,EAAAC,cAAA,OAAK8E,IAAI,sBAAsB7E,UAAU,oBAAoB8E,IAAI,kBAApG,YACAjF,EAAAC,EAAAC,cAAA,MAAIE,QAAS4D,KAAKkI,UAAUlM,EAAAC,EAAAC,cAAA,cAAQF,EAAAC,EAAAC,cAAA,OAAK8E,IAAI,gBAAgB7E,UAAU,sBAAsB8E,IAAI,eAAjG,aACCjB,KAAKrF,MAAMiN,MAAMnJ,OAAS,EAC3BzC,EAAAC,EAAAC,cAAA,MAAIE,QAAS4D,KAAKgF,YAAYhJ,EAAAC,EAAAC,cAAA,cAAQF,EAAAC,EAAAC,cAAA,OAAK8E,IAAI,iBAAiB7E,UAAU,4BAA4B8E,IAAI,mBAA1G,eACE,KACFjF,EAAAC,EAAAC,cAAA,MAAIE,QAAS4D,KAAKoG,oBAAoBpK,EAAAC,EAAAC,cAAA,wBAAtC,wBAKRF,EAAAC,EAAAC,cAAA,OACEuE,MAAO,CAACC,QAASV,KAAKtE,MAAM0M,qBAAuB,QAAU,SAE7DpM,EAAAC,EAAAC,cAAEqM,EAAF,CAAmBnC,mBAAoBpG,KAAKoG,8BArG3BhF,IAAMC,WA2Hd5F,cAfS,SAAAC,GACtB,OAAOA,GAGkB,SAAAd,GACzB,MAAO,CACLkN,WAAY,SAACtL,GAAD,OAAQ5B,EAAS,CAAEC,KAAM,cAAeW,QAASgB,KAC7DqI,WAAY,SAACC,GAAD,OAAUlK,EAASiK,EAAWC,KAC1CC,WAAY,SAACyD,GAAD,OAAY5N,EAASmK,EAAWyD,KAC5CxD,WAAY,SAAAxI,GAAE,OAAI5B,EAASoK,EAAWxI,KACtC0L,SAAU,SAAAjE,GAAI,OAAIrJ,EAAS,CAAEC,KAAM,YAAaW,QAASyI,KACzDsD,UAAW,SAAAtD,GAAI,OAAIrJ,EAAS2M,EAAUtD,OAI3BxI,CAA6C+L,GC/H/CiB,EAAU,SAAC/M,GACtB,OAAO,SAACd,GAEN,OADAA,EAAS,CAACC,KAAM,kBACTC,MAAK,GAAAL,OAAIP,EAAJ,YAAmB,CAC7Ba,OAAQ,QACRC,QAASb,IACTc,KAAMC,KAAKC,UAAUO,KAEtBN,KAAK,SAAAC,GAAC,OAAIT,EAAS,CAACC,KAAM,qBC8GhBY,cAnBS,SAACC,GAEvB,OAAOA,GAGkB,SAAAd,GACzB,MAAO,CACL8N,WAAY,SAACC,GAAD,OAAa/N,EAAS,CAAEC,KAAM,cAAeW,QAASmN,KAClEC,WAAY,SAACzC,GAAD,OAAUvL,EAAS,CAAEC,KAAM,cAAeW,QAAS2K,KAC/D+B,SAAU,SAACjE,GAAD,OAAUrJ,EAAS,CAAEC,KAAM,YAAaW,QAASyI,KAC3D6D,WAAY,SAACtL,GAAD,OAAQ5B,EAAS,CAAEC,KAAM,cAAeW,QAASgB,KAC7DqI,WAAY,SAACC,GAAD,OAAUlK,EAASiK,EAAWC,KAC1CC,WAAY,SAACrJ,GAAD,OAAWd,EAASmK,EAAWrJ,KAC3C+M,QAAS,SAAC/M,GAAD,OAAWd,EAAS6N,EAAQ/M,KACrCmN,aAAc,SAAChM,GAAD,OAAUjC,EAAS,CAAEC,KAAM,iBAAkBW,QAASqB,KACpEmI,WAAY,SAAAxI,GAAE,OAAI5B,EAASoK,EAAWxI,OAI3Bf,CA/GS,SAAAd,GAEtB,IAAM0J,EAAU,SAAC7C,GACf,IAAI8C,EAAM,EAaV,OAZA3J,EAAMgG,YAAY8D,QAAQ,SAAA1I,GAIxB,IAAM0F,EAAS1F,EAAW2F,OAAOD,QAAU,EACrCE,EAAU5F,EAAW6F,SAASnC,KAAK,SAAAC,GAAC,OAAIA,EAAElD,KAAOT,EAAW2F,OAAOG,aAInEC,EAHaL,EAASE,EAAQI,MACfhG,EAAWQ,KAAKyF,eACfL,EAAQF,OAASE,EAAQF,OAAS,GAExD6C,GAAOvI,EAAWQ,KAAKiF,GAASM,IAE3BwC,EAAIlH,WAGP0L,EACJ9M,EAAAC,EAAAC,cAAA,MAAIC,UAAU,YACZH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,QAAOH,EAAAC,EAAAC,cAAA,oBACrBF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,UAASH,EAAAC,EAAAC,cAAA,sBACvBF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,WAAWH,EAAAC,EAAAC,cAAA,uBACzBF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,kBAAkBH,EAAAC,EAAAC,cAAA,wBAChCF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aAAaH,EAAAC,EAAAC,cAAA,mBAC3BF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAeH,EAAAC,EAAAC,cAAA,qBAC7BF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,iBAAiBH,EAAAC,EAAAC,cAAA,uBAC/BF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,kBAGZ4M,EAAkB,SAACvH,GAEvB,OAAK7G,EAAMwL,KAAK6C,MACZ3E,EAAQ7C,GAAS7G,EAAMmK,KAAKtD,GAAS,EAChC,QACA6C,EAAQ7C,GAAS7G,EAAMmK,KAAKtD,GAAS,EACrC,OACI,OALiB,MAgChC,OACExF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACZ5B,aAAaC,QAAQ,SAAWwB,EAAAC,EAAAC,cAAE+M,EAAF,MAC/BjN,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACfH,EAAAC,EAAAC,cAAA,4BACAF,EAAAC,EAAAC,cAAA,4CACAF,EAAAC,EAAAC,cAAA,YA7BIF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,kBACpBH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,UAASH,EAAAC,EAAAC,cAAA,wBACvBF,EAAAC,EAAAC,cAAA,MAAIC,UAAS,iBAAoB4E,YAAY,SAASsD,EAAQ,aAC9DrI,EAAAC,EAAAC,cAAA,MAAIC,UAAS,aAAA1B,OAAesO,EAAgB,SAAW1E,EAAQ,QAC/DrI,EAAAC,EAAAC,cAAA,MAAIC,UAAS,eAAA1B,OAAiBsO,EAAgB,WAAa1E,EAAQ,UACnErI,EAAAC,EAAAC,cAAA,MAAIC,UAAS,iBAAA1B,OAAmBsO,EAAgB,aAAe1E,EAAQ,YACvErI,EAAAC,EAAAC,cAAA,MAAIC,UAAU,kBAII,WACpB,GAAG5B,aAAaC,QAAQ,SACtB,OAAQwB,EAAAC,EAAAC,cAAA,MAAIC,UAAU,kBACpBH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,UAASH,EAAAC,EAAAC,cAAA,2BACvBF,EAAAC,EAAAC,cAAA,MAAIC,UAAS,iBAAoB4E,YAAY,SAAUpG,EAAMmK,KAAKmB,SAAW5B,EAAQ,aAAgB,GACrGrI,EAAAC,EAAAC,cAAA,MAAIC,UAAS,aAAA1B,OAAesO,EAAgB,SAAYpO,EAAMmK,KAAK7H,IAAMoH,EAAQ,QAAW,GAC5FrI,EAAAC,EAAAC,cAAA,MAAIC,UAAS,eAAA1B,OAAiBsO,EAAgB,WAAcpO,EAAMmK,KAAK5H,MAAQmH,EAAQ,UAAa,GACpGrI,EAAAC,EAAAC,cAAA,MAAIC,UAAS,iBAAA1B,OAAmBsO,EAAgB,aAAgBpO,EAAMmK,KAAK3H,QAAUkH,EAAQ,YAAe,GAC5GrI,EAAAC,EAAAC,cAAA,MAAIC,UAAU,kBAef+M,GACAJ,EACD9M,EAAAC,EAAAC,cAAA,OAAKC,UAAU,2BACZxB,EAAMqD,WAAW0E,KAAK,SAAChD,EAAGiD,GAAJ,OAAUjD,EAAE4D,MAAQX,EAAEW,QAAOpC,IAAI,SAAAsD,GACtD,OAAOxI,EAAAC,EAAAC,cAACiN,EAAD,CAAc3E,SAAUA,EAAU3E,IAAK2E,EAAShI,QAM1D7B,EAAMyO,QAASpN,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YAAmB,QC/E3CkN,EAAS,WACpB,OAAO,SAACzO,GAEN,OADAA,EAAS,CAACC,KAAM,kBACTC,MAAK,GAAAL,OAAIP,EAAJ,WAAkB,CAC5Ba,OAAQ,OACRC,QAASb,MAEViB,KAAK,SAAAkO,GACJ,OAAOA,EAAShO,SAEjBF,KAAK,SAAAmO,GAEJ3O,EAAS,CAACC,KAAM,iBACZ0O,EAAWpD,MAAQoD,EAAWC,KAEhC5O,EAAS,CAAEC,KAAM,cAAeW,QAAS+N,QC1B3CE,6MAEJ/N,MAAQ,CACNmB,KAAM,GACNE,MAAO,GACP2M,oBAAqB,GACrBC,kBAAmB,GACnB3H,cAAe,GACfiE,SAAU,GACVhJ,IAAK,GACLC,MAAO,GACPC,QAAS,GACTyM,YAAa,GACbC,cAAe,GACfC,UAAW,GACXC,cAAe,GACfC,OAAQ,GACRC,OAAQ,GACRC,UAAW,GACXC,IAAK,GACLxM,MAAO,MAGTU,aAAe,SAACC,GAEdJ,EAAKE,SAAL+D,OAAAkE,EAAA,EAAAlE,CAAA,GAAgB7D,EAAEC,OAAO1B,KAAOyB,EAAEC,OAAOC,WAG3CO,aAAe,SAAAT,GACbA,EAAEU,iBACF,IAAMoL,EAAIlM,EAAKxC,MACX0O,EAAEvN,MAAQuN,EAAEV,qBAAuBU,EAAET,mBAAqBS,EAAEpI,eAAiBoI,EAAEnE,UAAYmE,EAAEnN,KAAOmN,EAAElN,OAASkN,EAAEjN,SACnHe,EAAKvD,MAAM0P,WAAXlI,OAAAC,EAAA,EAAAD,CAAA,GAA0BjE,EAAKxC,MAA/B,CAAsCgB,WAAYwB,EAAKvD,MAAM+B,WAAYC,MAAOuB,EAAKvD,MAAMgB,IAAIa,MAC/F0B,EAAKvD,MAAM2P,oBACXpM,EAAKE,SAAS,CACZvB,KAAM,GACNE,MAAO,GACP2M,oBAAqB,GACrBC,kBAAmB,GACnB3H,cAAe,GACfiE,SAAU,GACVhJ,IAAK,GACLC,MAAO,GACPC,QAAS,GACTyM,YAAa,GACbC,cAAe,GACfC,UAAW,GACXC,cAAe,GACfC,OAAQ,GACRC,OAAQ,GACRC,UAAW,GACXC,IAAK,MAGPjM,EAAKE,SAAS,CAACT,MAAO,yGAIlB,IAAAoC,EAAAC,KACN,OACEhE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBAAsBsE,MAAO,CAACC,QAASV,KAAKrF,MAAM4P,gBAAkB,QAAU,SAC7FvO,EAAAC,EAAAC,cAAA,UAAQC,UAAU,cAAcC,QAAS4D,KAAKrF,MAAM2P,mBAApD,SACAtO,EAAAC,EAAAC,cAAA,QAAM2E,SAAUb,KAAKjB,aAAc5C,UAAU,YAC1C6D,KAAKtE,MAAMiC,MAAQ3B,EAAAC,EAAAC,cAAA,KAAGC,UAAU,gBAAgB6D,KAAKtE,MAAMiC,OAAa,KACzE3B,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eACZH,EAAAC,EAAAC,cAAA,UACAF,EAAAC,EAAAC,cAAA,0BACAF,EAAAC,EAAAC,cAAA,SAAOrB,KAAK,OAAO2D,MAAOwB,KAAKtE,MAAMmB,KAAMiE,SAAUd,KAAK3B,aAAcxB,KAAK,OAAOkE,YAAY,eAEhG/E,EAAAC,EAAAC,cAAA,UACAF,EAAAC,EAAAC,cAAA,iCACAF,EAAAC,EAAAC,cAAA,SAAOrB,KAAK,OAAO2D,MAAOwB,KAAKtE,MAAMqB,MAAO+D,SAAUd,KAAK3B,aAAcxB,KAAK,QAAQkE,YAAY,2BAElG/E,EAAAC,EAAAC,cAAA,UACAF,EAAAC,EAAAC,cAAA,+BACAF,EAAAC,EAAAC,cAAA,SAAOrB,KAAK,SAAS2P,KAAK,MAAMzG,IAAI,MAAMvF,MAAOwB,KAAKtE,MAAMgO,oBAAqB5I,SAAUd,KAAK3B,aAAcxB,KAAK,sBAAsBkE,YAAY,oBAErJ/E,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,6BACAF,EAAAC,EAAAC,cAAA,SAAOrB,KAAK,OAAO4P,KAAK,QAAQ5N,KAAK,oBAAoB2B,MAAOwB,KAAKtE,MAAMiO,kBAAmB7I,SAAUd,KAAK3B,aAAc0C,YAAY,SACvI/E,EAAAC,EAAAC,cAAA,YAAUM,GAAG,SACV,CAAC,OAAO,OAAO,MAAM,MAAM,UAAU,QAAS,QAAS,SAAU,SAAS0E,IAAI,SAAAS,GAC7E,OAAO3F,EAAAC,EAAAC,cAAA,UAAQsC,MAAOmD,EAAS9B,IAAK8B,EAAS9E,KAAK,WAAY8E,EAAvD,SAIb3F,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,iCACAF,EAAAC,EAAAC,cAAA,SAAOrB,KAAK,SAAS2P,KAAK,MAAMzG,IAAI,MAAMvF,MAAOwB,KAAKtE,MAAMsG,cAAelB,SAAUd,KAAK3B,aAAcxB,KAAK,gBAAgBkE,YAAY,mBAG3I/E,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,yBACAF,EAAAC,EAAAC,cAAA,SAAOrB,KAAK,SAAS2P,KAAK,MAAMzG,IAAI,IAAIvF,MAAOwB,KAAKtE,MAAMuK,SAAUnF,SAAUd,KAAK3B,aAAcxB,KAAK,WAAWkE,YAAY,cAE/H/E,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,oBACAF,EAAAC,EAAAC,cAAA,SAAOrB,KAAK,SAAS2P,KAAK,MAAMzG,IAAI,IAAIvF,MAAOwB,KAAKtE,MAAMuB,IAAK6D,SAAUd,KAAK3B,aAAcxB,KAAK,MAAMkE,YAAY,SAErH/E,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,sBACAF,EAAAC,EAAAC,cAAA,SAAOrB,KAAK,SAAS2P,KAAK,MAAMzG,IAAI,IAAIvF,MAAOwB,KAAKtE,MAAMwB,MAAO4D,SAAUd,KAAK3B,aAAcxB,KAAK,QAAQkE,YAAY,WAEzH/E,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,wBACAF,EAAAC,EAAAC,cAAA,SAAOrB,KAAK,SAAS2P,KAAK,MAAMzG,IAAI,IAAIvF,MAAOwB,KAAKtE,MAAMyB,QAAS2D,SAAUd,KAAK3B,aAAcxB,KAAK,UAAUkE,YAAY,aAE7H/E,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,SAAOrB,KAAK,aAGhBmB,EAAAC,EAAAC,cAAA,OAAKE,QAAS,kBAAM2D,EAAK3B,SAAS,CAACsM,cAAe3K,EAAKrE,MAAMgP,gBAAgBvO,UAAU,YACpF6D,KAAKtE,MAAMgP,aAAe,0CAAkC,0CAE/D1O,EAAAC,EAAAC,cAAA,MAAIC,UAAU,cAAcsE,MAAO,CAACC,QAASV,KAAKtE,MAAMgP,aAAe,OAAS,SAC9E1O,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,8BACAF,EAAAC,EAAAC,cAAA,SAAOrB,KAAK,SAAS2P,KAAK,MAAMzG,IAAI,IAAIvF,MAAOwB,KAAKtE,MAAMqO,cAAejJ,SAAUd,KAAK3B,aAAcxB,KAAK,gBAAgBkE,YAAY,mBAEzI/E,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAAA,SAAOrB,KAAK,SAAS2P,KAAK,MAAMzG,IAAI,IAAIvF,MAAOwB,KAAKtE,MAAMuO,OAAQnJ,SAAUd,KAAK3B,aAAcxB,KAAK,SAASkE,YAAY,YAE3H/E,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,8BACAF,EAAAC,EAAAC,cAAA,SAAOrB,KAAK,SAAS2P,KAAK,MAAMzG,IAAI,IAAIvF,MAAOwB,KAAKtE,MAAMmO,cAAe/I,SAAUd,KAAK3B,aAAcxB,KAAK,gBAAgBkE,YAAY,mBAEzI/E,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAAA,SAAOrB,KAAK,SAAS2P,KAAK,MAAMzG,IAAI,IAAIvF,MAAOwB,KAAKtE,MAAMsO,OAAQlJ,SAAUd,KAAK3B,aAAcxB,KAAK,SAASkE,YAAY,YAE3H/E,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,4BACAF,EAAAC,EAAAC,cAAA,SAAOrB,KAAK,SAAS2P,KAAK,MAAMzG,IAAI,IAAIvF,MAAOwB,KAAKtE,MAAMkO,YAAa9I,SAAUd,KAAK3B,aAAcxB,KAAK,cAAckE,YAAY,iBAErI/E,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,0BACAF,EAAAC,EAAAC,cAAA,SAAOrB,KAAK,SAAS2P,KAAK,MAAMzG,IAAI,IAAIvF,MAAOwB,KAAKtE,MAAMoO,UAAWhJ,SAAUd,KAAK3B,aAAcxB,KAAK,YAAYkE,YAAY,eAEjI/E,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,0BACAF,EAAAC,EAAAC,cAAA,SAAOrB,KAAK,SAAS2P,KAAK,MAAMzG,IAAI,IAAIvF,MAAOwB,KAAKtE,MAAMwO,UAAWpJ,SAAUd,KAAK3B,aAAcxB,KAAK,YAAYkE,YAAY,eAEjI/E,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,+BACAF,EAAAC,EAAAC,cAAA,SAAOrB,KAAK,SAAS2P,KAAK,MAAMzG,IAAI,IAAIvF,MAAOwB,KAAKtE,MAAMyO,IAAKrJ,SAAUd,KAAK3B,aAAcxB,KAAK,MAAMkE,YAAY,cAErH/E,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,SAAOrB,KAAK,sBArJGuG,IAAMC,WA2KlB5F,cAbS,SAAAC,GACtB,MAAO,CACLC,IAAID,EAAMC,MAIa,SAAAf,GACzB,MAAO,CACLyP,WAAY,SAAC9N,GAAD,OAAU3B,EXxKA,SAAC2B,GAEzB,OAAO,SAAC3B,GAEN,OADAA,EAAS,CAACC,KAAM,kBACTC,MAAK,GAAAL,OAAIP,EAAJ,UAAiB,CAC3Ba,OAAQ,OACRC,QAASb,IACTc,KAAMC,KAAKC,UAAUoB,KAEtBnB,KAAK,SAAAC,GAAC,OAAIA,EAAEC,SACZF,KAAK,SAAAW,GACJnB,EAAS,CAACC,KAAM,iBAChBD,EAAS,CAACC,KAAM,WAAYW,QAASO,OW4JRsO,CAAW9N,OAK/Bd,CAA6CgO,GCxKtDkB,6MAEJjP,MAAQ,CACNkP,SAAU,GACV5B,MAAO,GACP6B,gBAAiB,GACjBC,SAAU,GACVC,QAAQ,EACRlO,KAAM,KACNqK,KAAM,KACN8D,SAAS,KAGXC,cAAgB,WACd/M,EAAKE,SAAS,CACZwM,SAAU,GACV5B,MAAO,GACP6B,gBAAiB,GACjBC,SAAU,GACVC,QAAQ,EACRlO,KAAM,KACNqK,KAAM,KACN8D,SAAS,IAEXzQ,aAAa2Q,WAAW,SACxBhN,EAAKvD,MAAMwQ,aAGbC,iBAAmB,SAACC,GAClB,IAAM1P,EAAM0P,EAAOnE,KAOnB,MAAO,GAAAzM,OAAGkB,EAAI2P,MAAM,EAAE,GAAf,KAAA7Q,OAAqBkB,EAAI2P,MAAM,EAAE,IAAjC,KAAA7Q,OAAwCkB,EAAI2P,MAAM,EAAE,KAAQD,EAAOxO,KAAP,IAAApC,OAAkB4Q,EAAOxO,MAAS,OAGvG0O,WAAa,WAGX,OADarN,EAAKvD,MAAM6Q,KAAK9I,KAAK,SAAChD,EAAGiD,GAAJ,OAAU,IAAIpD,KAAKoD,EAAEuE,MAAQ,IAAI3H,KAAKG,EAAEwH,QAC9DhG,IAAI,SAAAvF,GACd,OAAOK,EAAAC,EAAAC,cAAA,UAAQsC,MAAO7C,EAAIa,GAAIqD,IAAKlE,EAAIa,IAAM0B,EAAKkN,iBAAiBzP,SAIvEqP,QAAU,WACR9M,EAAKE,SAAS,CAAC4M,SAAS,OAG1BS,oBAAsB,SAACnN,GACrBJ,EAAKE,SAAL+D,OAAAkE,EAAA,EAAAlE,CAAA,GAAgB7D,EAAEC,OAAO1B,KAAOyB,EAAEC,OAAOC,WAG3C+I,UAAY,SAACjJ,GAGX,GAFAA,EAAEU,iBACFd,EAAKE,SAAS,CAAC4M,SAAS,EAAOnO,KAAM,KAAMqK,KAAM,OAC5ChJ,EAAKxC,MAAMmB,OAASqB,EAAKvD,MAAMgB,IAAIkB,MAAUqB,EAAKxC,MAAMwL,MAAQhJ,EAAKxC,MAAMwL,OAAShJ,EAAKvD,MAAMgB,IAAIuL,KAAO,CAC7G,IAAMvL,EAAGwG,OAAAC,EAAA,EAAAD,CAAA,GAAOjE,EAAKvD,MAAMgB,IAAlB,CAAuBkB,KAAMqB,EAAKxC,MAAMmB,MAAQqB,EAAKvD,MAAMgB,IAAIkB,KAAMqK,KAAMhJ,EAAKxC,MAAMwL,MAAQhJ,EAAKvD,MAAMgB,IAAIuL,OACtHhJ,EAAKvD,MAAMqQ,QAAQrP,GACnBuC,EAAKvD,MAAM4M,UAAU5L,OAIzB+P,iBAAmB,SAAApN,GAEjBJ,EAAKvD,MAAMyM,UAAU9I,EAAEC,OAAOC,UAGhCmN,WAAa,WACX,IAAMzE,EAAO,IAAI3H,KACXqM,EAAO1E,EAAK2E,cACdC,EAAQ5E,EAAK6E,WAAa,EAC1BpQ,EAAMuL,EAAK8E,UAGf,OAFIF,EAAQ,KAAKA,EAAK,IAAArR,OAAOqR,IACzBnQ,EAAM,KAAKA,EAAG,IAAAlB,OAAOkB,IACzB,GAAAlB,OAAUmR,EAAV,KAAAnR,OAAkBqR,EAAlB,KAAArR,OAA2BkB,MAG7B2L,UAAY,WACV,GAAIpJ,EAAKvD,MAAM6Q,KAAK/M,OAAS,GAAKuE,OAAOiJ,QAAQ,6CAA8C,CAC7F,IAAMC,EAAahO,EAAKvD,MAAM6Q,KAAK7M,OAAO,SAAAe,GAAC,OAAIA,EAAElD,KAAO0B,EAAKvD,MAAMgB,IAAIa,KAAI,GAC3E0B,EAAKvD,MAAMyM,UAAU8E,EAAW1P,IAChC0B,EAAKvD,MAAM2M,UAAUpJ,EAAKvD,MAAMgB,IAAIa,QAIxC8N,kBAAoB,WAClBpM,EAAKE,SAAS,CAACmM,iBAAkBrM,EAAKxC,MAAM6O,qBAG9C4B,QAAU,WACRjO,EAAKvD,MAAMwR,QAAQjO,EAAKvD,MAAMgB,IAAIa,6EAKlC,OACER,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cAAaH,EAAAC,EAAAC,cAAA,OAAK8E,IAAI,sBAAsB7E,UAAU,aAAa8E,IAAI,gBACpFjF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACbH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aACZH,EAAAC,EAAAC,cAAA,UAAK8D,KAAKrF,MAAMwL,KAAKyE,UACrB5O,EAAAC,EAAAC,cAAA,MAAIE,QAAS4D,KAAKsK,kBAAmBnO,UAAU,aAA/C,wBACAH,EAAAC,EAAAC,cAAEkQ,EAAF,CAAe7B,gBAAiBvK,KAAKtE,MAAM6O,gBAAiBD,kBAAmBtK,KAAKsK,kBAAmB5N,WAAYsD,KAAKrF,MAAMqD,WAAW,GAAGxB,KAC5IR,EAAAC,EAAAC,cAAA,MAAIC,UAAU,qBAAoBH,EAAAC,EAAAC,cAAA,KAAGmQ,KAAK,+BAAR,YAClCrQ,EAAAC,EAAAC,cAAA,MAAIC,UAAU,oBAAoBC,QAAS4D,KAAKiL,eAAhD,gBAKRjP,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACZ6D,KAAKtE,MAAMsP,QAEZhP,EAAAC,EAAAC,cAAA,QAAMC,UAAU,UAAU0E,SAAUb,KAAKuH,WACvCvL,EAAAC,EAAAC,cAAA,SAAOrB,KAAK,OAAOgC,KAAK,OAAOkE,YAAY,OAAOsH,aAAcrI,KAAKrF,MAAMgB,IAAIkB,KAAM2B,MAAOwB,KAAKtE,MAAMmB,KAAMiE,SAAUd,KAAKyL,sBAC5HzP,EAAAC,EAAAC,cAAA,SAAOrB,KAAK,OAAOgC,KAAK,OAAOkE,YAAY,OAAOsH,aAAcrI,KAAKrF,MAAMgB,IAAIuL,KAAM1I,MAAOwB,KAAKtE,MAAMwL,KAAMpG,SAAUd,KAAKyL,sBAC5HzP,EAAAC,EAAAC,cAAA,SAAOrB,KAAK,SAAS2D,MAAM,YAG7BxC,EAAAC,EAAAC,cAAA,QAAMC,UAAU,aACdH,EAAAC,EAAAC,cAAA,UAAQ4E,SAAUd,KAAK0L,iBAAkBlN,MAAOwB,KAAKrF,MAAMgB,IAAIa,GAAIL,UAAU,aAC1E6D,KAAKuL,cAERvP,EAAAC,EAAAC,cAAA,QAAMC,UAAU,YACdH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,QAAOH,EAAAC,EAAAC,cAAA,aAAOF,EAAAC,EAAAC,cAAA,aAAOF,EAAAC,EAAAC,cAAA,cACrCF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,oBACZH,EAAAC,EAAAC,cAAA,MAAIE,QAAS4D,KAAKrF,MAAMsM,WAAWjL,EAAAC,EAAAC,cAAA,cAAQF,EAAAC,EAAAC,cAAA,OAAK8E,IAAI,sBAAsB7E,UAAU,mBAAmB8E,IAAI,iBAA3G,WACAjF,EAAAC,EAAAC,cAAA,MAAIE,QAAS4D,KAAKgL,SAAShP,EAAAC,EAAAC,cAAA,cAAQF,EAAAC,EAAAC,cAAA,OAAK8E,IAAI,gBAAgB7E,UAAU,qBAAqB8E,IAAI,cAA/F,YACAjF,EAAAC,EAAAC,cAAA,MAAIE,QAAS4D,KAAKmM,SAASnQ,EAAAC,EAAAC,cAAA,UAAQC,UAAU,cAAaH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,QAAhB,iBAA1D,YACC6D,KAAKrF,MAAM6Q,KAAK/M,OAAS,EAC1BzC,EAAAC,EAAAC,cAAA,MAAIE,QAAS4D,KAAKsH,WAAWtL,EAAAC,EAAAC,cAAA,cAAQF,EAAAC,EAAAC,cAAA,OAAK8E,IAAI,iBAAiB7E,UAAU,yBAAyB8E,IAAI,gBAAtG,cACE,SAMVjF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACbH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,WAAd,gBA7ImBiF,IAAMC,WAwKpB5F,cApBS,SAAAC,GACtB,OAAOA,GAGkB,SAAAd,GACzB,MAAM,CACJuQ,QAAS,kBAAMvQ,EAAS,CAAEC,KAAM,cAChCmQ,QAAS,SAACrP,GAAD,OAASf,EAAS,CAACC,KAAM,WAAYW,QAASG,KACvD4L,UAAW,SAAA5L,GAAG,OAAIf,EAAS2M,EAAU5L,KACrC0N,OAAQ,kBAAMzO,EAASyO,MACvBpC,UAAW,kBAAMrM,EAASqM,MAC1BG,UAAW,SAAC5K,GAAD,OAAQ5B,EAASwM,EAAU5K,KACtCiM,QAAS,SAAC/M,GAAD,OAAWd,EAAS6N,EAAQ/M,KACrCwD,aAAc,kBAAMtE,EAAS,CAACC,KAAM,mBACpCuF,YAAa,kBAAMxF,EAAS,CAACC,KAAM,kBACnCyM,UAAW,SAAC9K,GAAD,OAAQ5B,EAAS0M,EAAU9K,KACtC2P,QAAS,SAAC3P,GAAD,OAAQ5B,EN1HE,SAAA4B,GACrB,OAAO,SAAA5B,GAEL,OADAA,EAAS,CAACC,KAAM,kBACTC,MAAK,GAAAL,OAAIP,EAAJ,cAAAO,OAAoB+B,GAAM,CAACxB,QAASb,MAC/CiB,KAAK,SAAAC,GAAC,OAAIA,EAAEC,SACZF,KAAK,SAAAC,GACJT,EAAS,CAACC,KAAM,iBAChBD,EAAS,CAAEC,KAAM,UAAWW,QAASH,IACrCT,EAAS,CAAEC,KAAM,aAAcW,QAASH,OMkHhB8Q,CAAQ3P,OAIvBf,CAA6CkP,GCzKtD2B,6MAEJ5Q,MAAQ,CACNmP,gBAAiB,GACjBC,SAAU,GACVnN,MAAO,MAGToB,aAAe,SAAAT,GACbA,EAAEU,iBACEd,EAAKvD,MAAM4R,YAAYrO,EAAKvD,MAAM6R,aAAalO,GAC/CJ,EAAKxC,MAAMoP,WACb5M,EAAKvD,MAAMuE,eACXhB,EAAKvD,MAAM8R,KAAK,CAACC,kBAAmBxO,EAAKxC,MAAMmP,gBAAgBhM,cAAeiM,SAAU5M,EAAKxC,MAAMoP,WAClG1P,KAAK,SAAAkO,GACJ,OAAOA,EAAShO,SAEjBF,KAAK,SAAAkO,GAEJpL,EAAKvD,MAAMyF,cACPkJ,EAASnD,MAAQmD,EAASE,KAC5BjP,aAAaoS,QAAQ,QAASrD,EAASE,KACvCtL,EAAKvD,MAAMiO,WAAWU,IAGtBpL,EAAKE,SAAS,CAACT,MAAO2L,EAASsD,gBAMvCvO,aAAe,SAAAC,GACbJ,EAAKE,SAAL+D,OAAAkE,EAAA,EAAAlE,CAAA,GAAiB7D,EAAEC,OAAO1B,KAAOyB,EAAEC,OAAOC,WAG5CqO,eAAiB,WACf3O,EAAKE,SAAS,CAACT,MAAO,KACnBO,EAAKxC,MAAMmP,gBAAgBiC,MAAM,cAClC5O,EAAKvD,MAAMuE,eACXhB,EAAKvD,MAAMkS,eAAe3O,EAAKxC,MAAMmP,iBACpCzP,KAAK,SAAAC,GAAC,OAAIA,EAAEC,SACZF,KAAK,SAAAC,GAAC,OAAI6C,EAAKE,SAAS,CAACT,MAAOtC,EAAEsC,UACnCO,EAAKvD,MAAMyF,eAGXlC,EAAKE,SAAS,CAACT,MAAO,gHAKxB,OACE3B,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuE,SAAA,KACAxE,EAAAC,EAAAC,cAAA,QAAMC,UAAU,QAAQ0E,SAAUb,KAAKjB,cACrC/C,EAAAC,EAAAC,cAAA,mBACAF,EAAAC,EAAAC,cAAA,SAAO6Q,aAAa,OAAOvO,MAAOwB,KAAKtE,MAAMmP,gBAAiBhO,KAAK,kBAAkBL,GAAG,kBAAkBsE,SAAUd,KAAK3B,aAAcxD,KAAK,OAAOkG,YAAY,mBAC/J/E,EAAAC,EAAAC,cAAA,SAAO6Q,aAAa,OAAOvO,MAAOwB,KAAKtE,MAAMoP,SAAUjO,KAAK,WAAWiE,SAAUd,KAAK3B,aAAcxD,KAAK,WAAWkG,YAAY,aAEhI/E,EAAAC,EAAAC,cAAA,SAAOsC,MAAM,SAAS3D,KAAK,SAASsB,UAAU,mBAE7C6D,KAAKtE,MAAMiC,MAAQ3B,EAAAC,EAAAC,cAAA,KAAGC,UAAU,gBAAgB6D,KAAKtE,MAAMiC,OAAa,cA3DzDyD,IAAMC,WA4Ef5F,cAAQ,KAVI,SAAAb,GACzB,MAAO,CACLgO,WAAY,SAACzC,GAAD,OAAUvL,EAAS,CAAEC,KAAM,cAAeW,QAAS2K,KAC/DjH,aAAc,kBAAMtE,EAAS,CAACC,KAAM,mBACpCuF,YAAa,kBAAMxF,EAAS,CAACC,KAAM,kBACnC4R,KAAM,SAACxI,GAAD,OAAUrJ,EH3EA,SAACqJ,GACnB,OAAO,SAACrJ,GAEN,OADAA,EAAS,CAACC,KAAM,kBACTC,MAAK,GAAAL,OAAIP,EAAJ,SAAgB,CAC1Ba,OAAQ,OACRC,QAASb,IACTc,KAAMC,KAAKC,UAAU,CACnBgL,KAAKhE,OAAAC,EAAA,EAAAD,CAAA,GAAK8B,QGoEWwI,CAAKxI,KAC9B4I,eAAgB,SAAC7D,GAAD,OAAWpO,EC5ED,SAACoO,GAC7B,OAAO,SAACpO,GACN,OAAOE,MAAK,GAAAL,OAAIP,EAAJ,oBAA2B,CACrCa,OAAQ,OACRC,QAASb,IACTc,KAAMC,KAAKC,UAAU,CACnB6N,MAAOA,ODsEyB6D,CAAe7D,OAIxCvN,CAAkC6Q,GE7E3CU,6MAEJtR,MAAQ,CACNkP,SAAU,GACV5B,MAAO,GACP8B,SAAU,GACVmC,UAAW,GACXtP,MAAO,MAGToB,aAAe,SAACT,GACdA,EAAEU,iBACGd,EAAKxC,MAAMoP,UAAa5M,EAAKxC,MAAMkP,UAAa1M,EAAKxC,MAAMsN,MAMvD9K,EAAKxC,MAAMoP,WAAa5M,EAAKxC,MAAMuR,UAC1C/O,EAAKE,SAAS,CAACT,MAAO,yBAEfO,EAAKxC,MAAMoP,SAASrM,OAAS,EACpCP,EAAKE,SAAS,CAACT,MAAO,2CAGtBO,EAAKvD,MAAMuS,WAAWhP,EAAKxC,OAC1BN,KAAK,SAAA+R,GACJjP,EAAKvD,MAAMyF,cACP+M,EAAKhH,MAAQgH,EAAK3D,KACpBjP,aAAaoS,QAAQ,QAASQ,EAAK3D,KACnCtL,EAAKvD,MAAMiO,WAAWuE,IACfA,EAAKxP,OACZO,EAAKE,SAAS,CAACT,MAAOwP,EAAKxP,UAnB/BO,EAAKE,SAAS,CAACT,MAAO,8CA0B1ByP,kBAAoB,WACdlP,EAAKxC,MAAMqP,QACb7M,EAAK6M,SACL7M,EAAKE,SAAS,CACZ0M,SAAU,MAGZ5M,EAAKE,SAAS,CAAC2M,QAAQ,OAI3B1M,aAAe,SAAAC,GACbJ,EAAKE,SAAL+D,OAAAkE,EAAA,EAAAlE,CAAA,GAAiB7D,EAAEC,OAAO1B,KAAOyB,EAAEC,OAAOC,iFAI1C,OAEExC,EAAAC,EAAAC,cAAA,QAAM2E,SAAUb,KAAKjB,aAAc5C,UAAU,cAC3CH,EAAAC,EAAAC,cAAA,qBACAF,EAAAC,EAAAC,cAAA,UACAF,EAAAC,EAAAC,cAAA,yBAAuBF,EAAAC,EAAAC,cAAA,WACvBF,EAAAC,EAAAC,cAAA,SAAO4K,UAAQ,EAACtI,MAAOwB,KAAKtE,MAAMkP,SAAU/N,KAAK,WAAWiE,SAAUd,KAAK3B,aAAcxD,KAAK,OAAOkG,YAAY,cAEjH/E,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,sBAAoBF,EAAAC,EAAAC,cAAA,WACpBF,EAAAC,EAAAC,cAAA,SAAO4K,UAAQ,EAACtI,MAAOwB,KAAKtE,MAAMsN,MAAOnM,KAAK,QAAQiE,SAAUd,KAAK3B,aAAcxD,KAAK,QAAQkG,YAAY,WAE9G/E,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,yBAAuBF,EAAAC,EAAAC,cAAA,WACvBF,EAAAC,EAAAC,cAAA,SAAO4K,UAAQ,EAACtI,MAAOwB,KAAKtE,MAAMoP,SAAUuC,UAAU,IAAIxQ,KAAK,WAAWiE,SAAUd,KAAK3B,aAAcxD,KAAK,WAAWkG,YAAY,kBAErI/E,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,yBAAuBF,EAAAC,EAAAC,cAAA,WACvBF,EAAAC,EAAAC,cAAA,SAAO4K,UAAQ,EAACtI,MAAOwB,KAAKtE,MAAMuR,UAAWI,UAAU,IAAIxQ,KAAK,YAAYiE,SAAUd,KAAK3B,aAAcxD,KAAK,WAAWkG,YAAY,aAEvI/E,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,SAAOsC,MAAM,UAAU3D,KAAK,YAE7BmF,KAAKtE,MAAMiC,MAAQ3B,EAAAC,EAAAC,cAAA,KAAGC,UAAU,gBAAgB6D,KAAKtE,MAAMiC,OAAa,aA9ExDyD,IAAMC,WAiGhB5F,cAZS,SAAAC,GACtB,OAAOA,GAGkB,SAAAd,GACzB,MAAO,CACLgO,WAAY,SAACzC,GAAD,OAAUvL,EAAS,CAAEC,KAAM,cAAeW,QAAS2K,KAC/D+G,WAAY,SAAA/G,GAAI,OAAIvL,EC/FE,SAACuL,GACzB,OAAO,SAACvL,GAEN,OADAA,EAAS,CAACC,KAAM,kBACTC,MAAK,GAAAL,OAAIP,EAAJ,UAAiB,CAC3Ba,OAAQ,OACRC,QAASb,IACTc,KAAMC,KAAKC,UAAU,CACnBgL,KAAMA,MAGT/K,KAAK,SAAAC,GAAC,OAAIA,EAAEC,UDqFgB4R,CAAW/G,KACxC/F,YAAa,kBAAMxF,EAAS,CAACC,KAAM,oBAIxBY,CAA6CuR,GEjGtDA,6MAEJtR,MAAQ,CACNsN,MAAO9K,EAAKvD,MAAMqO,MAClB8B,SAAU,GACVmC,UAAW,GACXK,MAAOpP,EAAKvD,MAAM2S,MAClB3P,MAAO,MAGToB,aAAe,SAACT,GACdA,EAAEU,iBACGd,EAAKxC,MAAMoP,UAAa5M,EAAKxC,MAAMsN,MAM/B9K,EAAKxC,MAAMoP,WAAa5M,EAAKxC,MAAMuR,UAC1C/O,EAAKE,SAAS,CAACT,MAAO,yBAEfO,EAAKxC,MAAMoP,SAASrM,OAAS,EACpCP,EAAKE,SAAS,CAACT,MAAO,2CAGtBO,EAAKvD,MAAM4S,cAAcrP,EAAKxC,OAC7BN,KAAK,SAAA+R,GAEJ,OAAOA,EAAKK,QACV,KAAK,IACHtP,EAAKE,SAAS,CAACT,MAAO,+BACtB,MACF,KAAK,IACHO,EAAKE,SAAS,CAACT,MAAO,yBACtB,MACF,KAAK,IACHO,EAAKE,SAAS,CAACT,MAAO,8BACtB,MACF,KAAK,IACHO,EAAKE,SAAS,CAACT,MAAO,yBACtB,MACF,QACEO,EAAKE,SAAS,CAACT,MAAO,kDA7B5BO,EAAKE,SAAS,CAACT,MAAO,8CAoC1ByP,kBAAoB,WACdlP,EAAKxC,MAAMqP,QACb7M,EAAK6M,SACL7M,EAAKE,SAAS,CACZ0M,SAAU,MAGZ5M,EAAKE,SAAS,CAAC2M,QAAQ,OAI3B1M,aAAe,SAAAC,GACbJ,EAAKE,SAAL+D,OAAAkE,EAAA,EAAAlE,CAAA,GAAiB7D,EAAEC,OAAO1B,KAAOyB,EAAEC,OAAOC,iFAI1C,OACExC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,6BACfH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACfH,EAAAC,EAAAC,cAAA,UAAQE,QAAS4D,KAAKrF,MAAM8S,mBAAoBhN,MAAO,CAACiN,SAAS,WAAWC,MAAM,QAAlF,KACA3R,EAAAC,EAAAC,cAAA,MAAIuE,MAAO,CAACmN,UAAU,WAAtB,kBACA5R,EAAAC,EAAAC,cAAA,QAAM2E,SAAUb,KAAKjB,aAAc5C,UAAU,cAC3CH,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,sBAAoBF,EAAAC,EAAAC,cAAA,WACpBF,EAAAC,EAAAC,cAAA,SAAO4K,UAAQ,EAACiG,aAAa,OAAOvO,MAAOwB,KAAKtE,MAAMsN,MAAOnM,KAAK,QAAQiE,SAAUd,KAAK3B,aAAcxD,KAAK,QAAQkG,YAAY,WAElI/E,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,yBAAuBF,EAAAC,EAAAC,cAAA,WACvBF,EAAAC,EAAAC,cAAA,SAAO4K,UAAQ,EAACiG,aAAa,QAAQvO,MAAOwB,KAAKtE,MAAMoP,SAAUuC,UAAU,IAAIxQ,KAAK,WAAWiE,SAAUd,KAAK3B,aAAcxD,KAAK,WAAWkG,YAAY,kBAE1J/E,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,gCAA8BF,EAAAC,EAAAC,cAAA,WAC9BF,EAAAC,EAAAC,cAAA,SAAO4K,UAAQ,EAACiG,aAAa,QAAQvO,MAAOwB,KAAKtE,MAAMuR,UAAWI,UAAU,IAAIxQ,KAAK,YAAYiE,SAAUd,KAAK3B,aAAcxD,KAAK,WAAWkG,YAAY,aAE5J/E,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,SAAOsC,MAAM,iBAAiB3D,KAAK,YAEpCmF,KAAKtE,MAAMiC,MAAQ3B,EAAAC,EAAAC,cAAA,KAAGuE,MAAO,CAACoN,MAAM,MAAMD,UAAU,SAASE,WAAW,SAAU9N,KAAKtE,MAAMiC,OAAa,eAtF1FyD,IAAMC,WAwGhB5F,cAVS,SAAAC,GACtB,OAAOA,GAGkB,SAAAd,GACzB,MAAO,CACL2S,cAAe,SAAApH,GAAI,OAAIvL,EH3FE,SAACuL,GAC5B,OAAO,SAACvL,GACN,OAAOE,MAAK,GAAAL,OAAIP,EAAJ,mBAA0B,CACpCa,OAAQ,OACRC,QAASb,IACTc,KAAMC,KAAKC,UAAU,CACnBgL,KAAMA,OGqFsBoH,CAAcpH,OAInC1K,CAA6CuR,GCrGtDe,6MAEJrS,MAAQ,CACNsN,MAAO,GACP+B,QAAQ,EACRwB,YAAY,EACZyB,mBAAmB,EACnBV,MAAO,GACPW,UAAU,KAcZhD,cAAgB,WACd/M,EAAKE,SAAS,CACZ4K,MAAO,GACP+B,QAAQ,EACRwB,YAAY,EACZyB,mBAAmB,EACnBV,MAAO,GACPW,UAAU,IAEZ1T,aAAa2Q,WAAW,SACxBhN,EAAKvD,MAAMwQ,aAGbqB,aAAe,SAAClO,GACdA,EAAEU,iBACFd,EAAKE,SAAS,CAACmO,YAAarO,EAAKxC,MAAM6Q,gBAGzC2B,SAAW,WACT,QAAShQ,EAAKvD,MAAMwL,KAAK6C,SAG3ByE,mBAAqB,WAAOvP,EAAKE,SAAS,CAAC4P,mBAAmB,OAE9DG,eAAiB,kBAAMjQ,EAAKE,SAAS,CAAC6P,UAAW/P,EAAKxC,MAAMuS,+FAlCtD1T,aAAaC,QAAQ,UAAUwF,KAAKrF,MAAM0O,SAC9C,IAAI+E,EAASpL,OAAOqL,SAASC,OAC7B,GAAIF,EAAOtP,SAAS,UAAYsP,EAAOtP,SAAS,SAAS,CAEvD,IAAMwO,GADNc,EAASA,EAAOG,MAAM,uBACD,GACfvF,EAAQwF,mBAAmBJ,EAAO,IACxCpO,KAAK5B,SAAS,CAAC4P,mBAAmB,EAAMhF,MAAOA,EAAOsE,MAAOA,sCA8BzD,IAAAvN,EAAAC,KACN,OACEhE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBAAqBH,EAAAC,EAAAC,cAAA,iDACpCF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACbH,EAAAC,EAAAC,cAAA,UAAQE,QAAS,kBAAI2D,EAAK3B,SAAS,CAAC6P,UAAS,KAAQ9R,UAAU,qBAA/D,QAAwFH,EAAAC,EAAAC,cAAA,WAAxF,WACC8D,KAAKtE,MAAMuS,SACVjS,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,yBACbH,EAAAC,EAAAC,cAAA,UAAQE,QAAS,kBAAI2D,EAAK3B,SAAS,CAACmO,YAAW,KAASkC,UAAWzO,KAAKtE,MAAM6Q,YAA9E,UACAvQ,EAAAC,EAAAC,cAAA,UAAQE,QAAS,kBAAI2D,EAAK3B,SAAS,CAACmO,YAAW,KAAQkC,SAAUzO,KAAKtE,MAAM6Q,YAA5E,WACAvQ,EAAAC,EAAAC,cAAA,UAAQC,UAAU,kBAAkBC,QAAS,kBAAI2D,EAAK3B,SAAS,CAAC6P,UAAS,MAAzE,MAEFjS,EAAAC,EAAAC,cAAA,OAAKC,UAAS,iBAAA1B,OAAmBuF,KAAKtE,MAAM6Q,WAAa,aAAe,OACtEvQ,EAAAC,EAAAC,cAAEwS,EAAF,MACA1S,EAAAC,EAAAC,cAAEyS,EAAF,SAKN,KAED3O,KAAKtE,MAAMsS,kBAAmBhS,EAAAC,EAAAC,cAAE0S,EAAF,CAAoBC,mBAAoB7O,KAAKwM,aAAcxD,MAAOhJ,KAAKtE,MAAMsN,MAAOsE,MAAOtN,KAAKtE,MAAM4R,MAAOG,mBAAoBzN,KAAKyN,qBAAyB,cAvExKrM,IAAMC,WA2FvB5F,cAbS,SAAAC,GACtB,OAAOA,GAGkB,SAAAd,GACzB,MAAM,CACJuQ,QAAS,kBAAMvQ,EAAS,CAAEC,KAAM,cAChCwO,OAAQ,kBAAMzO,EAASyO,MACvBZ,QAAS,SAAC/M,GAAD,OAAWd,EAAS6N,EAAQ/M,KACrCwD,aAAc,kBAAMtE,EAAS,CAACC,KAAM,qBAIzBY,CAA6CsS,GCzFtDe,6MAEJpT,MAAQ,CACNkP,SAAU,GACV5B,MAAO,GACP6B,gBAAiB,GACjBC,SAAU,GACVC,QAAQ,EACRgE,aAAa,EACbxC,YAAY,KAgBdtB,cAAgB,WACd/M,EAAKE,SAAS,CACZwM,SAAU,GACV5B,MAAO,GACP6B,gBAAiB,GACjBC,SAAU,GACVC,QAAQ,EACRgE,aAAa,EACbC,QAAS,KAEXzU,aAAa2Q,WAAW,SACxBhN,EAAKvD,MAAMwQ,aAGbqB,aAAe,SAAClO,GACdA,EAAEU,iBACFd,EAAKE,SAAS,CAACmO,YAAarO,EAAKxC,MAAM6Q,gBAGzCnB,iBAAmB,SAACC,GAClB,IAAM1P,EAAM,IAAI4D,KAAK8L,EAAO4D,YAC5B,MAAO,GAAAxU,OAAGkB,EAAIoQ,WAAa,EAApB,KAAAtR,OAAyBkB,EAAIqQ,UAA7B,KAAAvR,OAA0CkB,EAAIkQ,gBAAmBR,EAAOxO,KAAP,IAAApC,OAAkB4Q,EAAOxO,MAAS,OAG5G0O,WAAa,WAGX,OADarN,EAAKvD,MAAM6Q,KAAK9I,KAAK,SAAChD,EAAGiD,GAAJ,OAAU,IAAIpD,KAAKoD,EAAEsM,YAAc,IAAI1P,KAAKG,EAAEuP,cACpE/N,IAAI,SAAAvF,GACd,OAAOK,EAAAC,EAAAC,cAAA,UAAQsC,MAAO7C,EAAIa,GAAIqD,IAAKlE,EAAIa,IAAM0B,EAAKkN,iBAAiBzP,SAIvEuT,cAAgB,WACdhR,EAAKE,SAAS,CAAC2Q,aAAc7Q,EAAKxC,MAAMqT,iBAG1CI,oBAAsB,SAAC7Q,GACrBJ,EAAKE,SAAS,CAAC4Q,QAAS1Q,EAAEC,OAAOC,WAGnCkN,iBAAmB,SAAApN,GAEjBJ,EAAKvD,MAAMyM,UAAU9I,EAAEC,OAAOC,UAGhCmN,WAAa,WACX,IAAMzE,EAAO,IAAI3H,KACXqM,EAAO1E,EAAK2E,cACdC,EAAQ5E,EAAK6E,WAAa,EAC1BpQ,EAAMuL,EAAK8E,UAGf,OAFIF,EAAQ,KAAKA,EAAK,IAAArR,OAAOqR,IACzBnQ,EAAM,KAAKA,EAAG,IAAAlB,OAAOkB,IACzB,GAAAlB,OAAUmR,EAAV,KAAAnR,OAAkBqR,EAAlB,KAAArR,OAA2BkB,MAG7B2L,UAAY,WACV,GAAIpJ,EAAKvD,MAAM6Q,KAAK/M,OAAS,GAAKuE,OAAOiJ,QAAQ,6CAA8C,CAC7F,IAAMC,EAAahO,EAAKvD,MAAM6Q,KAAK7M,OAAO,SAAAe,GAAC,OAAIA,EAAElD,KAAO0B,EAAKvD,MAAMgB,IAAIa,KAAI,GAC3E0B,EAAKvD,MAAMyM,UAAU8E,EAAW1P,IAChC0B,EAAKvD,MAAM2M,UAAUpJ,EAAKvD,MAAMgB,IAAIa,yFAvElCjC,aAAaC,QAAQ,UAAUwF,KAAKrF,MAAM0O,0CA6E9C,OACE9O,aAAaC,QAAQ,SAErBwB,EAAAC,EAAAC,cAAEkT,EAAF,MAEApT,EAAAC,EAAAC,cAAEmT,EAAF,aA/FejO,IAAMC,WAuHZ5F,cAnBS,SAAAC,GACtB,OAAOA,GAGkB,SAAAd,GACzB,MAAM,CACJuQ,QAAS,kBAAMvQ,EAAS,CAAEC,KAAM,cAChCwO,OAAQ,kBAAMzO,EAASyO,MACvBpC,UAAW,kBAAMrM,EAASqM,MAC1BG,UAAW,SAAC5K,GAAD,OAAQ5B,EAASwM,EAAU5K,KACtCuS,YAAa,SAACC,GAAD,OAAapU,EAAS,CAACC,KAAM,gBAAiBW,QAASwT,KACpEvG,QAAS,SAAC/M,GAAD,OAAWd,EAAS6N,EAAQ/M,KACrCwD,aAAc,kBAAMtE,EAAS,CAACC,KAAM,mBACpCuF,YAAa,kBAAMxF,EAAS,CAACC,KAAM,kBACnCyM,UAAW,SAAC9K,GAAD,OAAQ5B,EAAS0M,EAAU9K,KACtC+K,UAAW,SAAC8D,GAAD,OAAYzQ,EAAS2M,EAAU8D,OAI/B5P,CAA6CqT,GCvG7CrT,cAAQ,KAPI,SAAAb,GACzB,MAAO,CACL0U,UAAW,SAAC5N,GAAD,OAAY9G,EAAS,CAAEC,KAAM,cAAeW,QAAS,CAACkG,MACjEhH,mBAAoB,SAAAmB,GAAI,OAAIjB,EAASF,EAAmBmB,OAI7CJ,CAtBA,SAAAd,GAEb,OACEqB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UAEbH,EAAAC,EAAAC,cAAA,KAAGmQ,KAAK,0BAA0BlQ,UAAU,eAC1CH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SAAf,kBACAH,EAAAC,EAAAC,cAAA,mBAEFF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,UAAhB,sFAA4GH,EAAAC,EAAAC,cAAA,WAA5G,wGCHAqT,8MAEJC,UAAY,SAAAC,GAAU,IACbC,EAA4BD,EAA5BC,YAAarM,EAAeoM,EAAfpM,YACpB,GAAKqM,EAAL,CAIA,IAAM3T,EAAamC,EAAKvD,MAAMgG,YAAYlB,KAAK,SAAAC,GAAC,OAAIA,EAAEgC,OAAOlF,KAAO6G,IAC9D3G,EAAagT,EAAYhL,YAGzBiL,EAFkBzR,EAAKvD,MAAMgG,YAAYhC,OAAO,SAAAe,GAAC,OAAIA,EAAEgC,OAAO6C,cAAgB7H,IAC7CgG,KAAK,SAAChD,EAAGiD,GAAJ,OAAUjD,EAAEgC,OAAO4B,MAAQX,EAAEjB,OAAO4B,QAC9CpC,IAAI,SAAAxB,GAAC,OAAIA,EAAEgC,OAAOlF,KACpD,GAAIT,EAAW2F,OAAO6C,cAAgB7H,EAAW,CAC/C,IAAM4G,EAAQqM,EAAWC,QAAQ7T,EAAW2F,OAAOlF,IACnDmT,EAAWE,OAAOvM,EAAO,GAE3BqM,EAAWE,OAAOH,EAAYpM,MAAO,EAAGvH,EAAW2F,OAAOlF,IAC1D,IAAMmE,EAAcgP,EAAWzO,IAAI,SAAC1E,EAAIsT,GAEtC,OADA5R,EAAKvD,MAAM2H,WAAW,CAACZ,OAAQ,CAAClF,GAAIA,EAAI8G,MAAOwM,EAAGvL,YAAa7H,KACxD,CAACgF,OAAQ,CAAClF,GAAIA,EAAI8G,MAAOwM,EAAGvL,YAAa7H,MAElDwB,EAAKvD,MAAM8N,QAAQ,CAAC9H,YAAaA,8EAIjC,OACE3E,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAE6T,EAAF,MACA/T,EAAAC,EAAAC,cAACkH,EAAA,EAAD,CAAiBoM,UAAWxP,KAAKwP,WAC/BxT,EAAAC,EAAAC,cAAE8T,EAAF,OAEFhU,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACbsE,MAAO,CAACC,QAASV,KAAKrF,MAAMyO,QAAU,QAAU,UAElDpN,EAAAC,EAAAC,cAAA,OAAMC,UAAU,gBACdH,EAAAC,EAAAC,cAAE+T,EAAF,OAEFjU,EAAAC,EAAAC,cAAEgU,EAAF,cAtCU9O,IAAMC,WAwDT5F,eAXS,SAAAC,GACtB,OAAOA,GAGkB,SAAAd,GACzB,MAAM,CACJ0H,WAAY,SAAA2B,GAAI,OAAIrJ,EAAS,CAAEC,KAAM,cAAeW,QAASyI,KAC7DwE,QAAS,SAAAxE,GAAI,OAAIrJ,EAAS6N,EAAQxE,OAIvBxI,CAA6C8T,ICtDxCY,QACW,cAA7BnN,OAAOqL,SAAS+B,UAEe,UAA7BpN,OAAOqL,SAAS+B,UAEhBpN,OAAOqL,SAAS+B,SAAStD,MACvB,gFClBFuD,GAAIC,EAAQ,IAEVC,GAAe,CACnBvS,WAAY,CACV,CAACnB,KAAM,YAAaoS,WAAY,EAAGzS,GAAI,GACvC,CAACK,KAAM,QAASoS,WAAY,EAAGzS,GAAI,GACnC,CAACK,KAAM,QAASoS,WAAY,EAAGzS,GAAI,GACnC,CAACK,KAAM,SAAUoS,WAAY,EAAGzS,GAAI,IAEtCb,IAAK,GACL6P,KAAM,GACN7K,YAAa,GACbmE,KAAM,GACN8C,MAAO,GACPzB,KAAM,GACNxI,MAAO,GACPyL,SAAS,EACTjI,QAAS,IAwLIqP,GApLC,WAAkC,IAAjC9U,EAAiCwE,UAAAzB,OAAA,QAAA0B,IAAAD,UAAA,GAAAA,UAAA,GAAzBqQ,GAAcE,EAAWvQ,UAAAzB,OAAA,EAAAyB,UAAA,QAAAC,EAChD,OAAQsQ,EAAO5V,MACb,IAAK,aACH,IAAM6V,EAAkBL,GAAEM,UAAUjV,EAAMiF,aAM1C,OALA+P,EAAgBE,KAAK,CACnBlP,OAAOS,OAAAC,EAAA,EAAAD,CAAA,GAAKsO,EAAOjV,QAAQkG,OAArB,CAA6BlF,GAAIiU,EAAOjV,QAAQkG,OAAOlF,IAAM+C,KAAKsR,QACxEtU,KAAMkU,EAAOjV,QAAQe,KACrBqF,SAAU6O,EAAOjV,QAAQoG,WAEpBO,OAAAC,EAAA,EAAAD,CAAA,GAAIzG,EAAX,CACEiF,YAAa+P,IAEjB,IAAK,cACH,OAAOvO,OAAAC,EAAA,EAAAD,CAAA,GAAIzG,EAAX,CAAkBiF,YAAW,GAAAlG,OAAA0H,OAAA2O,GAAA,EAAA3O,CAAMzG,EAAMiF,aAAZwB,OAAA2O,GAAA,EAAA3O,CAA4BsO,EAAOjV,YAElE,IAAK,gBACH,IAAMuV,EAAgBrV,EAAMiF,YAAYlB,KAAK,SAAAC,GAAC,OAAIA,EAAEgC,OAAOlF,KAAOiU,EAAOjV,UACzE,OAAO2G,OAAAC,EAAA,EAAAD,CAAA,GAAIzG,EAAX,CACEiF,YAAajF,EAAMiF,YAAYhC,OAAO,SAAAe,GAAC,OAAIA,EAAEgC,OAAOlF,KAAOiU,EAAOjV,UAClE2F,QAAO,GAAA1G,OAAA0H,OAAA2O,GAAA,EAAA3O,CACFzG,EAAMyF,QAAQxC,OAAO,SAAAe,GAAC,OAAIA,EAAElD,KAAOuU,EAAcxU,KAAKC,MADpD,CAELuU,EAAcxU,SAIpB,IAAK,cACH,OAAO4F,OAAAC,EAAA,EAAAD,CAAA,GACFzG,EADL,CAEEsC,WAAYyS,EAAOjV,QAAQ2K,KAAKnI,WAChC2C,YAAa8P,EAAOjV,QAAQ2K,KAAK6K,aACjCrV,IAAK8U,EAAOjV,QAAQ2K,KAAKxK,IACzB6P,KAAMiF,EAAOjV,QAAQ2K,KAAKqF,KAC1B1G,KAAM2L,EAAOjV,QAAQ2K,KAAKrB,KAC1B8C,MAAO6I,EAAOjV,QAAQ2K,KAAKyB,MAC3BzB,KAAM,CACJ6C,MAAOyH,EAAOjV,QAAQ2K,KAAK6C,MAC3BxM,GAAIiU,EAAOjV,QAAQ2K,KAAK3J,GACxBoO,SAAU6F,EAAOjV,QAAQ2K,KAAKyE,YAIpC,IAAK,YACH,OAAOzI,OAAAC,EAAA,EAAAD,CAAA,GACFzG,EADL,CAEEoJ,KAAK3C,OAAAC,EAAA,EAAAD,CAAA,GACAzG,EAAMoJ,KACN2L,EAAOjV,SAEZoM,MAAK,GAAAnN,OAAA0H,OAAA2O,GAAA,EAAA3O,CACAzG,EAAMkM,MAAMjJ,OAAO,SAAAe,GAAC,OAAIA,EAAElD,KAAOd,EAAMoJ,KAAKtI,MAD5C,CAAA2F,OAAAC,EAAA,EAAAD,CAAA,GAGEzG,EAAMoJ,KACN2L,EAAOjV,aAKlB,IAAK,cACH,IAAMgB,EAAKiU,EAAOjV,QACZsJ,EAAOpJ,EAAMkM,MAAMnI,KAAK,SAAAC,GAAC,OAAIA,EAAElD,KAAOgG,SAAShG,KACrD,OAAO2F,OAAAC,EAAA,EAAAD,CAAA,GACFzG,EADL,CAEEoJ,KAAMA,IAGV,IAAK,WAEH,OAAOyL,GAET,IAAK,cAAe,IAAAU,EAAA,WAGlB,IAFA,IAAMC,EAAa,GACbC,EAAaV,EAAOjV,QAAQ2V,WAFhBC,EAAA,SAGTtB,GACP,IAAM/T,EAAaL,EAAMiF,YAAYlB,KAAK,SAAAC,GAAC,OAAIA,EAAEgC,OAAOlF,KAAOgG,SAAS2O,EAAWrB,MAGnFoB,EAAWN,KAAXzO,OAAAC,EAAA,EAAAD,CAAA,GAAoBpG,EAApB,CAAgC2F,OAAOS,OAAAC,EAAA,EAAAD,CAAA,GAAKpG,EAAW2F,OAAjB,CAAyB4B,MAAOwM,QAJ/DA,EAAI,EAAGA,EAAIqB,EAAW1S,OAAQqR,IAAMsB,EAApCtB,GAQT,OAFmBoB,EAAWzR,KAAK,SAAAC,GAAC,OAAIA,EAAEgC,OAAOlF,KAAOiU,EAAOjV,QAAQ6V,WAC5D3P,OAAO6C,YAAckM,EAAOjV,QAAQkB,WAC/C,CAAA4U,EAAAnP,OAAAC,EAAA,EAAAD,CAAA,GACKzG,EADL,CAEEiF,YAAauQ,KAbG,wBAAAD,EAAA,OAAAA,EAAAK,EAgBpB,IAAK,UACH,OAAOnP,OAAAC,EAAA,EAAAD,CAAA,GACFzG,EADL,CAEEsC,WAAYyS,EAAOjV,QAAQwC,WAC3B2C,YAAa,GACbhF,IAAK8U,EAAOjV,QACZgQ,KAAI,GAAA/Q,OAAA0H,OAAA2O,GAAA,EAAA3O,CAAMzG,EAAM8P,MAAZ,CAAArJ,OAAAC,EAAA,EAAAD,CAAA,GAAsBsO,EAAOjV,QAA7B,CAAsCuM,QAAS0I,EAAOjV,QAAQsJ,KAAKtI,OACvEsI,KAAM2L,EAAOjV,QAAQsJ,OAGzB,IAAK,aACH,OAAO3C,OAAAC,EAAA,EAAAD,CAAA,GACFzG,EADL,CAEEsC,WAAYyS,EAAOjV,QAAQwC,WAC3B2C,YAAa8P,EAAOjV,QAAQwV,aAC5BrV,IAAK,CACHuL,KAAMuJ,EAAOjV,QAAQ0L,KACrB1K,GAAIiU,EAAOjV,QAAQgB,GACnBK,KAAM4T,EAAOjV,QAAQqB,MAEvBiI,KAAM2L,EAAOjV,QAAQsJ,OAGzB,IAAK,WACH,OAAO3C,OAAAC,EAAA,EAAAD,CAAA,GACFzG,EADL,CAEEiF,YAAW,GAAAlG,OAAA0H,OAAA2O,GAAA,EAAA3O,CAAMzG,EAAMiF,aAAZ,CAAyB8P,EAAOjV,YAG/C,IAAK,cACH,IAAMO,EAAaL,EAAMiF,YAAYlB,KAAK,SAAAC,GAAC,OAAIA,EAAEgC,OAAOlF,KAAOiU,EAAOjV,QAAQkG,OAAOlF,KACrF,OAAO2F,OAAAC,EAAA,EAAAD,CAAA,GACFzG,EADL,CAEEiF,YAAW,GAAAlG,OAAA0H,OAAA2O,GAAA,EAAA3O,CACNzG,EAAMiF,YAAYhC,OAAO,SAAAe,GAAC,OAAI8C,SAAS9C,EAAEgC,OAAOlF,MAAQgG,SAASzG,EAAW2F,OAAOlF,OAD7E,CAAA2F,OAAAC,EAAA,EAAAD,CAAA,GAGJpG,EAHI,CAIP2F,OAAOS,OAAAC,EAAA,EAAAD,CAAA,GAAKpG,EAAW2F,OAAW+O,EAAOjV,QAAQkG,cAKzD,IAAK,WACH,IAAM6P,EAAWlB,GAAEM,UAAUjV,EAAM8P,KAAK7M,OAAO,SAAAe,GAAC,OAAEA,EAAElD,KAAOd,EAAMC,IAAIa,MACjEgV,EAAWD,EAAS9R,KAAK,SAAAC,GAAC,OAAIA,EAAElD,KAAOd,EAAMC,IAAIa,KAGrD,OAFAgV,EAAOrP,OAAAC,EAAA,EAAAD,CAAA,GAAOqP,EAAYf,EAAOjV,SACjC+V,EAASX,KAAKY,GACPrP,OAAAC,EAAA,EAAAD,CAAA,GACFzG,EADL,CAEEC,IAAK6V,EACLhG,KAAM+F,IAGV,IAAK,WACH,OAAOpP,OAAAC,EAAA,EAAAD,CAAA,GACFzG,EADL,CAEEoJ,KAAM2L,EAAOjV,QACboM,MAAK,GAAAnN,OAAA0H,OAAA2O,GAAA,EAAA3O,CACAzG,EAAMkM,OADN,CAEH6I,EAAOjV,YAIb,IAAK,gBACH,OAAO2G,OAAAC,EAAA,EAAAD,CAAA,GACFzG,EADL,CAEE0N,SAAS,IAGb,IAAK,eACH,OAAOjH,OAAAC,EAAA,EAAAD,CAAA,GACFzG,EADL,CAEE0N,SAAS,IAGb,IAAK,aACH,OAAOjH,OAAAC,EAAA,EAAAD,CAAA,GACFzG,EADL,CAEE8P,KAAM9P,EAAM8P,KAAK7M,OAAO,SAAAe,GAAC,OAAIA,EAAElD,KAAOgG,SAASiO,EAAOjV,aAG1D,IAAK,cACH,IAAMiW,EAAW/V,EAAMkM,MAAMjJ,OAAO,SAAAe,GAAC,OAAIA,EAAElD,KAAOgG,SAASiO,EAAOjV,WAClE,OAAO2G,OAAAC,EAAA,EAAAD,CAAA,GACFzG,EADL,CAEEkM,MAAO6J,EACP3M,KAAM2M,EAAS,KAGnB,QACE,OAAO/V,aCxLPgW,GAAQC,aACZnB,GAASoB,aAAgBC,OAI3BC,IAASC,OACP/V,EAAAC,EAAAC,cAAC8V,EAAA,EAAD,CAAUN,MAAOA,IACf1V,EAAAC,EAAAC,cAAC+V,GAAD,OAEFC,SAASC,eAAe,SF4GpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMlX,KAAK,SAAAmX,GACjCA,EAAaC","file":"static/js/main.29e84503.chunk.js","sourcesContent":["export const URL = 'https://ham-backend.herokuapp.com/'\n// export const URL = 'http://localhost:3001/'\n\nexport const HEADERS = () => ({\n  'Content-Type':'application/json',\n  Accept: 'application/json',\n  Authorization: localStorage.getItem('token') ? `BEARER ${localStorage.getItem('token')}` : null\n  // Authorization: // upcase or title?\n})","import {URL, HEADERS} from '../constants'\n\nexport const selectSearchResult = (props) => {\n  return (dispatch) => {\n    dispatch({type: 'START_LOADING'})\n    return fetch(`${URL}search/make_choice`, {\n      method: 'POST',\n      headers: HEADERS(),\n      body: JSON.stringify(props)\n    })\n    .then(r => r.json())\n    .then(choiceAndFood => {\n      // debugger\n      dispatch({type: 'STOP_LOADING'})\n      dispatch({ type: 'ADD_CHOICE', payload: choiceAndFood})\n    })\n  }\n}\n\nexport const selectInternalSearchResult = (idAndCategory) => {\n  // debugger\n  return (dispatch) => {\n    dispatch({type: 'START_LOADING'})\n    return fetch(`${URL}/choices`, {method: 'POST', headers: HEADERS(), body: JSON.stringify(idAndCategory)})\n    .then(r => r.json())\n    .then(choiceFood  => {\n      // debugger\n      dispatch({type: 'STOP_LOADING'})\n      dispatch({ type: 'ADD_CHOICE', payload: choiceFood})\n    })\n  }\n}\n\nexport const internalSearch = (searchTerm) => {\n  return dispatch => {\n    return fetch(`${URL}search/internal_search?q=${searchTerm}`, {headers: HEADERS()})\n  }\n}\n\nexport const favoriteSearch = (searchTerm) => {\n  return dispatch => {\n    return fetch(`${URL}search/favorite_search?q=${searchTerm}`, {headers: HEADERS()})\n  }\n}\n\nexport const externalSearch = (searchTerm, pageNumber = 1) => {\n  return dispatch => {\n    return fetch(`${URL}search/many?q=${searchTerm}&pageNumber=${pageNumber}`, {headers: HEADERS()})\n  }\n}","import React from 'react'\nimport {connect} from 'react-redux'\nimport {selectInternalSearchResult, selectSearchResult} from '../actions/searchActions'\n\nconst SearchResultCard = props => {\n\n  const handleAddChoice = () => {\n    // debugger\n    props.hideResults()\n    props.clearForm()\n    if(props.food.id){\n      props.selectInternalSearchResult({foodId: props.food.id, categoryId: props.categoryId, dayId: props.day.id})\n    }else{\n      props.selectSearchResult({fdcId: props.food.fdcId, categoryId: props.categoryId, dayId: props.day.id})\n    }\n  }\n\n  return(\n    <li className='searchResult' onClick={handleAddChoice}>\n      <span className='resultName'>{props.food.name || props.food.description}</span>\n      {props.food.brand ? <span className='brandName'> - {props.food.brand}</span> : null}\n      {props.food.brandOwner ? <span className='brandName'> - {props.food.brandOwner}</span> : null}\n      {props.food.fat || props.food.carbs || props.food.protein ? \n      <ul className='resultMacros'>\n        <li>fat: {props.food.fat.toFixed()}</li>\n        <li>carbs: {props.food.carbs.toFixed()}</li>\n        <li>protein: {props.food.protein.toFixed()}</li>\n      </ul>\n      : null\n      }\n    </li>\n  )\n}\n\nconst mapStateToProps = state => {\n  return {\n    day: state.day\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    selectInternalSearchResult: prop => dispatch(selectInternalSearchResult(prop)),\n    selectSearchResult: prop => dispatch(selectSearchResult(prop))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchResultCard)","import React from 'react'\nimport SearchResultCard from '../components/SearchResultCard'\n\nimport {connect} from 'react-redux'\nimport {externalSearch} from '../actions/searchActions'\nimport {foodsIndex} from '../actions/foodsActions'\n\nclass SearchContainer extends React.Component {\n\n  state = {\n    text: '',\n    favorites: [],\n    filteredFavorites: [],\n    common: [],\n    internal: [],\n    error: false,\n    addFood: false,\n    currentPage: 0,\n    totalPages: 0,\n    showResults: false,\n    categories: []\n  }\n\n  componentDidMount = () => {\n    this.props.foodsIndex('')\n    .then(r => r.json())\n    .then(r => {\n      this.setState({favorites: r.favorites})\n    })\n  }\n\n  foodsIndex = (text) => {\n    this.props.foodsIndex(text)\n    .then(r => r.json())\n    .then(r => {\n      this.setState({filteredFavorites: r.favorites})\n      if(r.categories){this.setState({categories: r.categories})}\n    })\n  }\n\n  handleChange = e => {\n    this.setState({text: e.target.value})\n    if(e.target.value.length === 0) {\n      this.foodsIndex('')\n      this.clearResults()\n    }else{\n      this.setState({\n        filteredFavorites: this.state.favorites.filter(food=>{\n          const searchTerm = this.state.text.toLowerCase()\n          return food.name.toLowerCase().includes(searchTerm) || (food.brand && food.brand.toLowerCase().includes(searchTerm))\n        })\n      })\n    }\n  }\n\n  handleSubmit = e => {\n    e.preventDefault()\n    const searchTerm = encodeURIComponent(this.state.text)\n    if (searchTerm){\n      // console.log('submit')\n      this.setState({common: []})\n      this.props.startLoading()\n      this.foodsIndex(searchTerm)\n      this.externalSearch(searchTerm, 1)\n    }\n  }\n\n  externalSearch(searchPhrase, pageNumber = 1){\n    this.props.externalSearch(searchPhrase, pageNumber)\n    .then(r => r.json())\n    .then(r => {\n      this.props.stopLoading()\n      if (r.common && r.common.length > 0){\n        this.setState({common: this.state.common.concat(r.common), currentPage: r.current_page, totalPages: r.total_pages})\n      }\n      else{\n        this.setState({error: 'No More Results'})\n      }\n    })\n  }\n\n  clearResults = () => {\n    this.setState({\n      filteredFavorites: [],\n      branded: [],\n      common: [],\n      internal: [],\n      text: '',\n      error: false,\n      currentPage: 0,\n      totalPages: 0,\n      categories: []\n    })\n  }\n\n  categoryByTime = () => {\n    const hour = new Date().getHours()\n    const categories = this.props.categories\n    if (hour < 9){return categories.find(x => x.name === 'Breakfast').id || categories[0] }\n    else if (hour < 16){return categories.find(x => x.name === 'Lunch').id || categories[0] }\n    else{return categories.find(x => x.name === 'Dinner').id || categories[0] }\n  }\n\n  makeSearchResultCard = (food) => {\n    return < SearchResultCard\n    categoryId={this.categoryByTime()} // i\n    key={food.id || food.fdcId} // \n    food={food}  //  // i\n    clearForm={this.clearResults} // i\n    hideResults={this.hideResults}\n    />\n  }\n\n  showResults = () => {\n    this.setState({showResults: true})\n  }\n\n  hideResults = () => {\n    this.setState({showResults: false})\n  }\n\n  render(){\n    return(\n      <>\n      <div className='arrow' style={{display: this.props.choiceFoods.length > 0 ? 'none' : 'block'}}>\n        <span className='rectangle'>Start Here</span>\n      </div>\n      <div className='centered row foodSearchContainer' onFocus={this.showResults}>\n        <form onSubmit={this.handleSubmit} className='searchForm'>\n          <input type='search' \n            // list='popularSearches'\n            value={this.state.text} \n            onChange={this.handleChange}\n            placeholder='Search for any food...'\n            className='searchText'\n            >\n          </input>\n          <input type='image' src='search-icon.png' alt='Search' name='submit' className='searchButton searchIcon'></input>\n        </form>\n        <ul className={this.state.showResults ? 'searchResultContainer' : 'searchResultContainerHidden'} >\n          <h5>Favorites</h5>\n          {this.state[this.state.filteredFavorites.length > 0 || this.state.text !== '' ? 'filteredFavorites' : 'favorites'].map(food => this.makeSearchResultCard(food))}\n          {/* {this.state.categories.length===0 ? null : this.state.categories.map(cat => this.makeSearchResultCard(cat))} */}\n\n          <h5>More Results</h5>\n          {this.state.internal.map(food => this.makeSearchResultCard(food))}\n          {this.state.common.map(food => this.makeSearchResultCard(food))}\n\n          {this.state.currentPage < this.state.totalPages\n          ?\n          <li \n          className='searchResult loadMore'\n          onClick={()=>this.externalSearch(this.state.text, this.state.currentPage + 1)}\n          >\n            Load More - Showing {(this.state.currentPage/this.state.totalPages*100).toFixed()}% of results\n          </li>\n          :\n          null\n          }\n\n          {this.state.error ? <li>{this.state.error}</li> : null}\n          {this.props.removed.length > 0 \n            ? \n            <>\n            <h5>Recently Deleted</h5>\n            {this.props.removed.map(food => this.makeSearchResultCard(food))}\n            </>\n            : null\n          }\n        </ul>\n      </div>\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return state\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    startLoading: () => dispatch({type: 'START_LOADING'}),\n    stopLoading: () => dispatch({type: 'STOP_LOADING'}),\n    externalSearch: (searchTerm, pageNumber = 1) => dispatch(externalSearch(searchTerm, pageNumber)),\n    foodsIndex: (searchTerm) => dispatch(foodsIndex(searchTerm))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchContainer)","import {URL, HEADERS} from '../constants'\n\nexport const createFood = (food) => {\n  // debugger\n  return (dispatch) => {\n    dispatch({type: 'START_LOADING'})\n    return fetch(`${URL}/foods`, {\n      method: 'POST',\n      headers: HEADERS(),\n      body: JSON.stringify(food)\n    })\n    .then(r => r.json())\n    .then(choiceFood => {\n      dispatch({type: 'STOP_LOADING'})\n      dispatch({type: 'ADD_FOOD', payload: choiceFood})\n    })\n  }\n}\n\nexport const foodsIndex = (searchTerm) => {\n  return dispatch => {\n    return fetch(`${URL}/foods?q=${searchTerm}`, {headers: HEADERS()})\n  }\n}","import React from 'react'\nimport {connect} from 'react-redux'\nimport {Draggable} from 'react-beautiful-dnd'\nimport {updateChoice, destroyChoice} from '../actions/choicesActions'\n\nclass ChoiceCard extends React.Component {\n\n  state = {\n    className: 'choice grid'\n  }\n\n  componentDidMount(){\n    this.setState({className: 'grid toExpand'})\n    setTimeout(() => {\n      this.setState({className: 'choice grid'})\n    }, 500)\n  }\n  \n  autoUpdateMacro = macro => {\n    const amount = this.props.choiceFood.choice.amount\n    const measure = this.props.choiceFood.measures.find(x => x.id === this.props.choiceFood.choice.measure_id)\n    const totalGrams = amount * measure.grams\n    const servingAmount = this.props.choiceFood.food.serving_grams\n    const measureAmount = measure.amount? measure.amount : 1\n    const servings = (totalGrams / servingAmount) / measureAmount\n\n    return (this.props.choiceFood.food[macro] * servings).toFixed()\n  }\n\n  updateInDB = (payload = null) => {\n    this.props.updateChoice({...this.props.choiceFood.choice, ...payload})\n  }\n\n  handleAmountChange = (e) => {\n    if (e.target.value >= 0) {\n      const id = this.props.choiceFood.choice.id\n      const amount = e.target.value\n      const payload = {id: id, amount: amount}\n      this.props.editChoice({choice: payload})\n    }\n  }\n\n  handleMeasureChange = (e) => {\n    // const fromMeasureId = this.props.choiceFood.choice.measure_id\n    // const fromMeasure = this.props.choiceFood.measures.find(x => x.id === fromMeasureId)\n    // const toMeasureId = parseInt(e.target.value)\n    // const toMeasure = this.props.choiceFood.measures.find(x => x.id === toMeasureId)\n    // let newAmount = (fromMeasure.grams / toMeasure.grams * this.props.choiceFood.choice.amount) * ((toMeasure.amount || 1) / (fromMeasure.amount || 1))\n    // if (!/^gram(s)?$/i.test(toMeasure.name)){newAmount = newAmount.toFixed(2)}\n    // else{newAmount = newAmount.toFixed()}\n    // // debugger\n    // this.props.editChoice({choice: {measure_id: toMeasureId, amount: newAmount, id: this.props.choiceFood.choice.id}})\n    const measure_id = parseInt(e.target.value)\n    const id = this.props.choiceFood.choice.id\n    const payload = {measure_id: measure_id, id: id}\n    this.props.editChoice({choice: payload})\n    this.updateInDB(payload)\n  }\n\n  generateMeasures = () => {\n    const measures = this.props.choiceFood.measures\n\n    return measures.sort((x,y) => x.name - y.name).map(measure => {\n      return (\n        <option value={measure.id} key={measure.id} >{measure.name}</option>\n      )\n    })\n  }\n\n  deleteChoice = () => {\n    // debugger\n    this.setState({className: 'grid shrunk'})\n    setTimeout(() => {\n      const id = this.props.choiceFood.choice.id\n      this.props.deleteChoice(id)\n      this.props.destroyChoice(id)\n    }, 500)\n  }\n\n  handleFocus = () => {\n    window.addEventListener('beforeunload', this.updateInDB)\n  }\n\n  handleBlur = () => {\n    window.removeEventListener('beforeunload', this.updateInDB)\n    this.updateInDB()\n  }\n\n  render(){\n    return(\n      <Draggable \n        draggableId={this.props.choiceFood.choice.id} \n        index={this.props.index}\n      >\n        {provided => (\n        <ul \n        className={this.state.className}\n        {...provided.draggableProps}\n        {...provided.dragHandleProps}\n        ref={provided.innerRef}\n        id={this.props.choiceFood.choice.id}\n        >\n          <li className='name'>\n            <span className='nameScroll'\n            >\n            ↕ {this.props.choiceFood.food.name}{this.props.choiceFood.food.brand ? ` - ${this.props.choiceFood.food.brand}` : null}\n            </span>\n          </li>\n          <li className='amount'>\n              <input type='number'\n              ref={(input) => { this.amountInput = input; }} \n              min='0'\n              name='amount'\n              value={this.props.choiceFood.choice.amount} \n              id={this.props.choiceFood.choice.id}\n              key={this.props.choiceFood.choice.id}\n              onChange={this.handleAmountChange} \n              onFocus={this.handleFocus}\n              onBlur={this.handleBlur}\n              >\n              </input>\n              </li>\n          <li className='measure'>\n              <select \n              className=''\n              value={this.props.choiceFood.choice.measure_id} \n              onChange={this.handleMeasureChange}\n              name='measure'\n              >\n                {this.generateMeasures()}\n              </select>\n            </li>\n          <li className='macro calories'>{this.autoUpdateMacro('calories')}</li>\n          <li className='macro fat'>{this.autoUpdateMacro('fat')}</li>\n          <li className='macro carbs'>{this.autoUpdateMacro('carbs')}</li>\n          <li className='macro protein'>{this.autoUpdateMacro('protein')}</li>\n          <li className='deleteColumn' ><button onClick={this.deleteChoice} className='deleteChoice deleteButton' alt='delete choice'><img src='trash-icon.png' className='deleteChoice' alt='delete choice'></img></button></li>\n        </ul>\n        \n        )}\n      </Draggable>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    deleteChoice: id => dispatch({ type: 'DELETE_CHOICE', payload: id}),\n    editChoice: info => dispatch({ type: 'EDIT_CHOICE', payload: info}),\n    updateChoice: info => dispatch(updateChoice(info)),\n    destroyChoice: info => dispatch(destroyChoice(info)),\n  }\n}\n\nexport default connect(null, mapDispatchToProps)(ChoiceCard)","import {URL, HEADERS} from '../constants'\n\nexport const updateChoice = (choiceObj) => {\n  console.log(choiceObj)\n  return dispatch => {\n    return fetch(`${URL}choices/${choiceObj.id}`, {\n      method: 'PATCH',\n      headers: HEADERS(),\n      body: JSON.stringify({choice: choiceObj})\n    })\n  }\n}\n\nexport const destroyChoice = (id) => {\n  return dispatch => {\n    return fetch(`${URL}/choices/${id}`, {method: 'DELETE'})\n  }\n}","import React from 'react'\nimport {connect} from 'react-redux'\nimport {Droppable} from 'react-beautiful-dnd'\nimport ChoiceCard from '../components/ChoiceCard'\n\nconst CategoryCard = props => {\n\n  const mySortedChoices = () => {\n    const myChoices = props.choiceFoods.filter(choice => choice.choice.category_id === props.category.id)\n    return myChoices.sort((x, y) => x.choice.index - y.choice.index)\n  }\n\n  const autoSum = (macro) => {\n    let sum = 0\n    props.choiceFoods.filter(choiceFood => choiceFood.choice.category_id === props.category.id).forEach(choiceFood => {\n      // console.log(choiceFood)\n      // const measurement = ((choiceFood.choice.measure === 'grams') ? choiceFood.food.serving_grams : (choiceFood.food.serving_unit_amount || 1))\n      // sum += parseInt((choiceFood.food[macro] / measurement * choiceFood.choice.amount).toFixed(0))\n      const amount = choiceFood.choice.amount\n      const measure = choiceFood.measures.find(x => x.id === choiceFood.choice.measure_id)\n      const totalGrams = amount * measure.grams\n      const servingAmount = choiceFood.food.serving_grams\n      const measureAmount = measure.amount? measure.amount : 1\n      const servings = (totalGrams / servingAmount) / measureAmount\n      // console.log(sum)\n      sum += (choiceFood.food[macro] * servings)\n    })\n    return sum.toFixed()\n  }\n\n  return(\n    <Droppable droppableId={props.category.id}>\n    {(provided) => (\n      <div className='category'\n      ref={provided.innerRef}\n      {...provided.droppableProps}\n      >\n        <p className='name categoryName'>{props.category.name}</p>\n        {mySortedChoices().map((choiceFood, index) => < ChoiceCard //.sort((x, y) => x.id - y.id)\n        // animationEnd={console.log('END!')}\n        choiceFood={choiceFood} \n        key={choiceFood.choice.id} \n        index={index}\n        deleteChoice={props.deleteChoice} \n        /> )}\n        {provided.placeholder}\n        <ul\n        className=\"grid categoryGrid\"\n        >\n          <li className='name categoryName' ></li>\n          <li className='subtotals'>Subtotals: </li>\n          <li className='calories macro'>{autoSum('calories')}</li>\n          <li className='fat macro'>{autoSum('fat')}</li>\n          <li className='carbs macro'>{autoSum('carbs')}</li>\n          <li className='protein macro'>{autoSum('protein')}</li>\n          <li className='deleteColumn'></li>\n        </ul>\n      </div>\n    )}\n    \n  </Droppable>\n  )\n}\n\nconst mapStateToProps = state => {\n  return {choiceFoods: state.choiceFoods}\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CategoryCard)","import {URL, HEADERS} from '../constants'\n\nexport const updateGoal = (goal) => {\n  return (dispatch) => {\n    dispatch({type: 'START_LOADING'})\n    dispatch({type: 'EDIT_GOAL', payload: goal})\n    return fetch(`${URL}/goals/${goal.id}`, {\n      method: 'PATCH', \n      headers: HEADERS(),\n      body: JSON.stringify({goal})\n    })\n    .then(r => dispatch({type: 'STOP_LOADING'}))\n  }\n}\n\nexport const createGoal = (info) => {\n  return (dispatch) => {\n    dispatch({type: 'START_LOADING'})\n    return fetch(`${URL}/goals`, {\n      method: 'POST', \n      headers: HEADERS(),\n      body: JSON.stringify(info)\n    })\n    .then(r => r.json())\n    .then(goal => {\n      dispatch({type: 'STOP_LOADING'})\n      dispatch({type: 'ADD_GOAL', payload: goal})\n    })\n  }\n}\n\nexport const deleteGoal = id => {\n  return dispatch => {\n    return fetch(`${URL}/goals/${id}`, {method: 'DELETE', headers: HEADERS()})\n    .then(r => dispatch({type: 'DELETE_GOAL', payload: id}))\n  }\n}","import React from 'react'\nimport {connect} from 'react-redux'\nimport {createGoal} from '../actions/goalsActions'\n\nclass AutogenerateGoal extends React.Component {\n\n  state = {\n    showUserInfo: false,\n    feet: null,\n    inches: null,\n    weight: null,\n    bodyFat: null,\n    age: null,\n    gender: 50,\n    activityLevel: 1.2,\n    calorieGoalAdjuster: 1,\n    macroGoal: 'high protein - lift day',\n    fat: 40,\n    carbs: 30,\n    protein: 30,\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault()\n    let tdeeCals;\n    if (this.state.bodyFat) {\n      tdeeCals = (this.katchMcArdle() + this.mifflin()) / 2\n    }\n    else{\n      tdeeCals = this.mifflin()\n    }\n\n    tdeeCals = tdeeCals * parseFloat(this.state.calorieGoalAdjuster) //\n\n    let calorieGoalDescriptor\n    if(this.state.calorieGoalAdjuster > 1){calorieGoalDescriptor=\"gain weight\"}\n    else if(this.state.calorieGoalAdjuster < 1){calorieGoalDescriptor=\"lose weight\"}\n    else{calorieGoalDescriptor=\"maintain weight\"}\n    \n    this.props.createGoal({\n      calories: tdeeCals.toFixed(), \n      fat: ((tdeeCals * parseInt(this.state.fat)) / 900).toFixed(),\n      carbs: ((tdeeCals * parseInt(this.state.carbs)) / 400).toFixed(),\n      protein: ((tdeeCals * parseInt(this.state.protein)) / 400).toFixed(),\n      name: `${this.state.macroGoal} to ${calorieGoalDescriptor}`, \n      user_id: this.props.user.id\n    })\n    this.props.toggleAutogenerate()\n  }\n\n  katchMcArdle = () => { // Katch-Mcardle formula and Harris Benedict Equation\n    const lbmPounds = this.state.weight - (this.state.weight * (this.state.bodyFat / 100))\n    const lbmKilos = lbmPounds / 2.2\n    const bmr = 370 + (21.6 * lbmKilos)\n    const cals = bmr * this.state.activityLevel\n    return cals\n  }\n\n  mifflin = () => {\n    const weightKG = this.state.weight / 2.2\n    const heightCM = (this.state.feet * 12 + parseInt(this.state.inches)) * 2.54\n    const ageCalc = (5 * this.state.age)\n    const genderCalc = (166 * (this.state.gender / 100) - 161)\n    const bmr = 10 * weightKG + 6.25 * heightCM - ageCalc + genderCalc\n    const cals = bmr * this.state.activityLevel\n    return cals\n  }\n\n  handleChange = e => {\n    this.setState({[e.target.name]: e.target.value})\n  }\n\n  activityLevelSelect = () => {\n    const levels = [\n      {name: \"0 times\", oldName: 'Sedentary - little or no exercise, desk job', multiplier: 1.2}, \n      {name: \"lightly 1 to 3 times\", oldName: 'lightly active - light exercise, sports 1-3 days a week', multiplier: 1.375}, \n      {name: \"moderately 3 to 5 times\", oldName: 'moderately active - moderate exercise, sports 3-5 days a week', multiplier: 1.55}, \n      {name: \"hard 6 to 7 times\", oldName: 'very active - hard exercise, sports 6-7 days a week', multiplier: 1.725}, \n      {name: \"extremely hard, at least every day\", oldName: 'extremely active - hard daily exercise, sports and physical job, or 2x a day exercise', multiplier: 1.9}]\n    return <select value={this.state.activityLevel} className='activityLevel' name='activityLevel' onChange={this.handleChange}>\n    {levels.map(opt => {\n        return <option name={opt.name} key={opt.name} value={opt.multiplier} >{opt.name}</option>\n      })}\n    </select>\n  }\n\n  calorieGoalAdjusterSelect = () => {\n    const calorieGoals = [\n      {name: \"gain weight: +5% calories\", multiplier: 1.05},\n      {name: \"maintain weight\", multiplier: 1},\n      {name: \"lose weight: -5% calories\", multiplier: 0.95},\n    ]\n    return <select value={this.state.calorieGoalAdjuster} name='calorieGoalAdjuster' onChange={this.handleChange}>\n      {calorieGoals.map(goal => <option name={goal.name} key={goal.name} value={goal.multiplier} id={goal.multiplier} >{goal.name}</option>)}\n    </select>\n  }\n\n  macroGoalsSelect = () => {\n    const macroGoals = [\n      {name: 'high protein - rest day', fat: 45, carbs: 20, protein: 35},\n      {name: 'high protein - lift day', fat: 40, carbs: 30, protein: 30},\n      {name: 'keto - low carb', fat: 60, carbs: 5, protein: 35},\n      {name: 'moderate-carb / paleo', fat: 40, carbs: 30, protein: 30},\n      {name: 'shipscale.com weightloss and muscle gain', fat: 35, carbs: 30, protein: 35},\n      {name: 'myFitnessPal', fat: 30, carbs: 50, protein: 20},\n      // {name: 'healthyeater.com', fat: 30, carbs: calc(), protein: 20},\n    ]\n    const selfchange = (e) => {\n      this.handleChange(e)\n      const goalProfile = macroGoals.filter(x=>x.name === e.target.value)[0]\n      this.setState({fat: goalProfile.fat, carbs: goalProfile.carbs, protein: goalProfile.protein})\n    }\n    return <select value={this.state.macroGoal} name='macroGoal' onChange={selfchange}>\n      {macroGoals.map(goal => <option name={goal.name} key={goal.name} value={goal.name}>{goal.name}</option>)}\n    </select>\n  }\n\n  render(){\n    return(\n      <div className='autogenerateMacros'>\n        <h2>Generate Macros</h2>\n        <button onClick={this.props.toggleAutogenerate}>close</button>\n        <form onSubmit={this.handleSubmit}>\n          <div><label>Height</label>\n          <span>\n            <input required type='number' min='1' max='7' placeholder='feet' name='feet' className='height' onChange={this.handleChange} ></input>\n            <input required type='number' min='0' max='11' placeholder='inches' name='inches' className='height' onChange={this.handleChange}></input>\n          </span></div>\n          <div><label>Weight (lbs)</label>\n          <input required type='number' min='1' max='1500' className='sensitive' placeholder='pounds' name='weight' onChange={this.handleChange}></input></div>\n          <div><label>Body Fat %</label>\n          <input type='number' min='2' max='90' className='sensitive' placeholder='(optional)' name='bodyFat' onChange={this.handleChange}></input></div>\n          <div><label>Age</label>\n          <input required type='number' min='18' max='130' pattern='[0-9]*' placeholder='age' name='age' onChange={this.handleChange}></input></div>\n          <label className='gender'>Gender</label>\n          <div><span className='gender'>\n            <label>female</label>\n            <input type='range' name='gender' onChange={this.handleChange}></input>\n            <label>male</label>\n          </span></div>\n          <div><label>exercise per week</label>\n          {this.activityLevelSelect()}</div>\n          <div>\n            <label>Calorie Goal</label>\n            {this.calorieGoalAdjusterSelect()}\n          </div>\n          <div>\n            <label>Macro Profile</label>\n            {this.macroGoalsSelect()}\n          </div>\n          <div>\n            <label>% calories from</label>\n            <label className='macrosForAutogenerate' >Fat</label>\n            <input className='macrosForAutogenerate' name='fat' type='number' value={this.state.fat} onChange={this.handleChange} />\n            <label className='macrosForAutogenerate' >carbs</label>\n            <input className='macrosForAutogenerate' name='carbs' type='number' value={this.state.carbs} onChange={this.handleChange} />\n            <label className='macrosForAutogenerate' >protein</label>\n            <input className='macrosForAutogenerate' name='protein' type='number' value={this.state.protein} onChange={this.handleChange} />\n          </div>\n          <div>\n            <label id='autoMacrosSum'>Total</label>\n            {parseInt(this.state.fat) + parseInt(this.state.carbs) + parseInt(this.state.protein)}%\n          </div>\n          <input type='submit' value='Generate Macros' />\n        </form>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    user: state.user\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return{\n    createGoal: (props) => dispatch(createGoal(props))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AutogenerateGoal)","import {URL, HEADERS} from '../constants'\n\nexport const createDay = () => {\n  return (dispatch) => {\n    // debugger\n    dispatch({type: 'START_LOADING'})\n    return fetch(`${URL}/days`, {\n      method: 'POST', \n      headers: HEADERS(),\n      body: JSON.stringify({date: (new Date()).toLocaleString()})\n    })\n    .then(r => r.json())\n    .then(day => {\n      dispatch({type: 'STOP_LOADING'})\n      dispatch({ type: 'ADD_DAY', payload: day})\n    })\n  }\n}\n\nexport const selectDay = (id) => {\n  return (dispatch) => {\n    dispatch({type: 'START_LOADING'})\n    return fetch(`${URL}/days/${id}`, {headers: HEADERS()})\n    .then(r => r.json())\n    .then(dayAndInfo => {\n      dispatch({type: 'STOP_LOADING'})\n      dispatch({ type: 'SELECT_DAY', payload: dayAndInfo})\n    })\n  }\n}\n\nexport const deleteDay = id => {\n  // debugger\n  return dispatch => {\n    dispatch({type: 'DELETE_DAY', payload: id})\n    return fetch(`${URL}/days/${id}`, {method: 'DELETE', headers: HEADERS()})\n  }\n}\n\nexport const updateDay = day => {\n  return dispatch => {\n    return fetch(`${URL}days/${day.id}`, {\n      method: 'PATCH',\n      headers: HEADERS(),\n      body: JSON.stringify(day)\n    })\n  }\n}\n\nexport const copyDay = id => {\n  return dispatch => {\n    dispatch({type: 'START_LOADING'})\n    return fetch(`${URL}days/copy/${id}`, {headers: HEADERS()})\n    .then(r => r.json())\n    .then(r => {\n      dispatch({type: 'STOP_LOADING'})\n      dispatch({ type: 'ADD_DAY', payload: r})\n      dispatch({ type: 'SELECT_DAY', payload: r})\n    })\n  }\n}","import React from 'react'\nimport {connect} from 'react-redux'\nimport {createGoal, updateGoal, deleteGoal} from '../actions/goalsActions'\nimport AutogenerateGoal from './AutogenerateGoal'\nimport {updateDay} from '../actions/daysActions'\n\nclass GoalsRow extends React.Component {\n\n  state = {\n    showEditGoalForm: false\n  }\n\n  goalsSelector = () => {\n    const sortedGoals = this.props.goals.sort(function(a,b){\n      if (a.name.toLowerCase() > b.name.toLowerCase()){return 1}\n      if (a.name.toLowerCase() < b.name.toLowerCase()){return -1}\n      return 0\n    })\n    return <select value={this.props.goal.id} className='goalsSelect' onChange={this.changeGoal}>\n      {sortedGoals.map(goal => <option value={goal.id} key={goal.id}>{goal.name}</option>)}\n    </select>\n  }\n\n  changeGoal = (e) => {\n    this.props.changeGoal(e.target.value)\n    this.props.updateDay({id: this.props.day.id,goal_id: e.target.value})\n  }\n\n  addGoal = () => {\n    this.props.createGoal({\n      user_id: this.props.user.id,\n      day_id: this.props.day.id,\n      name: 'new goal',\n      calories: 1, fat: 1, carbs: 1, protein: 1\n    })\n    .then(this.editGoal)\n  }\n  \n  editGoal = () => {\n    this.setState({showEditGoalForm: true})\n  }\n\n  deleteGoal = () => {\n    if(this.props.goals.length > 1){\n      this.props.deleteGoal(this.props.goal.id)\n    }\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.setState({showEditGoalForm: false})\n    this.props.updateGoal(this.props.goal)\n  }\n\n  handleChange = (e) => {\n    // debugger\n    if(e.target.name === \"calories\"){\n      this.props.editGoal({[e.target.name]: e.target.value})\n    }else{\n      const goal = {...this.props.goal, [e.target.name]: e.target.value}\n      this.props.editGoal({[e.target.name]: e.target.value, calories: parseInt(goal.fat)*9 + parseInt(goal.carbs)*4 + parseInt(goal.protein)*4})\n    }\n  }\n\n  toggleAutogenerate = () => {this.setState({showAutogenerateForm: !this.state.showAutogenerateForm})}\n\n  render(){\n    return(\n      <>\n      {\n      this.state.showEditGoalForm\n      ?\n      <form className='grid goals' onSubmit={this.handleSubmit}>\n        <li className='goalsTitle'><div>Edit Goal:</div></li>\n        <li className='goalsSelect'>\n          <div><input type='text' name='name' placeholder='name' defaultValue={this.props.goal.name} value={this.state.name} onChange={this.handleChange} /></div>\n        </li>\n        <li className='macro calories' ><div><input value={this.props.goal.calories} className='readonly' readonly/></div></li>\n        <li className='macro fat' ><div><input type='number' name='fat' min='0' placeholder='grams' value={this.props.goal.fat} onChange={this.handleChange} /></div></li>\n        <li className='macro carbs' ><div><input type='number' name='carbs' min='0' placeholder='grams' value={this.props.goal.carbs} onChange={this.handleChange} /></div></li>\n        <li className='macro protein' ><div><input type='number' name='protein' min='0' placeholder='grams' value={this.props.goal.protein} onChange={this.handleChange} /></div></li>\n        <li className='submitGoal'><input className='submitGoal' type='submit' value='✔'/></li>\n      </form>\n      :\n      <ul className='grid goals'>\n        <li className='goalsTitle'><div>Goals:</div></li>\n        <li className='goalsSelect'><div>{this.goalsSelector()}</div></li>\n        <li className='macro calories' ><div>{this.props.goal.calories}</div></li>\n        <li className='macro fat' ><div>{this.props.goal.fat}</div></li>\n        <li className='macro carbs' ><div>{this.props.goal.carbs}</div></li>\n        <li className='macro protein' ><div>{this.props.goal.protein}</div></li>\n        <span className='dropdown'>\n          <span className='dots'><span/><span/><span/></span>\n          <ul className='dropdown-content'>\n            <li onClick={this.addGoal}><button><img src='add-icon-circle.png' className='newGoal addButton' alt='add new goal'></img></button>Add Goal</li>\n            <li onClick={this.editGoal}><button><img src='edit-icon.png' className='editGoal editButton' alt='edit goal' /></button>Edit Goal</li>\n            {this.props.goals.length > 1 ?\n            <li onClick={this.deleteGoal}><button><img src='trash-icon.png' className='deleteChoice deleteButton' alt='delete choice' /></button>Delete Goal</li>\n            : null}\n            <li onClick={this.toggleAutogenerate}><button>♾</button>Autogenerate Goal</li>\n          </ul>\n        </span>\n      </ul>\n      }\n    <div \n      style={{display: this.state.showAutogenerateForm ? 'block' : 'none'}}\n      >\n      < AutogenerateGoal toggleAutogenerate={this.toggleAutogenerate}/>\n    </div>\n    </>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return state\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    changeGoal: (id) => dispatch({ type: 'CHANGE_GOAL', payload: id}),\n    updateGoal: (goal) => dispatch(updateGoal(goal)),\n    createGoal: (userId) => dispatch(createGoal(userId)),\n    deleteGoal: id => dispatch(deleteGoal(id)),\n    editGoal: info => dispatch({ type: 'EDIT_GOAL', payload: info}),\n    updateDay: info => dispatch(updateDay(info))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(GoalsRow)","import {URL, HEADERS} from '../constants'\n\nexport const saveAll = (state) => {\n  return (dispatch) => {\n    dispatch({type: 'START_LOADING'})\n    return fetch(`${URL}/saveall`, {\n      method: 'PATCH',\n      headers: HEADERS(),\n      body: JSON.stringify(state)\n    })\n    .then(r => dispatch({type: 'STOP_LOADING'}))\n  }\n}\n","import React from 'react'\nimport {connect} from 'react-redux'\nimport CategoryCard from '../components/CategoryCard'\nimport GoalsRow from '../components/GoalsRow'\nimport {updateGoal} from '../actions/goalsActions'\nimport {createGoal} from '../actions/goalsActions'\nimport {saveAll} from '../actions/saveAllAction'\nimport {deleteGoal} from '../actions/goalsActions'\n\nconst ChoiceContainer = props => {\n\n  const autoSum = (macro) => {\n    let sum = 0.0\n    props.choiceFoods.forEach(choiceFood => {\n      // console.log(choiceFood)\n      // const measurement = ((choiceFood.choice.measure === 'grams') ? choiceFood.food.serving_grams : (choiceFood.food.serving_unit_amount || 1))\n      // sum += parseInt((choiceFood.food[macro] / measurement * choiceFood.choice.amount).toFixed(0))\n      const amount = choiceFood.choice.amount || 0\n      const measure = choiceFood.measures.find(x => x.id === choiceFood.choice.measure_id)\n      const totalGrams = amount * measure.grams\n      const servingGrams = choiceFood.food.serving_grams\n      const measureAmount = measure.amount ? measure.amount : 1\n      const servings = (totalGrams / servingGrams) / measureAmount\n      sum += choiceFood.food[macro] * servings\n    })\n    return sum.toFixed() ///////////////////////////////////\n  }\n\n  const keyRow = \n    <ul className='grid key'>\n      <li className='name'><div>Name</div></li>\n      <li className='amount'><div>Amount</div></li>\n      <li className='measure' ><div>Measure</div></li>\n      <li className='macro calories' ><div>Calories</div></li>\n      <li className='macro fat' ><div>Fat</div></li>\n      <li className='macro carbs' ><div>Carbs</div></li>\n      <li className='macro protein' ><div>Protein</div></li>\n      <li className='deleteColumn'></li>\n    </ul>\n  \n  const compareForStyle = (macro) =>{\n    // debugger\n    if (!props.user.email){return null}\n    if (autoSum(macro) < props.goal[macro] - 5) {\n      return 'under'\n    }else if(autoSum(macro) > props.goal[macro] + 5) {\n      return 'over'\n    }else{return 'good'}\n  }\n\n  const totalsRow = () => {\n    return  <ul className='grid totalsRow'>\n      <li className='totals'><span>TOTALS:</span></li>\n      <li className={`calories macro`} placeholder='grams'>{autoSum('calories')}</li>\n      <li className={`fat macro ${compareForStyle('fat')}`}>{autoSum('fat')}</li>\n      <li className={`carbs macro ${compareForStyle('carbs')}`}>{autoSum('carbs')}</li>\n      <li className={`protein macro ${compareForStyle('protein')}`}>{autoSum('protein')}</li>\n      <li className='deleteColumn'></li>\n    </ul>\n  }\n\n  const macrosLeftRow = () => {\n    if(localStorage.getItem('token')){\n      return  <ul className='grid totalsRow'>\n        <li className='totals'><span>remaining:</span></li>\n        <li className={`calories macro`} placeholder='grams'>{(props.goal.calories - autoSum('calories')) || 0}</li>\n        <li className={`fat macro ${compareForStyle('fat')}`}>{(props.goal.fat - autoSum('fat')) || 0}</li>\n        <li className={`carbs macro ${compareForStyle('carbs')}`}>{(props.goal.carbs - autoSum('carbs')) || 0}</li>\n        <li className={`protein macro ${compareForStyle('protein')}`}>{(props.goal.protein - autoSum('protein')) || 0}</li>\n        <li className='deleteColumn'></li>\n      </ul>\n    }\n  }\n\n  return(\n    <div className='table'>\n      {localStorage.getItem('token') ? < GoalsRow /> : \n        <div className='welcome'>\n        <h1>WELCOME TO HAM</h1>\n        <h2>a simple macronutrient tracker</h2>\n        <hr/>\n        </div>\n      }\n      {totalsRow()}\n      {macrosLeftRow()}\n      {keyRow}\n      <div className='categoryScrollContainer'>\n        {props.categories.sort((x, y) => x.index - y.index).map(category => {\n          return <CategoryCard category={category} key={category.id} />\n        })}\n      </div>\n      {/* {keyRow} */}\n      {/* {totalsRow()} */}\n      {/* <button className='saveButton' onClick={() => props.saveAll(props)}>Save</button> */}\n      {props.loading? <div className='loading'></div> : null}\n      {/* <div className='loading'></div> */}\n    </div>\n  ) \n  \n}\n\nconst mapStateToProps = (state) => { // LIMIT TO WHAT THIS COMPONENT IS USING!\n  // console.log('Choice Container state to props', state)\n  return state\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    addChoices: (choices) => dispatch({ type: 'ADD_CHOICES', payload: choices}),\n    selectUser: (user) => dispatch({ type: 'SELECT_USER', payload: user}),\n    editGoal: (info) => dispatch({ type: 'EDIT_GOAL', payload: info}),\n    changeGoal: (id) => dispatch({ type: 'CHANGE_GOAL', payload: id}),\n    updateGoal: (goal) => dispatch(updateGoal(goal)),\n    createGoal: (state) => dispatch(createGoal(state)),\n    saveAll: (state) => dispatch(saveAll(state)),\n    editGoalName: (name) => dispatch({ type: 'EDIT_GOAL_NAME', payload: name}),\n    deleteGoal: id => dispatch(deleteGoal(id))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ChoiceContainer)","import {URL, HEADERS} from '../constants'\n\nexport const auth = (info) => {\n  return (dispatch) => {\n    dispatch({type: 'START_LOADING'})\n    return fetch(`${URL}/auth`, {\n      method: 'POST',\n      headers: HEADERS(),\n      body: JSON.stringify({\n        user: {...info}\n      })\n    })\n  }\n}\n\nexport const reauth = () => {\n  return (dispatch) => {\n    dispatch({type: 'START_LOADING'})\n    return fetch(`${URL}/reauth`, {\n      method: 'POST',\n      headers: HEADERS()\n    })\n    .then(response => {\n      return response.json()\n    })\n    .then(jwtAndUser => {\n      // console.log(jwtAndUser)\n      dispatch({type: 'STOP_LOADING'})\n      if (jwtAndUser.user && jwtAndUser.jwt) {\n        // console.log(jwtAndUser)\n        dispatch({ type: 'SELECT_USER', payload: jwtAndUser})\n      }\n    })\n  }\n}","import React from 'react'\nimport {createFood} from '../actions/foodsActions'\nimport {connect} from 'react-redux'\n\nclass MakeFoodCard extends React.Component {\n\n  state = {\n    name: '',\n    brand: '',\n    serving_unit_amount: '',\n    serving_unit_name: '',\n    serving_grams: '',\n    calories: '',\n    fat: '',\n    carbs: '',\n    protein: '',\n    cholesterol: '',\n    dietary_fiber: '',\n    potassium: '',\n    saturated_fat: '',\n    sodium: '',\n    sugars: '',\n    unit_size: '',\n    upc: '',\n    error: ''\n  }\n\n  handleChange = (e) => {\n    // console.log(e.target.name, e.target.value)\n    this.setState({[e.target.name]: e.target.value})\n  }\n\n  handleSubmit = e => {\n    e.preventDefault()\n    const s = this.state\n    if (s.name && s.serving_unit_amount && s.serving_unit_name && s.serving_grams && s.calories && s.fat && s.carbs && s.protein) {\n      this.props.createFood({...this.state, categoryId: this.props.categoryId, dayId: this.props.day.id})\n      this.props.toggleNewFoodForm()\n      this.setState({\n        name: '',\n        brand: '',\n        serving_unit_amount: '',\n        serving_unit_name: '',\n        serving_grams: '',\n        calories: '',\n        fat: '',\n        carbs: '',\n        protein: '',\n        cholesterol: '',\n        dietary_fiber: '',\n        potassium: '',\n        saturated_fat: '',\n        sodium: '',\n        sugars: '',\n        unit_size: '',\n        upc: ''\n      })\n    }else{\n      this.setState({error: 'Please fill required fields'})\n    }\n  }\n\n  render(){\n    return(\n      <div className='createFoodContainer' style={{display: this.props.showNewFoodForm ? 'block' : 'none'}}>\n      <button className='closeButton' onClick={this.props.toggleNewFoodForm}>Close</button>\n      <form onSubmit={this.handleSubmit} className='foodForm'>\n        {this.state.error ? <p className='errorMessage'>{this.state.error}</p> : null }\n        <ul className='newFoodGrid'>\n          <li>\n          <label>Food name</label>\n          <input type='text' value={this.state.name} onChange={this.handleChange} name='name' placeholder='Food name' />\n          </li>\n          <li>\n          <label>Brand (optional)</label>\n          <input type='text' value={this.state.brand} onChange={this.handleChange} name='brand' placeholder='food brand (optional)' />\n          </li>\n          <li>\n          <label>Serving Amount</label>\n          <input type='number' step=\"any\" min='0.1' value={this.state.serving_unit_amount} onChange={this.handleChange} name='serving_unit_amount' placeholder='serving amount' />\n          </li>\n          <li>\n            <label>Serving Unit</label>\n            <input type=\"text\" list=\"units\" name='serving_unit_name' value={this.state.serving_unit_name} onChange={this.handleChange} placeholder=\"unit\"/>\n            <datalist id='units'>\n              {['unit','tbsp','tsp','cup','package','piece', 'small', 'medium', 'large'].map(measure => {\n                return <option value={measure} key={measure} name='measure' >{measure} </option>}\n              )}\n            </datalist>\n          </li>\n          <li>\n            <label>Serving in Grams</label>\n            <input type='number' step=\"any\" min='0.1' value={this.state.serving_grams} onChange={this.handleChange} name='serving_grams' placeholder='grams/serving' />\n          </li>\n          {/* <li></li> */}\n          <li>\n            <label>Calories</label>\n            <input type='number' step=\"any\" min='0' value={this.state.calories} onChange={this.handleChange} name='calories' placeholder='Calories' />\n          </li>\n          <li>\n            <label>Fat</label>\n            <input type='number' step=\"any\" min='0' value={this.state.fat} onChange={this.handleChange} name='fat' placeholder='fat' />\n          </li>\n          <li>\n            <label>Carbs</label>\n            <input type='number' step=\"any\" min='0' value={this.state.carbs} onChange={this.handleChange} name='carbs' placeholder='carbs' />\n          </li>\n          <li>\n            <label>Protein</label>\n            <input type='number' step=\"any\" min='0' value={this.state.protein} onChange={this.handleChange} name='protein' placeholder='protein' />\n          </li>\n          <li>\n            <input type='submit' />\n          </li>\n        </ul>\n        <div onClick={() => this.setState({moreInfoForm: !this.state.moreInfoForm})} className='showMore'>\n          {this.state.moreInfoForm ? '⬆ Show Less Info (Optional) ⬆' : '⬇ Add More Info (Optional) ⬇'}\n        </div>\n        <ul className='newFoodGrid' style={{display: this.state.moreInfoForm ? 'grid' : 'none'}}>\n          <li>\n            <label>Saturated Fat</label>\n            <input type='number' step=\"any\" min='0' value={this.state.saturated_fat} onChange={this.handleChange} name='saturated_fat' placeholder='saturated fat' />\n          </li>\n          <li>\n            <label>Sugars</label>\n            <input type='number' step=\"any\" min='0' value={this.state.sugars} onChange={this.handleChange} name='sugars' placeholder='sugars' />\n          </li>\n          <li>\n            <label>Dietary Fiber</label>\n            <input type='number' step=\"any\" min='0' value={this.state.dietary_fiber} onChange={this.handleChange} name='dietary_fiber' placeholder='dietary fiber' />\n          </li>\n          <li>\n            <label>Sodium</label>\n            <input type='number' step=\"any\" min='0' value={this.state.sodium} onChange={this.handleChange} name='sodium' placeholder='sodium' />\n          </li>\n          <li>\n            <label>Cholesterol</label>\n            <input type='number' step=\"any\" min='0' value={this.state.cholesterol} onChange={this.handleChange} name='cholesterol' placeholder='cholesterol' />\n          </li>\n          <li>\n            <label>Potassium</label>\n            <input type='number' step=\"any\" min='0' value={this.state.potassium} onChange={this.handleChange} name='potassium' placeholder='potassium' />\n          </li>\n          <li>\n            <label>Unit Size</label>\n            <input type='number' step=\"any\" min='0' value={this.state.unit_size} onChange={this.handleChange} name='unit_size' placeholder='unit size' />\n          </li>\n          <li>\n            <label>Bar Code / UPC</label>\n            <input type='number' step=\"any\" min='0' value={this.state.upc} onChange={this.handleChange} name='upc' placeholder='UPC code' />\n          </li>\n          <li></li>\n          <li>\n            <input type='submit' />\n          </li>\n        </ul>\n      </form>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    day:state.day\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    createFood: (food) => dispatch(createFood(food))\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MakeFoodCard)","import React from 'react'\nimport { connect } from 'react-redux'\nimport {reauth} from '../actions/authActions'\nimport {createDay, selectDay, updateDay, deleteDay, copyDay} from '../actions/daysActions'\nimport {saveAll} from '../actions/saveAllAction'\nimport MakeFoodCard from './MakeFoodCard'\n\nclass SignedInHeader extends React.Component {\n\n  state = {\n    username: '',\n    email: '',\n    usernameOrEmail: '',\n    password: '',\n    signup: false,\n    name: null,\n    date: null,\n    editDay: false\n  }\n\n  handleSignOut = () => {\n    this.setState({\n      username: '',\n      email: '',\n      usernameOrEmail: '',\n      password: '',\n      signup: false,\n      name: null,\n      date: null,\n      editDay: false\n    })\n    localStorage.removeItem('token');\n    this.props.signOut()\n  }\n\n  prettyDayDisplay = (dayObj) => {\n    const day = dayObj.date\n    // console.log(dayObj.date)\n    // debugger\n    // const day = new Date(dayObj.date)\n    // let year = day.getFullYear();\n    // year = year.toString().substr(2,2);\n    // return `${day.getMonth() + 1}-${day.getDate() + 1}-${year}` + (dayObj.name ? ` ${dayObj.name}` : '' )\n    return `${day.slice(5,7)}-${day.slice(8,10)}-${day.slice(2,4)}` + (dayObj.name ? ` ${dayObj.name}` : '' )\n  }\n\n  dayOptions = () => {\n    // const days = this.props.days.filter(day => day.id !== this.props.day.id)\n    const days = this.props.days.sort((x, y) => new Date(y.date) - new Date(x.date))\n    return days.map(day => {\n      return <option value={day.id} key={day.id} >{this.prettyDayDisplay(day)}</option>\n    })\n  }\n  \n  editDay = () => {\n    this.setState({editDay: true})\n  }\n\n  handleDayFormChange = (e) => {\n    this.setState({[e.target.name]: e.target.value})\n  }\n\n  updateDay = (e) => {\n    e.preventDefault()\n    this.setState({editDay: false, name: null, date: null})\n    if ((this.state.name !== this.props.day.name) || (this.state.date && this.state.date !== this.props.day.date)) {\n      const day = {...this.props.day, name: this.state.name || this.props.day.name, date: this.state.date || this.props.day.date }\n      this.props.editDay(day)\n      this.props.updateDay(day)\n    }\n  }\n\n  dayChangeHandler = e => {\n    // this.props.saveAll(this.props) // doesn't work?\n    this.props.selectDay(e.target.value)\n  }\n\n  todaysDate = () => {\n    const date = new Date()\n    const year = date.getFullYear()\n    let month = date.getMonth() + 1\n    let day = date.getDate()\n    if (month < 10) {month = `0${month}`}\n    if (day < 10) {day = `0${day}`}\n    return `${year}-${month}-${day}`\n  }\n\n  deleteDay = () => {\n    if (this.props.days.length > 1 && window.confirm('Are you sure you want to delete this day?')) {\n      const anotherDay = this.props.days.filter(x => x.id !== this.props.day.id)[0]\n      this.props.selectDay(anotherDay.id)\n      this.props.deleteDay(this.props.day.id)\n    }\n  }\n\n  toggleNewFoodForm = () => {\n    this.setState({showNewFoodForm: !this.state.showNewFoodForm})\n  }\n\n  copyDay = () => {\n    this.props.copyDay(this.props.day.id)\n  }\n\n  render(){\n    // console.log(this.props.days)\n    return(\n      <div className='header'>\n        <div className='menu'>\n          <div className='menuButton'><img src='menu-icon-white.png' className='menuButton' alt='menu button'></img>\n            <div className='sideMenu'>\n              <ul className='menuItems'>\n                <h1>{this.props.user.username}</h1>\n                <li onClick={this.toggleNewFoodForm} className=\"clickable\">Create Your Own Food</li>\n                < MakeFoodCard showNewFoodForm={this.state.showNewFoodForm} toggleNewFoodForm={this.toggleNewFoodForm} categoryId={this.props.categories[0].id} />\n                <li className='contact clickable'><a href='mailto:ham.macros@gmail.com'>Contact</a></li>\n                <li className='signOut clickable' onClick={this.handleSignOut}>Sign Out</li>\n              </ul>\n            </div>\n          </div>\n        </div>\n        <div className='daySelect'>\n          {this.state.editDay\n          ?\n          <form className='dayEdit' onSubmit={this.updateDay}>\n            <input type='text' name='name' placeholder='name' defaultValue={this.props.day.name} value={this.state.name} onChange={this.handleDayFormChange} />\n            <input type='date' name='date' placeholder='date' defaultValue={this.props.day.date} value={this.state.date} onChange={this.handleDayFormChange} />\n            <input type='submit' value='✔'/>\n          </form>\n          :\n          <span className='daySelect'>\n            <select onChange={this.dayChangeHandler} value={this.props.day.id} className='daySelect'>\n              {this.dayOptions()}\n            </select>\n            <span className=\"dropdown\">\n              <span className='dots'><span/><span/><span/></span>\n              <ul className='dropdown-content'>\n                <li onClick={this.props.createDay}><button><img src='add-icon-circle.png' className='newDay addButton' alt='add new Day'></img></button>Add Day</li>\n                <li onClick={this.editDay}><button><img src='edit-icon.png' className='editDay editButton' alt='edit Day' /></button>Edit Day</li>\n                <li onClick={this.copyDay}><button className='copyButton'><span className='copy'>𝍌</span></button>Copy Day</li>\n                {this.props.days.length > 1 ?\n                <li onClick={this.deleteDay}><button><img src='trash-icon.png' className='deleteDay deleteButton' alt='delete Day' /></button>Delete Day</li>\n                : null}\n              </ul>\n            </span>\n          </span>\n          }\n        </div>\n        <div className='appName'>\n          <h1 className='appName'>HAM</h1>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return state\n}\n\nconst mapDispatchToProps = dispatch => {\n  return{\n    signOut: () => dispatch({ type: 'SIGN_OUT'}),\n    editDay: (day) => dispatch({type: 'EDIT_DAY', payload: day}),\n    updateDay: day => dispatch(updateDay(day)),\n    reauth: () => dispatch(reauth()),\n    createDay: () => dispatch(createDay()),\n    selectDay: (id) => dispatch(selectDay(id)),\n    saveAll: (state) => dispatch(saveAll(state)),\n    startLoading: () => dispatch({type: 'START_LOADING'}),\n    stopLoading: () => dispatch({type: 'STOP_LOADING'}),\n    deleteDay: (id) => dispatch(deleteDay(id)),\n    copyDay: (id) => dispatch(copyDay(id))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignedInHeader)","import React from 'react'\nimport {connect} from 'react-redux'\nimport '../constants.js'\nimport {auth} from '../actions/authActions'\nimport {forgotPassword} from '../actions/passwordActions'\n\nclass LoginCard extends React.Component {\n\n  state = {\n    usernameOrEmail: '',\n    password: '',\n    error: ''\n  }\n\n  handleSubmit = e => {\n    e.preventDefault()\n    if (this.props.showSignup){this.props.toggleSignup(e)}\n    if (this.state.password) {\n      this.props.startLoading()\n      this.props.auth({username_or_email: this.state.usernameOrEmail.toLowerCase(), password: this.state.password})\n      .then(response => {\n        return response.json()\n      })\n      .then(response => {\n        // console.log(jwtAndUser)\n        this.props.stopLoading()\n        if (response.user && response.jwt) {\n          localStorage.setItem('token', response.jwt)\n          this.props.selectUser(response)\n        }\n        else {\n          this.setState({error: response.message})\n        }\n      })\n    }\n  }\n\n  handleChange = e => {\n    this.setState({ [e.target.name]: e.target.value})\n  }\n\n  forgotPassword = () => {\n    this.setState({error: ''})\n    if(this.state.usernameOrEmail.match(/.+@.+\\..+/)){\n      this.props.startLoading()\n      this.props.forgotPassword(this.state.usernameOrEmail)\n      .then(r => r.json())\n      .then(r => this.setState({error: r.error}))\n      this.props.stopLoading()\n      // this.setState({error: `Email sent to ${this.state.usernameOrEmail}`})\n    }else{\n      this.setState({error: 'Please enter a valid email address'})\n    }\n  }\n\n  render(){\n    return(\n      <>\n      <form className='login' onSubmit={this.handleSubmit}>\n        <h1>Login</h1>\n        <input autoComplete=\"true\" value={this.state.usernameOrEmail} name='usernameOrEmail' id='usernameOrEmail' onChange={this.handleChange} type='text' placeholder='Username/Email' />\n        <input autoComplete=\"true\" value={this.state.password} name='password' onChange={this.handleChange} type='password' placeholder='Password' />\n        {/* <div onClick={this.forgotPassword}>Forgot Password?</div> */}\n        <input value='Log In' type='submit' className='standardButton' />\n        {/* <button onClick={this.props.toggleSignup} className='standardButton'>{this.props.showSignup ? 'Close Sign Up': 'Sign Up'}</button> */}\n        {this.state.error ? <p className='errorMessage'>{this.state.error}</p> : null }\n      </form>\n      </>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    selectUser: (user) => dispatch({ type: 'SELECT_USER', payload: user}),\n    startLoading: () => dispatch({type: 'START_LOADING'}),\n    stopLoading: () => dispatch({type: 'STOP_LOADING'}),\n    auth: (info) => dispatch(auth(info)),\n    forgotPassword: (email) => dispatch(forgotPassword(email))\n  }\n}\n\nexport default connect(null, mapDispatchToProps)(LoginCard)","import {URL, HEADERS} from '../constants'\n\nexport const forgotPassword = (email) => {\n  return (dispatch) => {\n    return fetch(`${URL}/password/forgot`, {\n      method: 'POST',\n      headers: HEADERS(),\n      body: JSON.stringify({\n        email: email\n      })\n    })\n  }\n}\n\nexport const resetPassword = (user) => {\n  return (dispatch) => {\n    return fetch(`${URL}/password/reset`, {\n      method: 'POST',\n      headers: HEADERS(),\n      body: JSON.stringify({\n        user: user\n      })\n    })\n  }\n}","import React from 'react'\nimport {connect} from 'react-redux'\nimport '../constants.js'\nimport {createUser} from '../actions/usersActions'\n\nclass SignUpCard extends React.Component {\n\n  state = {\n    username: '',\n    email: '',\n    password: '',\n    password2: '',\n    error: ''\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    if (!this.state.password || !this.state.username || !this.state.email) {\n      this.setState({error: 'Username, email, and password required'})\n    }\n    // else if (!(/\\w+@\\w+\\.\\w+/).test(this.state.email)) {\n    //   this.setState({error: 'Email is invalid'})\n    // }\n    else if (this.state.password !== this.state.password2){\n      this.setState({error: 'Passwords must match'})\n    }\n    else if (this.state.password.length < 6){\n      this.setState({error: 'Password must be at least 6 characters'})\n    }\n    else{\n      this.props.createUser(this.state)\n      .then(resp => {\n        this.props.stopLoading()\n        if (resp.user && resp.jwt) {\n          localStorage.setItem('token', resp.jwt)\n          this.props.selectUser(resp)\n        }else if(resp.error){\n          this.setState({error: resp.error})\n          // debugger\n        }\n      })\n    }\n  }\n\n  handleSignupClick = () => {\n    if (this.state.signup){\n      this.signup()\n      this.setState({\n        password: ''\n      })\n    }else{\n      this.setState({signup: true})\n    }\n  }\n\n  handleChange = e => {\n    this.setState({ [e.target.name]: e.target.value})\n  }\n\n  render(){\n    return(\n      // <div className='modal' style={{display: `${ this.props.showSignup && !this.props.user.email ? 'block' : 'none'}`}}>\n      <form onSubmit={this.handleSubmit} className='signupForm'>\n        <h1>Sign Up</h1>\n        <li>\n        <label>Username</label><br/>\n        <input required value={this.state.username} name='username' onChange={this.handleChange} type='text' placeholder='username' />\n        </li>\n        <li>\n          <label>Email</label><br/>\n          <input required value={this.state.email} name='email' onChange={this.handleChange} type='email' placeholder='email' />\n        </li>\n        <li>\n          <label>Password</label><br/>\n          <input required value={this.state.password} minLength='6' name='password' onChange={this.handleChange} type='password' placeholder='6 characters'/>\n        </li>\n        <li>\n          <label>Password</label><br/>\n          <input required value={this.state.password2} minLength='6' name='password2' onChange={this.handleChange} type='password' placeholder='confirm'/>\n        </li>\n        <li>\n          <input value='Sign Up' type='submit'/>\n        </li>\n        {this.state.error ? <p className='errorMessage'>{this.state.error}</p> : null }\n      </form>\n      // </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return state\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    selectUser: (user) => dispatch({ type: 'SELECT_USER', payload: user}),\n    createUser: user => dispatch(createUser(user)),\n    stopLoading: () => dispatch({type: 'STOP_LOADING'})\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignUpCard)","import {URL, HEADERS} from '../constants'\n\nexport const createUser = (user) => {\n  return (dispatch) => {\n    dispatch({type: 'START_LOADING'})\n    return fetch(`${URL}/users`, {\n      method: 'POST', \n      headers: HEADERS(),\n      body: JSON.stringify({\n        user: user\n      })\n    })\n    .then(r => r.json())\n  }\n}","import React from 'react'\nimport {connect} from 'react-redux'\nimport '../constants.js'\nimport {resetPassword} from '../actions/passwordActions'\n\nclass SignUpCard extends React.Component {\n\n  state = {\n    email: this.props.email,\n    password: '',\n    password2: '',\n    token: this.props.token,\n    error: ''\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    if (!this.state.password || !this.state.email) {\n      this.setState({error: 'Username, email, and password required'})\n    }\n    // else if (!(/\\w+@\\w+\\.\\w+/).test(this.state.email)) {\n    //   this.setState({error: 'Email is invalid'})\n    // }\n    else if (this.state.password !== this.state.password2){\n      this.setState({error: 'Passwords must match'})\n    }\n    else if (this.state.password.length < 6){\n      this.setState({error: 'Password must be at least 6 characters'})\n    }\n    else{\n      this.props.resetPassword(this.state)\n      .then(resp => {\n        // debugger\n        switch(resp.status){\n          case 200:\n            this.setState({error: \"Successful! Please Sign In\"})\n            break;\n          case 422:\n            this.setState({error: \"Something went wrong\"})\n            break;\n          case 412:\n            this.setState({error: \"Link expired or incorrect\"})\n            break;\n          case 404:\n            this.setState({error: \"Email does not match\"})\n            break;\n          default:\n            this.setState({error: \"Are you trying to hack this app right now?\"})\n            break;\n        }\n      })\n    }\n  }\n\n  handleSignupClick = () => {\n    if (this.state.signup){\n      this.signup()\n      this.setState({\n        password: ''\n      })\n    }else{\n      this.setState({signup: true})\n    }\n  }\n\n  handleChange = e => {\n    this.setState({ [e.target.name]: e.target.value})\n  }\n\n  render(){\n    return(\n      <div className=\"password-reset-background\">\n      <div className='password-reset'>\n      <button onClick={this.props.closeResetPassword} style={{position:\"absolute\",right:\"0px\"}}>X</button>\n      <h2 style={{textAlign:\"center\"}}>RESET PASSWORD</h2>\n      <form onSubmit={this.handleSubmit} className='signupForm'>\n        <li>\n          <label>Email</label><br/>\n          <input required autoComplete=\"true\" value={this.state.email} name='email' onChange={this.handleChange} type='email' placeholder='email' />\n        </li>\n        <li>\n          <label>Password</label><br/>\n          <input required autoComplete=\"false\" value={this.state.password} minLength='6' name='password' onChange={this.handleChange} type='password' placeholder='6 characters'/>\n        </li>\n        <li>\n          <label>Repeat Password</label><br/>\n          <input required autoComplete=\"false\" value={this.state.password2} minLength='6' name='password2' onChange={this.handleChange} type='password' placeholder='confirm'/>\n        </li>\n        <li>\n          <input value='Reset Password' type='submit'/>\n        </li>\n        {this.state.error ? <p style={{color:\"red\",textAlign:\"center\",fontWeight:\"bold\"}}>{this.state.error}</p> : null }\n      </form>\n      </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return state\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    resetPassword: user => dispatch(resetPassword(user)),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignUpCard)","import React from 'react'\nimport { connect } from 'react-redux'\nimport LoginCard from './LoginCard'\nimport SignUpCard from './SignUpCard'\nimport ResetPasswordCard from './ResetPasswordCard'\nimport {reauth} from '../actions/authActions'\nimport {saveAll} from '../actions/saveAllAction'\n\nclass NotSignedInHeader extends React.Component {\n\n  state = {\n    email: '',\n    signup: false,\n    showSignup: false,\n    showPasswordReset: false,\n    token: '',\n    showAuth: false\n  }\n\n  componentDidMount(){\n    if (localStorage.getItem('token')){this.props.reauth()} // thunk\n    let params = window.location.search\n    if (params.includes('token') && params.includes(\"email\")){\n      params = params.split(/(\\?token=|&email=)/)\n      const token = params[2]\n      const email = decodeURIComponent(params[4])\n      this.setState({showPasswordReset: true, email: email, token: token})\n    }\n  }\n\n  handleSignOut = () => {\n    this.setState({\n      email: '',\n      signup: false,\n      showSignup: false,\n      showPasswordReset: false,\n      token: '',\n      showAuth: false\n    })\n    localStorage.removeItem('token');\n    this.props.signOut()\n  }\n\n  toggleSignup = (e) => {\n    e.preventDefault()\n    this.setState({showSignup: !this.state.showSignup})\n  }\n\n  signedIn = () => {\n    return !!this.props.user.email\n  }\n\n  closeResetPassword = () => {this.setState({showPasswordReset: false})}\n\n  toggleShowAuth = () => this.setState({showAuth: !this.state.showAuth})\n\n  render(){\n    return(\n      <div className='notSignedInHeader'>\n        <div className='notSignedInMessage'><p>Use HAM free. Log in to record data</p></div>\n        <div className='login'>\n          <button onClick={()=>this.setState({showAuth:true})} className=\"loginSignupButton\">Login<br/>Sign Up</button>\n          {this.state.showAuth ? \n            <div className=\"authModalBackground\">\n              <div className=\"authModal\">\n                <div className=\"closeAndSwitchButtons\">\n                  <button onClick={()=>this.setState({showSignup:false})} disabled={!this.state.showSignup} >Log In</button>\n                  <button onClick={()=>this.setState({showSignup:true})} disabled={this.state.showSignup} >Sign Up</button>\n                  <button className=\"authModalButton\" onClick={()=>this.setState({showAuth:false})}>X</button>\n                </div>\n                <div className={`loginOrSignup ${this.state.showSignup ? 'showSignup' : null}`}>\n                  < LoginCard />\n                  < SignUpCard />\n                </div>\n              </div>\n            </div>\n            :\n            null\n          }\n          {this.state.showPasswordReset? < ResetPasswordCard closePasswordReset={this.toggleSignup} email={this.state.email} token={this.state.token} closeResetPassword={this.closeResetPassword} /> : null }\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return state\n}\n\nconst mapDispatchToProps = dispatch => {\n  return{\n    signOut: () => dispatch({ type: 'SIGN_OUT'}),\n    reauth: () => dispatch(reauth()),\n    saveAll: (state) => dispatch(saveAll(state)),\n    startLoading: () => dispatch({type: 'START_LOADING'}),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NotSignedInHeader)","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport {reauth} from '../actions/authActions'\nimport {createDay, selectDay} from '../actions/daysActions'\nimport {saveAll} from '../actions/saveAllAction'\nimport {deleteDay, updateDay} from '../actions/daysActions'\nimport SignedInHeader from '../components/SignedInHeader'\nimport NotSignedInHeader from '../components/NotSignedInHeader'\n\nclass Header extends React.Component {\n\n  state = {\n    username: '',\n    email: '',\n    usernameOrEmail: '',\n    password: '',\n    signup: false,\n    editDayName: false,\n    showSignup: false\n  }\n\n  componentDidMount(){\n    if (localStorage.getItem('token')){this.props.reauth()} // thunk\n    // window.addEventListener('beforeunload', e => {\n    //   this.props.saveAll(this.props)\n    // })\n    // document.addEventListener('keydown', e => {\n    //   if (e.metaKey && e.code === 'KeyS') {\n    //     e.preventDefault()\n    //     this.props.saveAll(this.props)\n    //   }\n    // })\n  }\n\n  handleSignOut = () => {\n    this.setState({\n      username: '',\n      email: '',\n      usernameOrEmail: '',\n      password: '',\n      signup: false,\n      editDayName: false,\n      dayName: ''\n    })\n    localStorage.removeItem('token');\n    this.props.signOut()\n  }\n\n  toggleSignup = (e) => {\n    e.preventDefault()\n    this.setState({showSignup: !this.state.showSignup})\n  }\n\n  prettyDayDisplay = (dayObj) => {\n    const day = new Date(dayObj.created_at)\n    return `${day.getMonth() + 1}-${day.getDate()}-${day.getFullYear()}` + (dayObj.name ? ` ${dayObj.name}` : '' )\n  }\n\n  dayOptions = () => {\n    // const days = this.props.days.filter(day => day.id !== this.props.day.id)\n    const days = this.props.days.sort((x, y) => new Date(y.created_at) - new Date(x.created_at))\n    return days.map(day => {\n      return <option value={day.id} key={day.id} >{this.prettyDayDisplay(day)}</option>\n    })\n  }\n  \n  editDayToggle = () => {\n    this.setState({editDayName: !this.state.editDayName})\n  }\n\n  handleDayNameChange = (e) => {\n    this.setState({dayName: e.target.value})\n  }\n\n  dayChangeHandler = e => {\n    // this.props.saveAll(this.props) // doesn't work?\n    this.props.selectDay(e.target.value)\n  }\n\n  todaysDate = () => {\n    const date = new Date()\n    const year = date.getFullYear()\n    let month = date.getMonth() + 1\n    let day = date.getDate()\n    if (month < 10) {month = `0${month}`}\n    if (day < 10) {day = `0${day}`}\n    return `${year}-${month}-${day}`\n  }\n\n  deleteDay = () => {\n    if (this.props.days.length > 1 && window.confirm('Are you sure you want to delete this day?')) {\n      const anotherDay = this.props.days.filter(x => x.id !== this.props.day.id)[0]\n      this.props.selectDay(anotherDay.id)\n      this.props.deleteDay(this.props.day.id)\n    }\n  }\n\n  render(){\n    // console.log(this.props.choiceFoods)\n    return(\n      localStorage.getItem('token')\n      ? \n      < SignedInHeader /> \n      : \n      < NotSignedInHeader /> \n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return state\n}\n\nconst mapDispatchToProps = dispatch => {\n  return{\n    signOut: () => dispatch({ type: 'SIGN_OUT'}),\n    reauth: () => dispatch(reauth()),\n    createDay: () => dispatch(createDay()),\n    selectDay: (id) => dispatch(selectDay(id)),\n    editDayName: (dayName) => dispatch({type: 'EDIT_DAY_NAME', payload: dayName}),\n    saveAll: (state) => dispatch(saveAll(state)),\n    startLoading: () => dispatch({type: 'START_LOADING'}),\n    stopLoading: () => dispatch({type: 'STOP_LOADING'}),\n    deleteDay: (id) => dispatch(deleteDay(id)),\n    updateDay: (dayObj) => dispatch(updateDay(dayObj))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Header)","import React from 'react'\nimport {connect} from 'react-redux'\nimport {selectSearchResult} from '../actions/searchActions'\n\nconst Footer = props =>  {\n\n  return(\n    <div className='footer' >\n      \n      <a href='http://ndb.nal.usda.gov' className='attribution'>\n        <div className='small'>Powered by the</div>\n        <h2>USDA</h2>\n      </a>\n      <span className='hidden'>Powered by the U.S. Department of Agriculture, Agricultural Research Service, 2019 <br/> USDA Branded Food Products Database - Nutrient Data Laboratory Home Page http://ndb.nal.usda.gov</span>\n    </div>\n  )\n}\n\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    addChoice: (choice) => dispatch({ type: 'ADD_CHOICES', payload: [choice]}),\n    selectSearchResult: prop => dispatch(selectSearchResult(prop))\n  }\n}\n\nexport default connect(null, mapDispatchToProps)(Footer)","import React from 'react';\nimport './App.css';\nimport SearchContainer from './containers/SearchContainer'\nimport Table from './containers/Table'\nimport Header from './containers/Header'\nimport {DragDropContext} from 'react-beautiful-dnd';\nimport {connect} from 'react-redux'\nimport Footer from './components/Footer'\nimport {saveAll} from './actions/saveAllAction'\n\nclass App extends React.Component {\n\n  onDragEnd = result => {\n    const {destination, draggableId} = result;\n    if (!destination) {\n      return;\n    }\n\n    const choiceFood = this.props.choiceFoods.find(x => x.choice.id === draggableId)\n    const categoryId = destination.droppableId\n    const thisCatsChoices = this.props.choiceFoods.filter(x => x.choice.category_id === categoryId)\n    const orderedChoices = thisCatsChoices.sort((x, y) => x.choice.index - y.choice.index)\n    const orderedIds = orderedChoices.map(x => x.choice.id)\n    if (choiceFood.choice.category_id === categoryId){\n      const index = orderedIds.indexOf(choiceFood.choice.id)\n      orderedIds.splice(index, 1)\n    }\n    orderedIds.splice(destination.index, 0, choiceFood.choice.id)\n    const choiceFoods = orderedIds.map((id, i) => {\n      this.props.editChoice({choice: {id: id, index: i, category_id: categoryId}})\n      return({choice: {id: id, index: i, category_id: categoryId}})\n    })\n    this.props.saveAll({choiceFoods: choiceFoods})\n  };\n\n  render(){\n    return (\n      <div className=\"App\">\n        < Header />\n        <DragDropContext onDragEnd={this.onDragEnd}>\n          < Table />\n        </DragDropContext>\n        <div className='loading'\n          style={{display: this.props.loading ? 'block' : 'none'}}\n        ></div>\n        <div  className='footerSearch'>\n          < SearchContainer />\n        </div>\n        < Footer />\n        {/* < SearchContainer /> */}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return state\n}\n\nconst mapDispatchToProps = dispatch => {\n  return{\n    editChoice: info => dispatch({ type: 'EDIT_CHOICE', payload: info}),\n    saveAll: info => dispatch(saveAll(info)),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","var _ = require('lodash');\n\nconst initialState = {\n  categories: [\n    {name: 'Breakfast', created_at: 1, id: 1},\n    {name: 'Lunch', created_at: 2, id: 2},\n    {name: 'Snack', created_at: 3, id: 3},\n    {name: 'Dinner', created_at: 4, id: 4}\n  ],\n  day: {},\n  days: [],\n  choiceFoods: [],\n  goal: {},\n  goals: [],\n  user: {},\n  error: {},\n  loading: false,\n  removed: []\n}\n\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'ADD_CHOICE': {\n      const choiceFoodsCopy = _.cloneDeep(state.choiceFoods)\n      choiceFoodsCopy.push({\n        choice: {...action.payload.choice, id: action.payload.choice.id || Date.now()},\n        food: action.payload.food,\n        measures: action.payload.measures\n      })\n      return {...state, \n        choiceFoods: choiceFoodsCopy}\n    }\n    case 'ADD_CHOICES': {\n      return {...state, choiceFoods: [...state.choiceFoods, ...action.payload]}\n    }\n    case 'DELETE_CHOICE': {\n      const removedChoice = state.choiceFoods.find(x => x.choice.id === action.payload)\n      return {...state, \n        choiceFoods: state.choiceFoods.filter(x => x.choice.id !== action.payload),\n        removed: [\n          ...state.removed.filter(x => x.id !== removedChoice.food.id),\n          removedChoice.food\n        ]\n      }\n    }\n    case 'SELECT_USER': {\n      return {\n        ...state,\n        categories: action.payload.user.categories,\n        choiceFoods: action.payload.user.choice_foods,\n        day: action.payload.user.day,\n        days: action.payload.user.days,\n        goal: action.payload.user.goal,\n        goals: action.payload.user.goals,\n        user: {\n          email: action.payload.user.email,\n          id: action.payload.user.id,\n          username: action.payload.user.username\n        }\n      }\n    }\n    case 'EDIT_GOAL': {\n      return {\n        ...state,\n        goal: {\n          ...state.goal,\n          ...action.payload\n        },\n        goals: [\n          ...state.goals.filter(x => x.id !== state.goal.id),\n          {\n            ...state.goal,\n            ...action.payload\n          }\n        ]\n      }\n    }\n    case 'CHANGE_GOAL': {\n      const id = action.payload\n      const goal = state.goals.find(x => x.id === parseInt(id))\n      return {\n        ...state,\n        goal: goal\n      }\n    }\n    case 'SIGN_OUT': {\n      // console.log('sign out')\n      return initialState\n    }\n    case 'HANDLE_DROP': {\n      const newChoices = []\n      const choicesIds = action.payload.choicesIds\n      for (let i = 0; i < choicesIds.length; i ++) {\n        const choiceFood = state.choiceFoods.find(x => x.choice.id === parseInt(choicesIds[i]))\n\n\n        newChoices.push({...choiceFood, choice: {...choiceFood.choice, index: i}})\n      }\n      const choiceFood = newChoices.find(x => x.choice.id === action.payload.choiceId)\n      choiceFood.choice.category_id = action.payload.categoryId\n      return {\n        ...state,\n        choiceFoods: newChoices\n      }\n    }\n    case 'ADD_DAY': {\n      return {\n        ...state,\n        categories: action.payload.categories,\n        choiceFoods: [],\n        day: action.payload,\n        days: [...state.days, {...action.payload, goal_id: action.payload.goal.id}],\n        goal: action.payload.goal\n      }\n    }\n    case 'SELECT_DAY': {\n      return {\n        ...state,\n        categories: action.payload.categories,\n        choiceFoods: action.payload.choice_foods,\n        day: {\n          date: action.payload.date,\n          id: action.payload.id,\n          name: action.payload.name\n        },\n        goal: action.payload.goal,\n      }\n    }\n    case 'ADD_FOOD': {\n      return {\n        ...state,\n        choiceFoods: [...state.choiceFoods, action.payload]\n      }\n    }\n    case 'EDIT_CHOICE': {\n      const choiceFood = state.choiceFoods.find(x => x.choice.id === action.payload.choice.id)\n      return {\n        ...state,\n        choiceFoods: [\n          ...state.choiceFoods.filter(x => parseInt(x.choice.id) !== parseInt(choiceFood.choice.id)),\n          {\n            ...choiceFood,\n            choice: {...choiceFood.choice, ...action.payload.choice}\n          }\n        ]\n      }\n    }\n    case 'EDIT_DAY': {\n      const daysCopy = _.cloneDeep(state.days.filter(x=>x.id !== state.day.id))\n      let dayCopy = (daysCopy.find(x => x.id === state.day.id))\n      dayCopy = {...dayCopy, ...action.payload}\n      daysCopy.push(dayCopy)\n      return {\n        ...state,\n        day: dayCopy,\n        days: daysCopy\n      }\n    }\n    case 'ADD_GOAL': {\n      return {\n        ...state,\n        goal: action.payload,\n        goals: [\n          ...state.goals,\n          action.payload\n        ]\n      }\n    }\n    case 'START_LOADING': {\n      return {\n        ...state,\n        loading: true\n      }\n    }\n    case 'STOP_LOADING': {\n      return {\n        ...state,\n        loading: false\n      }\n    }\n    case 'DELETE_DAY': {\n      return {\n        ...state,\n        days: state.days.filter(x => x.id !== parseInt(action.payload))\n      }\n    }\n    case 'DELETE_GOAL': {\n      const newGoals = state.goals.filter(x => x.id !== parseInt(action.payload))\n      return {\n        ...state,\n        goals: newGoals,\n        goal: newGoals[0]\n      }\n    }\n    default: {\n      return state\n    }\n  }\n}\n\nexport default reducer","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport { createStore, applyMiddleware } from 'redux'\nimport reducer from './Redux/reducer'\nimport { Provider } from 'react-redux'\nimport thunk from 'redux-thunk'\n// import rootReducer from './reducers'\n\nconst store = createStore(\n  reducer, applyMiddleware(thunk) //, /* preloadedState, */\n  // window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>\n, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}