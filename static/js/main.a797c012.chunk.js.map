{"version":3,"sources":["constants.js","actions/searchActions.js","components/SearchResultCard.js","components/InternalSearchResultCard.js","components/MakeFoodCard.js","actions/foodsActions.js","containers/SearchContainer.js","components/ChoiceCard.js","actions/choicesActions.js","components/CategoryCard.js","actions/goalsActions.js","components/AutogenerateGoal.js","actions/daysActions.js","components/GoalsRow.js","actions/saveAllAction.js","containers/Table.js","actions/authActions.js","components/LoginCard.js","components/SignUpCard.js","actions/usersActions.js","components/UsernameCard.js","components/SignedInHeader.js","components/NotSignedInHeader.js","containers/Header.js","components/Footer.js","App.js","serviceWorker.js","Redux/reducer.js","index.js"],"names":["URL","HEADERS","Content-Type","Accept","Authorization","localStorage","getItem","concat","selectSearchResult","props","dispatch","type","unfocusSearch","fetch","method","headers","body","JSON","stringify","then","r","json","choiceAndFood","payload","document","querySelector","focus","SearchResultCard","handleAddChoice","_this","clearForm","fdcId","food","categoryId","dayId","day","id","react_default","a","createElement","className","onClick","this","description","brandOwner","React","Component","connect","state","prop","InternalSearchResultCard","selectInternalSearchResult","foodId","name","brand","fat","toFixed","carbs","protein","categories","idAndCategory","choiceFood","MakeFoodCard","serving_unit_amount","serving_unit_name","serving_grams","calories","handleChange","e","setState","Object","defineProperty","target","value","handleSubmit","preventDefault","_this$setState2","s","createFood","objectSpread","toggleNewFoodForm","error","_this2","style","display","showNewFoodForm","onSubmit","onChange","placeholder","step","min","list","map","measure","key","moreInfoForm","saturated_fat","sugars","dietary_fiber","sodium","cholesterol","potassium","unit_size","upc","SearchContainer","text","favorites","filteredFavorites","common","internal","addFood","showResults","currentPage","totalPages","componentDidMount","foodsIndex","length","clearResults","internalSearch","startLoading","externalSearch","branded","categoryByTime","hour","Date","getHours","find","x","hideResults","searchPhrase","pageNumber","arguments","undefined","console","log","stopLoading","current_page","total_pages","_this3","Fragment","choiceFoods","onFocus","src","alt","components_InternalSearchResultCard","addChoice","food_name","components_SearchResultCard","removed","searchTerm","ChoiceCard","amount","choice","autoUpdateMacro","macro","measures","measure_id","servings","grams","updateInDB","updateChoice","handleAmountChange","editChoice","handleMeasureChange","fromMeasureId","fromMeasure","toMeasureId","parseInt","toMeasure","newAmount","test","generateMeasures","sort","y","deleteChoice","setTimeout","destroyChoice","react_beautiful_dnd_esm","draggableId","index","provided","assign","draggableProps","dragHandleProps","ref","innerRef","input","amountInput","onBlur","info","choiceObj","CategoryCard","mySortedChoices","filter","category_id","category","autoSum","sum","forEach","droppableId","droppableProps","components_ChoiceCard","updateGoal","goal","createGoal","deleteGoal","AutogenerateGoal","showUserInfo","feet","inches","weight","bodyFat","age","gender","activityLevel","bmrCals","katchMcArdle","mifflin","user_id","user","toggleAutogenerate","activityLevelSelect","multiplier","opt","required","max","pattern","createDay","date","toLocaleString","selectDay","dayAndInfo","deleteDay","updateDay","GoalsRow","showEditGoalForm","goalsSelector","sortedGoals","goals","b","toLowerCase","changeGoal","goal_id","addGoal","editGoal","showAutogenerateForm","defaultValue","components_AutogenerateGoal","userId","saveAll","ChoiceContainer","keyRow","compareForStyle","email","totalsRow","window","addEventListener","metaKey","code","components_GoalsRow","created_at","components_CategoryCard","loading","addChoices","choices","selectUser","editGoalName","reauth","response","jwtAndUser","jwt","LoginCard","usernameOrEmail","password","auth","username_or_email","setItem","message","toggleSignup","showSignup","SignUpCard","username","password2","createUser","handleSignupClick","signup","resp","UsernameCard","href","SignedInHeader","handleSignOut","editDay","removeItem","signOut","prettyDayDisplay","dayObj","slice","dayOptions","days","handleDayFormChange","dayChangeHandler","todaysDate","year","getFullYear","month","getMonth","getDate","confirm","anotherDay","copyDay","components_MakeFoodCard","NotSignedInHeader","editDayName","dayName","signedIn","editDayToggle","handleDayNameChange","components_LoginCard","login","components_SignUpCard","Header","components_SignedInHeader","components_NotSignedInHeader","Footer","App","onDragEnd","result","destination","orderedIds","indexOf","splice","i","containers_Header","Table","containers_SearchContainer","components_Footer","handleDrop","choicesIds","choiceId","updateIndex","updateCategory","Boolean","location","hostname","match","initialState","reducer","action","toConsumableArray","now","removedChoice","choice_foods","_ret","newChoices","_loop","push","v","store","createStore","applyMiddleware","thunk","ReactDOM","render","es","src_App_0","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"6QACaA,EAAM,yBAENC,EAAU,iBAAO,CAC5BC,eAAe,mBACfC,OAAQ,mBACRC,cAAeC,aAAaC,QAAQ,SAArB,UAAAC,OAA0CF,aAAaC,QAAQ,UAAa,OCJhFE,EAAqB,SAACC,GACjC,OAAO,SAACC,GAGN,OAFAA,EAAS,CAACC,KAAM,kBAChBC,IACOC,MAAK,GAAAN,OAAIP,EAAJ,sBAA6B,CACvCc,OAAQ,OACRC,QAASd,IACTe,KAAMC,KAAKC,UAAUT,KAEtBU,KAAK,SAAAC,GAAC,OAAIA,EAAEC,SACZF,KAAK,SAAAG,GAEJZ,EAAS,CAACC,KAAM,iBAChBD,EAAS,CAAEC,KAAM,aAAcY,QAASD,QAK9C,SAASV,IACPY,SAASC,cAAc,UAAUC,QAG5B,ICpBDC,6MAEJC,gBAAkB,WAChBC,EAAKpB,MAAMqB,YACXD,EAAKpB,MAAMD,mBAAmB,CAACuB,MAAOF,EAAKpB,MAAMuB,KAAKD,MAAOE,WAAYJ,EAAKpB,MAAMwB,WAAYC,MAAOL,EAAKpB,MAAM0B,IAAIC,8EAItH,OACEC,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAeC,QAASC,KAAKd,iBACzCS,EAAAC,EAAAC,cAAA,QAAMC,UAAU,cAAcE,KAAKjC,MAAMuB,KAAKW,aAC7CD,KAAKjC,MAAMuB,KAAKY,WAAaP,EAAAC,EAAAC,cAAA,QAAMC,UAAU,aAAhB,MAAgCE,KAAKjC,MAAMuB,KAAKY,YAAqB,aAX5EC,IAAMC,WA6BtBC,cAZS,SAAAC,GACtB,MAAO,CACLb,IAAKa,EAAMb,MAIY,SAAAzB,GACzB,MAAO,CACLF,mBAAoB,SAAAyC,GAAI,OAAIvC,EAASF,EAAmByC,OAI7CF,CAA6CpB,GC7BtDuB,6MAEJtB,gBAAkB,WAChBC,EAAKpB,MAAMqB,YACXD,EAAKpB,MAAM0C,2BAA2B,CAACC,OAAQvB,EAAKpB,MAAMuB,KAAKI,GAAIH,WAAYJ,EAAKpB,MAAMwB,WAAYC,MAAOL,EAAKpB,MAAM0B,IAAIC,8EAK5H,OACEC,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAeC,QAASC,KAAKd,iBACzCS,EAAAC,EAAAC,cAAA,QAAMC,UAAU,cAAcE,KAAKjC,MAAMuB,KAAKqB,MAC7CX,KAAKjC,MAAMuB,KAAKsB,MAAQjB,EAAAC,EAAAC,cAAA,QAAMC,UAAU,aAAhB,MAAgCE,KAAKjC,MAAMuB,KAAKsB,OAAgB,KACzFjB,EAAAC,EAAAC,cAAA,MAAIC,UAAU,gBACZH,EAAAC,EAAAC,cAAA,kBAAUG,KAAKjC,MAAMuB,KAAKuB,IAAIC,WAC9BnB,EAAAC,EAAAC,cAAA,oBAAYG,KAAKjC,MAAMuB,KAAKyB,MAAMD,WAClCnB,EAAAC,EAAAC,cAAA,sBAAcG,KAAKjC,MAAMuB,KAAK0B,QAAQF,oBAhBTX,IAAMC,WAoC9BC,cAbS,SAAAC,GACtB,MAAO,CACLb,IAAKa,EAAMb,IACXwB,WAAYX,EAAMW,aAIK,SAAAjD,GACzB,MAAO,CACLyC,2BAA4B,SAAAS,GAAa,OAAIlD,EFZP,SAACkD,GAGzC,OADAhD,IACO,SAACF,GAEN,OADAA,EAAS,CAACC,KAAM,kBACTE,MAAK,GAAAN,OAAIP,EAAJ,YAAmB,CAACc,OAAQ,OAAQC,QAASd,IAAWe,KAAMC,KAAKC,UAAU0C,KACxFzC,KAAK,SAAAC,GAAC,OAAIA,EAAEC,SACZF,KAAK,SAAA0C,GAEJnD,EAAS,CAACC,KAAM,iBAChBD,EAAS,CAAEC,KAAM,aAAcY,QAASsC,OEEYV,CAA2BS,OAItEb,CAA6CG,iBCpCtDY,+MAEJd,UACEK,KAAM,KACNC,MAAO,KACPS,oBAAqB,KACrBC,kBAAmB,KACnBC,cAAe,KACfC,SAAU,wCACS,0BACd,4BACE,8BACE,kCACI,oCACE,gCACJ,oCACI,6BACP,6BACA,gCACG,0BACN,4BACE,WAGTC,aAAe,SAACC,GAEdvC,EAAKwC,SAALC,OAAAC,EAAA,EAAAD,CAAA,GAAgBF,EAAEI,OAAOnB,KAAOe,EAAEI,OAAOC,WAG3CC,aAAe,SAAAN,GACbA,EAAEO,iBACF,IAC8HC,EADxHC,EAAIhD,EAAKmB,MACX6B,EAAExB,MAAQwB,EAAEd,qBAAuBc,EAAEb,mBAAqBa,EAAEZ,eAAiBY,EAAEX,UAAYW,EAAEtB,KAAOsB,EAAEpB,OAASoB,EAAEnB,SACnH7B,EAAKpB,MAAMqE,WAAXR,OAAAS,EAAA,EAAAT,CAAA,GAA0BzC,EAAKmB,MAA/B,CAAsCf,WAAYJ,EAAKpB,MAAMwB,cAC7DJ,EAAKpB,MAAMuE,oBACXnD,EAAKwC,UAALO,EAAA,CACEvB,KAAM,GACNC,MAAO,GACPS,oBAAqB,GACrBC,kBAAmB,GACnBC,cAAe,GACfC,SAAU,IANZI,OAAAC,EAAA,EAAAD,CAAAM,EAAA,oBAOqB,IAPrBN,OAAAC,EAAA,EAAAD,CAAAM,EAAA,MAQO,IARPN,OAAAC,EAAA,EAAAD,CAAAM,EAAA,QASS,IATTN,OAAAC,EAAA,EAAAD,CAAAM,EAAA,UAUW,IAVXN,OAAAC,EAAA,EAAAD,CAAAM,EAAA,cAWe,IAXfN,OAAAC,EAAA,EAAAD,CAAAM,EAAA,gBAYiB,IAZjBN,OAAAC,EAAA,EAAAD,CAAAM,EAAA,YAaa,IAbbN,OAAAC,EAAA,EAAAD,CAAAM,EAAA,gBAciB,IAdjBN,OAAAC,EAAA,EAAAD,CAAAM,EAAA,SAeU,IAfVN,OAAAC,EAAA,EAAAD,CAAAM,EAAA,SAgBU,IAhBVN,OAAAC,EAAA,EAAAD,CAAAM,EAAA,YAiBa,IAjBbN,OAAAC,EAAA,EAAAD,CAAAM,EAAA,MAkBO,IAlBPA,KAqBA/C,EAAKwC,SAAS,CAACY,MAAO,yGAIlB,IAAAC,EAAAxC,KACN,OACEL,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBAAsB2C,MAAO,CAACC,QAAS1C,KAAKjC,MAAM4E,gBAAkB,QAAU,SAC7FhD,EAAAC,EAAAC,cAAA,UAAQC,UAAU,cAAcC,QAASC,KAAKjC,MAAMuE,mBAApD,SACA3C,EAAAC,EAAAC,cAAA,QAAM+C,SAAU5C,KAAKgC,aAAclC,UAAU,YAC1CE,KAAKM,MAAMiC,MAAQ5C,EAAAC,EAAAC,cAAA,KAAGC,UAAU,gBAAgBE,KAAKM,MAAMiC,OAAa,KACzE5C,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eACZH,EAAAC,EAAAC,cAAA,UACAF,EAAAC,EAAAC,cAAA,0BACAF,EAAAC,EAAAC,cAAA,SAAO5B,KAAK,OAAO8D,MAAO/B,KAAKM,MAAMK,KAAMkC,SAAU7C,KAAKyB,aAAcd,KAAK,OAAOmC,YAAY,eAEhGnD,EAAAC,EAAAC,cAAA,UACAF,EAAAC,EAAAC,cAAA,iCACAF,EAAAC,EAAAC,cAAA,SAAO5B,KAAK,OAAO8D,MAAO/B,KAAKM,MAAMM,MAAOiC,SAAU7C,KAAKyB,aAAcd,KAAK,QAAQmC,YAAY,2BAElGnD,EAAAC,EAAAC,cAAA,UACAF,EAAAC,EAAAC,cAAA,+BACAF,EAAAC,EAAAC,cAAA,SAAO5B,KAAK,SAAS8E,KAAK,MAAMC,IAAI,MAAMjB,MAAO/B,KAAKM,MAAMe,oBAAqBwB,SAAU7C,KAAKyB,aAAcd,KAAK,sBAAsBmC,YAAY,oBAErJnD,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,6BACAF,EAAAC,EAAAC,cAAA,SAAO5B,KAAK,OAAOgF,KAAK,QAAQtC,KAAK,oBAAoBoB,MAAO/B,KAAKM,MAAMgB,kBAAmBuB,SAAU7C,KAAKyB,aAAcqB,YAAY,SACvInD,EAAAC,EAAAC,cAAA,YAAUH,GAAG,SACV,CAAC,OAAO,OAAO,MAAM,MAAM,UAAU,QAAS,QAAS,SAAU,SAASwD,IAAI,SAAAC,GAC7E,OAAOxD,EAAAC,EAAAC,cAAA,UAAQkC,MAAOoB,EAASC,IAAKD,EAASxC,KAAK,WAAYwC,EAAvD,SAIbxD,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,iCACAF,EAAAC,EAAAC,cAAA,SAAO5B,KAAK,SAAS8E,KAAK,MAAMC,IAAI,MAAMjB,MAAO/B,KAAKM,MAAMiB,cAAesB,SAAU7C,KAAKyB,aAAcd,KAAK,gBAAgBmC,YAAY,mBAG3InD,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,yBACAF,EAAAC,EAAAC,cAAA,SAAO5B,KAAK,SAAS8E,KAAK,MAAMC,IAAI,IAAIjB,MAAO/B,KAAKM,MAAMkB,SAAUqB,SAAU7C,KAAKyB,aAAcd,KAAK,WAAWmC,YAAY,cAE/HnD,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,oBACAF,EAAAC,EAAAC,cAAA,SAAO5B,KAAK,SAAS8E,KAAK,MAAMC,IAAI,IAAIjB,MAAO/B,KAAKM,MAAMO,IAAKgC,SAAU7C,KAAKyB,aAAcd,KAAK,MAAMmC,YAAY,SAErHnD,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,sBACAF,EAAAC,EAAAC,cAAA,SAAO5B,KAAK,SAAS8E,KAAK,MAAMC,IAAI,IAAIjB,MAAO/B,KAAKM,MAAMS,MAAO8B,SAAU7C,KAAKyB,aAAcd,KAAK,QAAQmC,YAAY,WAEzHnD,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,wBACAF,EAAAC,EAAAC,cAAA,SAAO5B,KAAK,SAAS8E,KAAK,MAAMC,IAAI,IAAIjB,MAAO/B,KAAKM,MAAMU,QAAS6B,SAAU7C,KAAKyB,aAAcd,KAAK,UAAUmC,YAAY,aAE7HnD,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,SAAO5B,KAAK,aAGhB0B,EAAAC,EAAAC,cAAA,KAAGE,QAAS,kBAAMyC,EAAKb,SAAS,CAAC0B,cAAeb,EAAKlC,MAAM+C,gBAAgBvD,UAAU,YAClFE,KAAKM,MAAM+C,aAAe,0CAAkC,0CAE/D1D,EAAAC,EAAAC,cAAA,MAAIC,UAAU,cAAc2C,MAAO,CAACC,QAAS1C,KAAKM,MAAM+C,aAAe,OAAS,SAC9E1D,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,8BACAF,EAAAC,EAAAC,cAAA,SAAO5B,KAAK,SAAS8E,KAAK,MAAMC,IAAI,IAAIjB,MAAO/B,KAAKM,MAAMgD,cAAeT,SAAU7C,KAAKyB,aAAcd,KAAK,gBAAgBmC,YAAY,mBAEzInD,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAAA,SAAO5B,KAAK,SAAS8E,KAAK,MAAMC,IAAI,IAAIjB,MAAO/B,KAAKM,MAAMiD,OAAQV,SAAU7C,KAAKyB,aAAcd,KAAK,SAASmC,YAAY,YAE3HnD,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,8BACAF,EAAAC,EAAAC,cAAA,SAAO5B,KAAK,SAAS8E,KAAK,MAAMC,IAAI,IAAIjB,MAAO/B,KAAKM,MAAMkD,cAAeX,SAAU7C,KAAKyB,aAAcd,KAAK,gBAAgBmC,YAAY,mBAEzInD,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAAA,SAAO5B,KAAK,SAAS8E,KAAK,MAAMC,IAAI,IAAIjB,MAAO/B,KAAKM,MAAMmD,OAAQZ,SAAU7C,KAAKyB,aAAcd,KAAK,SAASmC,YAAY,YAE3HnD,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,4BACAF,EAAAC,EAAAC,cAAA,SAAO5B,KAAK,SAAS8E,KAAK,MAAMC,IAAI,IAAIjB,MAAO/B,KAAKM,MAAMoD,YAAab,SAAU7C,KAAKyB,aAAcd,KAAK,cAAcmC,YAAY,iBAErInD,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,0BACAF,EAAAC,EAAAC,cAAA,SAAO5B,KAAK,SAAS8E,KAAK,MAAMC,IAAI,IAAIjB,MAAO/B,KAAKM,MAAMqD,UAAWd,SAAU7C,KAAKyB,aAAcd,KAAK,YAAYmC,YAAY,eAEjInD,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,0BACAF,EAAAC,EAAAC,cAAA,SAAO5B,KAAK,SAAS8E,KAAK,MAAMC,IAAI,IAAIjB,MAAO/B,KAAKM,MAAMsD,UAAWf,SAAU7C,KAAKyB,aAAcd,KAAK,YAAYmC,YAAY,eAEjInD,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,+BACAF,EAAAC,EAAAC,cAAA,SAAO5B,KAAK,SAAS8E,KAAK,MAAMC,IAAI,IAAIjB,MAAO/B,KAAKM,MAAMuD,IAAKhB,SAAU7C,KAAKyB,aAAcd,KAAK,MAAMmC,YAAY,cAErHnD,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,SAAO5B,KAAK,sBAvJGkC,IAAMC,WAuKlBC,cAAQ,KAPI,SAAArC,GACzB,MAAO,CACLoE,WAAY,SAAC9C,GAAD,OAAUtB,ECpKA,SAACsB,GACzB,OAAO,SAACtB,GAEN,OADAA,EAAS,CAACC,KAAM,kBACTE,MAAK,GAAAN,OAAIP,EAAJ,UAAiB,CAC3Bc,OAAQ,OACRC,QAASd,IACTe,KAAMC,KAAKC,UAAUc,KAEtBb,KAAK,SAAAC,GAAC,OAAIA,EAAEC,SACZF,KAAK,SAAA0C,GACJnD,EAAS,CAACC,KAAM,iBAChBD,EAAS,CAACC,KAAM,WAAYY,QAASsC,ODyJRiB,CAAW9C,OAK/Be,CAAkCe,GElK3C0C,6MAEJxD,MAAQ,CACNyD,KAAM,GACNC,UAAW,GACXC,kBAAmB,GACnBC,OAAQ,GACRC,SAAU,GACV5B,OAAO,EACP6B,SAAS,EACTC,aAAa,EACbC,YAAa,EACbC,WAAY,KAGdC,kBAAoB,WAClBrF,EAAKpB,MAAM0G,WAAW,IACrBhG,KAAK,SAAAC,GAAC,OAAIA,EAAEC,SACZF,KAAK,SAAAC,GAEJS,EAAKwC,SAAS,CAACqC,UAAWtF,EAAEsF,iBAIhCS,WAAa,SAACV,GACZ5E,EAAKpB,MAAM0G,WAAWV,GACrBtF,KAAK,SAAAC,GAAC,OAAIA,EAAEC,SACZF,KAAK,SAAAC,GAEJS,EAAKwC,SAAS,CAACsC,kBAAmBvF,EAAEsF,iBAIxCvC,aAAe,SAAAC,GACbvC,EAAKwC,SAAS,CAACoC,KAAMrC,EAAEI,OAAOC,QAED,IAA1BL,EAAEI,OAAOC,MAAM2C,SAChBvF,EAAKsF,WAAW,IAChBtF,EAAKwF,mBAITC,eAAiB,SAACb,GAChB5E,EAAKpB,MAAM6G,eAAeb,GACzBtF,KAAK,SAAAC,GAAC,OAAIA,EAAEC,SACZF,KAAK,SAAAC,GACAA,EAAEyF,SAASO,OAAS,EAEtBvF,EAAKwC,SAAS,CACZwC,SAAUzF,EAAEyF,WAIdhF,EAAKwC,SAAS,CACZwC,SAAU,UAMlBnC,aAAe,SAAAN,GACbA,EAAEO,iBACE9C,EAAKmB,MAAMyD,OAEb5E,EAAKwC,SAAS,CAACuC,OAAQ,KACvB/E,EAAKpB,MAAM8G,eACX1F,EAAKsF,WAAWtF,EAAKmB,MAAMyD,MAC3B5E,EAAK2F,eAAe3F,EAAKmB,MAAMyD,KAAM,OAsBzCY,aAAe,WACbxF,EAAKwC,SAAS,CACZsC,kBAAmB,GACnBc,QAAS,GACTb,OAAQ,GACRC,SAAU,GACVJ,KAAM,GACNxB,OAAO,EACP8B,aAAa,EACbC,YAAa,EACbC,WAAY,OAKhBS,eAAiB,WACf,IAAMC,GAAO,IAAIC,MAAOC,WACxB,OAAIF,EAAO,EAAU9F,EAAKpB,MAAMkD,WAAWmE,KAAK,SAAAC,GAAC,MAAc,aAAVA,EAAE1E,OAAqBjB,GACnEuF,EAAO,GAAW9F,EAAKpB,MAAMkD,WAAWmE,KAAK,SAAAC,GAAC,MAAc,SAAVA,EAAE1E,OAAiBjB,GAClEP,EAAKpB,MAAMkD,WAAWmE,KAAK,SAAAC,GAAC,MAAc,UAAVA,EAAE1E,OAAkBjB,MAGlE2E,YAAc,WACZlF,EAAKwC,SAAS,CAAC0C,aAAa,OAG9BiB,YAAc,WACZnG,EAAKwC,SAAS,CAAC0C,aAAa,mFA7CfkB,GAA6B,IAAA/C,EAAAxC,KAAfwF,EAAeC,UAAAf,OAAA,QAAAgB,IAAAD,UAAA,GAAAA,UAAA,GAAF,EACxCzF,KAAKjC,MAAM+G,eAAeS,EAAcC,GACvC/G,KAAK,SAAAC,GAAC,OAAIA,EAAEC,SACZF,KAAK,SAAAC,GACJiH,QAAQC,IAAIlH,GACZ8D,EAAKzE,MAAM8H,cACPnH,EAAEwF,QAAUxF,EAAEwF,OAAOQ,OAAS,EAChClC,EAAKb,SAAS,CAACuC,OAAQ1B,EAAKlC,MAAM4D,OAAOrG,OAAOa,EAAEwF,QAASI,YAAa5F,EAAEoH,aAAcvB,WAAY7F,EAAEqH,cAGtGvD,EAAKb,SAAS,CAACY,MAAO,uDAsCpB,IAAAyD,EAAAhG,KACN,OACEL,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqG,SAAA,KACAtG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QAAQ2C,MAAO,CAACC,QAAS1C,KAAKjC,MAAMmI,YAAYxB,OAAS,EAAI,OAAS,UACnF/E,EAAAC,EAAAC,cAAA,QAAMC,UAAU,aAAhB,eAEFH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mCAAmCqG,QAASnG,KAAKqE,aAC9D1E,EAAAC,EAAAC,cAAA,QAAM+C,SAAU5C,KAAKgC,aAAclC,UAAU,cAC3CH,EAAAC,EAAAC,cAAA,SAAO5B,KAAK,SACVgF,KAAK,kBACLlB,MAAO/B,KAAKM,MAAMyD,KAClBlB,SAAU7C,KAAKyB,aACfqB,YAAY,yBACZhD,UAAU,eAMZH,EAAAC,EAAAC,cAAA,SAAO5B,KAAK,QAAQmI,IAAI,kBAAkBC,IAAI,SAAS1F,KAAK,SAASb,UAAU,6BAiBjFH,EAAAC,EAAAC,cAAA,MAAIC,UAAWE,KAAKM,MAAM+D,YAAc,wBAA0B,+BAIhE1E,EAAAC,EAAAC,cAAA,uBACCG,KAAKM,MAAMN,KAAKM,MAAM2D,kBAAkBS,OAAS,EAAI,oBAAsB,aAAaxB,IAAI,SAAA5D,GAAI,OAC/FK,EAAAC,EAAAC,cAAEyG,EAAF,CACA/G,WAAYyG,EAAKhB,iBACjB5B,IAAK9D,EAAKI,GACVJ,KAAMA,EACNiH,UAAWP,EAAKjI,MAAMwI,UACtBnH,UAAW4G,EAAKrB,iBAGlBhF,EAAAC,EAAAC,cAAA,0BACCG,KAAKM,MAAM6D,SAASjB,IAAI,SAAA5D,GAAI,OAC3BK,EAAAC,EAAAC,cAAEyG,EAAF,CACA/G,WAAYyG,EAAKhB,iBACjB5B,IAAK9D,EAAKkH,UACVlH,KAAMA,EACNiH,UAAWP,EAAKjI,MAAMwI,UACtBnH,UAAW4G,EAAKrB,iBAGjB3E,KAAKM,MAAM4D,OAAOhB,IAAI,SAAA5D,GAAI,OACzBK,EAAAC,EAAAC,cAAE4G,EAAF,CACAlH,WAAYyG,EAAKhB,iBACjB5B,IAAK9D,EAAKD,MACVC,KAAMA,EACNiH,UAAWP,EAAKjI,MAAMwI,UACtBnH,UAAW4G,EAAKrB,iBAIjB3E,KAAKM,MAAMgE,YAActE,KAAKM,MAAMiE,WAErC5E,EAAAC,EAAAC,cAAA,MACAC,UAAU,wBACVC,QAAS,kBAAIiG,EAAKlB,eAAekB,EAAK1F,MAAMyD,KAAMiC,EAAK1F,MAAMgE,YAAc,KAF3E,wBAIwBtE,KAAKM,MAAMgE,YAAYtE,KAAKM,MAAMiE,WAAW,KAAKzD,UAJ1E,gBAOA,KAGCd,KAAKjC,MAAM2I,QAAQhC,OAAS,EAE3B/E,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqG,SAAA,KACAtG,EAAAC,EAAAC,cAAA,8BACCG,KAAKjC,MAAM2I,QAAQxD,IAAI,SAAA5D,GAAI,OAC1BK,EAAAC,EAAAC,cAAEyG,EAAF,CACA/G,WAAYyG,EAAKhB,iBACjB5B,IAAK9D,EAAKkH,UACVlH,KAAMA,EACNiH,UAAWP,EAAKjI,MAAMwI,UACtBnH,UAAW4G,EAAKrB,kBAIhB,KAEH3E,KAAKM,MAAMiC,MAAQ5C,EAAAC,EAAAC,cAAA,UAAKG,KAAKM,MAAMiC,OAAc,eAzN9BpC,IAAMC,WAiPrBC,cAfS,SAAAC,GACtB,OAAOA,GAGkB,SAAAtC,GACzB,MAAO,CACL6G,aAAc,kBAAM7G,EAAS,CAACC,KAAM,mBACpC4H,YAAa,kBAAM7H,EAAS,CAACC,KAAM,kBACnC2G,eAAgB,SAAC+B,GAAD,OAAgB3I,EL5MN,SAAC2I,GAC7B,OAAO,SAAA3I,GACL,OAAOG,MAAK,GAAAN,OAAIP,EAAJ,6BAAAO,OAAmC8I,GAAc,CAACtI,QAASd,OK0M9BqH,CAAe+B,KAExD7B,eAAgB,SAAC6B,GAAD,IAAanB,EAAbC,UAAAf,OAAA,QAAAgB,IAAAD,UAAA,GAAAA,UAAA,GAA0B,EAA1B,OAAgCzH,ELlMtB,SAAC2I,GAA+B,IAAnBnB,EAAmBC,UAAAf,OAAA,QAAAgB,IAAAD,UAAA,GAAAA,UAAA,GAAN,EACtD,OAAO,SAAAzH,GACL,OAAOG,MAAK,GAAAN,OAAIP,EAAJ,kBAAAO,OAAwB8I,EAAxB,gBAAA9I,OAAiD2H,GAAc,CAACnH,QAASd,OKgM5BuH,CAAe6B,EAAYnB,KACpFf,WAAY,SAACkC,GAAD,OAAgB3I,EDpON,SAAC2I,GACzB,OAAO,SAAA3I,GACL,OAAOG,MAAK,GAAAN,OAAIP,EAAJ,aAAAO,OAAmB8I,GAAc,CAACtI,QAASd,OCkOlBkH,CAAWkC,OAIrCtG,CAA6CyD,WCpPtD8C,6MAEJtG,MAAQ,CACNuG,OAAQ1H,EAAKpB,MAAMoD,WAAW2F,OAAOD,OACrC1D,QAAShE,EAAKpB,MAAMoD,WAAW2F,OAAO3D,QACtCrD,UAAW,iBAUbiH,gBAAkB,SAAAC,GAChB,IAAMH,EAAS1H,EAAKpB,MAAMoD,WAAW2F,OAAOD,OACtC1D,EAAUhE,EAAKpB,MAAMoD,WAAW8F,SAAS7B,KAAK,SAAAC,GAAC,OAAIA,EAAE3F,KAAOP,EAAKpB,MAAMoD,WAAW2F,OAAOI,aAIzFC,EAHaN,EAAS1D,EAAQiE,MACdjI,EAAKpB,MAAMoD,WAAW7B,KAAKiC,eAC3B4B,EAAQ0D,OAAQ1D,EAAQ0D,OAAS,GAGvD,OAAQ1H,EAAKpB,MAAMoD,WAAW7B,KAAK0H,GAASG,GAAUrG,aAGxDuG,WAAa,WACAlI,EAAKpB,MAAMoD,WAAW2F,OAAOpH,GACxCP,EAAKpB,MAAMuJ,aAAX1F,OAAAS,EAAA,EAAAT,CAAA,GAA4BzC,EAAKpB,MAAMoD,WAAW2F,YAGpDS,mBAAqB,SAAC7F,GACpB,GAAIA,EAAEI,OAAOC,OAAS,EAAG,CACvB,IAAMrC,EAAKP,EAAKpB,MAAMoD,WAAW2F,OAAOpH,GACxCP,EAAKwC,SAAS,CAACkF,OAAQnF,EAAEI,OAAOC,QAChC5C,EAAKpB,MAAMyJ,WAAW,CAACV,OAAQ,CAACD,OAAQnF,EAAEI,OAAOC,MAAOrC,GAAIA,SAIhE+H,oBAAsB,SAAC/F,GACrB,IAAMgG,EAAgBvI,EAAKpB,MAAMoD,WAAW2F,OAAOI,WAC7CS,EAAcxI,EAAKpB,MAAMoD,WAAW8F,SAAS7B,KAAK,SAAAC,GAAC,OAAIA,EAAE3F,KAAOgI,IAChEE,EAAcC,SAASnG,EAAEI,OAAOC,OAChC+F,EAAY3I,EAAKpB,MAAMoD,WAAW8F,SAAS7B,KAAK,SAAAC,GAAC,OAAIA,EAAE3F,KAAOkI,IAChEG,EAAaJ,EAAYP,MAAQU,EAAUV,MAAQjI,EAAKpB,MAAMoD,WAAW2F,OAAOD,SAAYiB,EAAUjB,QAAU,IAAMc,EAAYd,QAAU,IAE3IkB,EADA,cAAcC,KAAKF,EAAUnH,MACjBoH,EAAUjH,UAD0BiH,EAAUjH,QAAQ,GAGvE3B,EAAKpB,MAAMyJ,WAAW,CAACV,OAAQ,CAACI,WAAYU,EAAaf,OAAQkB,EAAWrI,GAAIP,EAAKpB,MAAMoD,WAAW2F,OAAOpH,MAC7GP,EAAKkI,gBAGPY,iBAAmB,WAGjB,OAFiB9I,EAAKpB,MAAMoD,WAAW8F,SAEvBiB,KAAK,SAAC7C,EAAE8C,GAAH,OAAS9C,EAAE1E,KAAOwH,EAAExH,OAAMuC,IAAI,SAAAC,GACjD,OACExD,EAAAC,EAAAC,cAAA,UAAQkC,MAAOoB,EAAQzD,GAAI0D,IAAKD,EAAQzD,IAAMyD,EAAQxC,WAK5DyH,aAAe,WAEbjJ,EAAKwC,SAAS,CAAC7B,UAAW,gBAC1BuI,WAAW,WACT,IAAM3I,EAAKP,EAAKpB,MAAMoD,WAAW2F,OAAOpH,GACxCP,EAAKpB,MAAMqK,aAAa1I,GACxBP,EAAKpB,MAAMuK,cAAc5I,IACxB,yFA7Dc,IAAA8C,EAAAxC,KACjBA,KAAK2B,SAAS,CAAC7B,UAAW,kBAC1BuI,WAAW,WACT7F,EAAKb,SAAS,CAAC7B,UAAW,iBACzB,sCA4DG,IAAAkG,EAAAhG,KAEN,OACEL,EAAAC,EAAAC,cAAC0I,EAAA,EAAD,CACEC,YAAaxI,KAAKjC,MAAMoD,WAAW2F,OAAOpH,GAC1C+I,MAAOzI,KAAKjC,MAAM0K,OAEjB,SAAAC,GAAQ,OACT/I,EAAAC,EAAAC,cAAA,KAAA+B,OAAA+G,OAAA,CACA7I,UAAWkG,EAAK1F,MAAMR,WAClB4I,EAASE,eACTF,EAASG,gBAHb,CAIAC,IAAKJ,EAASK,SACdrJ,GAAIsG,EAAKjI,MAAMoD,WAAW2F,OAAOpH,KAE/BC,EAAAC,EAAAC,cAAA,MAAIC,UAAU,QACZH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,cAEfkG,EAAKjI,MAAMoD,WAAW7B,KAAKqB,KAAMqF,EAAKjI,MAAMoD,WAAW7B,KAAKsB,MAA3B,MAAA/C,OAAyCmI,EAAKjI,MAAMoD,WAAW7B,KAAKsB,OAAU,OAGlHjB,EAAAC,EAAAC,cAAA,MAAIC,UAAU,UACVH,EAAAC,EAAAC,cAAA,SAAO5B,KAAK,SACZ6K,IAAK,SAACE,GAAYhD,EAAKiD,YAAcD,GACrChG,IAAI,IACJrC,KAAK,SACLoB,MAAOiE,EAAKjI,MAAMoD,WAAW2F,OAAOD,OACpChE,SAAUmD,EAAKuB,mBACf2B,OAAQlD,EAAKqB,cAIjB1H,EAAAC,EAAAC,cAAA,MAAIC,UAAU,WACVH,EAAAC,EAAAC,cAAA,UACAC,UAAU,GACViC,MAAOiE,EAAKjI,MAAMoD,WAAW2F,OAAOI,WACpCrE,SAAUmD,EAAKyB,oBACf9G,KAAK,WAEFqF,EAAKiC,qBAGZtI,EAAAC,EAAAC,cAAA,MAAIC,UAAU,kBAAkBkG,EAAKe,gBAAgB,aACrDpH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aAAakG,EAAKe,gBAAgB,QAChDpH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAekG,EAAKe,gBAAgB,UAClDpH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,iBAAiBkG,EAAKe,gBAAgB,YACpDpH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,gBAAgBH,EAAAC,EAAAC,cAAA,UAAQE,QAASiG,EAAKoC,aAActI,UAAU,4BAA4BuG,IAAI,iBAAgB1G,EAAAC,EAAAC,cAAA,OAAKuG,IAAI,iBAAiBtG,UAAU,eAAeuG,IAAI,8BAtHpKlG,IAAMC,WA4IhBC,cAAQ,KATI,SAAArC,GACzB,MAAO,CACLoK,aAAc,SAAA1I,GAAE,OAAI1B,EAAS,CAAEC,KAAM,gBAAiBY,QAASa,KAC/D8H,WAAY,SAAA2B,GAAI,OAAInL,EAAS,CAAEC,KAAM,cAAeY,QAASsK,KAC7D7B,aAAc,SAAA6B,GAAI,OAAInL,GC3IGoL,ED2ImBD,EC1IvC,SAAAnL,GACL,OAAOG,MAAK,GAAAN,OAAIP,EAAJ,YAAAO,OAAkBuL,EAAU1J,IAAM,CAC5CtB,OAAQ,QACRC,QAASd,IACTe,KAAMC,KAAKC,UAAU,CAACsI,OAAQsC,SALR,IAACA,GD4IzBd,cAAe,SAAAa,GAAI,OAAInL,GClIG0B,EDkIoByJ,ECjIzC,SAAAnL,GACL,OAAOG,MAAK,GAAAN,OAAIP,EAAJ,aAAAO,OAAmB6B,GAAM,CAACtB,OAAQ,cAFrB,IAACsB,KDsIfW,CAAkCuG,GE5I3CyC,6MAEJC,gBAAkB,WAEhB,OADkBnK,EAAKpB,MAAMmI,YAAYqD,OAAO,SAAAzC,GAAM,OAAIA,EAAOA,OAAO0C,cAAgBrK,EAAKpB,MAAM0L,SAAS/J,KAC3FwI,KAAK,SAAC7C,EAAG8C,GAAJ,OAAU9C,EAAEyB,OAAO2B,MAAQN,EAAErB,OAAO2B,WAG5DiB,QAAU,SAAC1C,GACT,IAAI2C,EAAM,EAcV,OAbAxK,EAAKpB,MAAMmI,YAAYqD,OAAO,SAAApI,GAAU,OAAIA,EAAW2F,OAAO0C,cAAgBrK,EAAKpB,MAAM0L,SAAS/J,KAAIkK,QAAQ,SAAAzI,GAI5G,IAAM0F,EAAS1F,EAAW2F,OAAOD,OAC3B1D,EAAUhC,EAAW8F,SAAS7B,KAAK,SAAAC,GAAC,OAAIA,EAAE3F,KAAOyB,EAAW2F,OAAOI,aAInEC,EAHaN,EAAS1D,EAAQiE,MACdjG,EAAW7B,KAAKiC,eAChB4B,EAAQ0D,OAAQ1D,EAAQ0D,OAAS,GAGvD8C,GAAO9B,SAAS1G,EAAW7B,KAAK0H,GAASG,KAEpCwC,EAAI7I,mFAGL,IAAA0B,EAAAxC,KAEN,OACEL,EAAAC,EAAAC,cAAC0I,EAAA,EAAD,CAAWsB,YAAa7J,KAAKjC,MAAM0L,SAAS/J,IAC3C,SAACgJ,GAAD,OACC/I,EAAAC,EAAAC,cAAA,MAAA+B,OAAA+G,OAAA,CAAK7I,UAAU,WACfgJ,IAAKJ,EAASK,UACVL,EAASoB,gBAEXnK,EAAAC,EAAAC,cAAA,KAAGC,UAAU,qBAAqB0C,EAAKzE,MAAM0L,SAAS9I,MACrD6B,EAAK8G,kBAAkBpG,IAAI,SAAC/B,EAAYsH,GAAb,OAAuB9I,EAAAC,EAAAC,cAAEkK,EAAF,CAEnD5I,WAAYA,EACZiC,IAAKjC,EAAW2F,OAAOpH,GACvB+I,MAAOA,EACPL,aAAc5F,EAAKzE,MAAMqK,iBAExBM,EAAS5F,YACVnD,EAAAC,EAAAC,cAAA,MACAC,UAAU,qBAERH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,sBACdH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aAAd,eACAH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,kBAAkB0C,EAAKkH,QAAQ,aAC7C/J,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aAAa0C,EAAKkH,QAAQ,QACxC/J,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAe0C,EAAKkH,QAAQ,UAC1C/J,EAAAC,EAAAC,cAAA,MAAIC,UAAU,iBAAiB0C,EAAKkH,QAAQ,YAC5C/J,EAAAC,EAAAC,cAAA,MAAIC,UAAU,4BApDCK,IAAMC,WAuElBC,cATS,SAAAC,GACtB,MAAO,CAAC4F,YAAa5F,EAAM4F,cAGF,SAAAlI,GACzB,MAAO,IAIMqC,CAA6CgJ,GC3E/CW,EAAa,SAACC,GACzB,OAAO,SAACjM,GAGN,OAFAA,EAAS,CAACC,KAAM,kBAChBD,EAAS,CAACC,KAAM,YAAaY,QAASoL,IAC/B9L,MAAK,GAAAN,OAAIP,EAAJ,WAAAO,OAAiBoM,EAAKvK,IAAM,CACtCtB,OAAQ,QACRC,QAASd,IACTe,KAAMC,KAAKC,UAAU,CAACyL,WAEvBxL,KAAK,SAAAC,GAAC,OAAIV,EAAS,CAACC,KAAM,qBAIlBiM,EAAa,SAACf,GACzB,OAAO,SAACnL,GAEN,OADAA,EAAS,CAACC,KAAM,kBACTE,MAAK,GAAAN,OAAIP,EAAJ,UAAiB,CAC3Bc,OAAQ,OACRC,QAASd,IACTe,KAAMC,KAAKC,UAAU2K,KAEtB1K,KAAK,SAAAC,GAAC,OAAIA,EAAEC,SACZF,KAAK,SAAAwL,GACJjM,EAAS,CAACC,KAAM,iBAChBD,EAAS,CAACC,KAAM,WAAYY,QAASoL,QAK9BE,EAAa,SAAAzK,GACxB,OAAO,SAAA1B,GACL,OAAOG,MAAK,GAAAN,OAAIP,EAAJ,WAAAO,OAAiB6B,GAAM,CAACtB,OAAQ,SAAUC,QAASd,MAC9DkB,KAAK,SAAAC,GAAC,OAAIV,EAAS,CAACC,KAAM,cAAeY,QAASa,QC7BjD0K,6MAEJ9J,MAAQ,CACN+J,cAAc,EACdC,KAAM,KACNC,OAAQ,KACRC,OAAQ,KACRC,QAAS,KACTC,IAAK,KACLC,OAAQ,GACRC,cAAe,OAGjB5I,aAAe,SAACN,GAEd,IAAImJ,EADJnJ,EAAEO,iBAGA4I,EADE1L,EAAKmB,MAAMmK,SACFtL,EAAK2L,eAAiB3L,EAAK4L,WAAa,EAGzC5L,EAAK4L,UAGjB5L,EAAKpB,MAAMmM,WAAW,CACpB1I,SAAUqJ,EAAQ/J,UAClBD,IAAK,EACLE,MAAO,EACPC,QAAS,EACTL,KAAM,iCACNqK,QAAS7L,EAAKpB,MAAMkN,KAAKvL,KAE3BP,EAAKpB,MAAMmN,wBAGbJ,aAAe,WAKb,OAFY,IAAO,OAFD3L,EAAKmB,MAAMkK,OAAUrL,EAAKmB,MAAMkK,QAAUrL,EAAKmB,MAAMmK,QAAU,MACpD,MAEVtL,EAAKmB,MAAMsK,iBAIhCG,QAAU,WAOR,OAFY,IAJK5L,EAAKmB,MAAMkK,OAAS,KAIT,MAH4C,MAApC,GAAlBrL,EAAKmB,MAAMgK,KAAYzC,SAAS1I,EAAKmB,MAAMiK,UAC5C,EAAIpL,EAAKmB,MAAMoK,KACLvL,EAAKmB,MAAMqK,OAAS,IAA3B,IAAkC,MAEnCxL,EAAKmB,MAAMsK,iBAIhCnJ,aAAe,SAAAC,GACbvC,EAAKwC,SAALC,OAAAC,EAAA,EAAAD,CAAA,GAAgBF,EAAEI,OAAOnB,KAAOe,EAAEI,OAAOC,WAG3CoJ,oBAAsB,WAOpB,OAAOxL,EAAAC,EAAAC,cAAA,UAAQC,UAAU,gBAAgBa,KAAK,gBAAgBkC,SAAU1D,EAAKsC,cAN9D,CACb,CAACd,KAAM,8CAA+CyK,WAAY,KAClE,CAACzK,KAAM,0DAA2DyK,WAAY,OAC9E,CAACzK,KAAM,gEAAiEyK,WAAY,MACpF,CAACzK,KAAM,sDAAuDyK,WAAY,OAC1E,CAACzK,KAAM,wFAAyFyK,WAAY,MAEtGlI,IAAI,SAAAmI,GACR,OAAO1L,EAAAC,EAAAC,cAAA,UAAQc,KAAM0K,EAAI1K,KAAMyC,IAAKiI,EAAI1K,KAAMoB,MAAOsJ,EAAID,YAAcC,EAAI1K,kFAM/E,OACEhB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACbH,EAAAC,EAAAC,cAAA,6BACAF,EAAAC,EAAAC,cAAA,UAAQE,QAASC,KAAKjC,MAAMmN,oBAA5B,SACAvL,EAAAC,EAAAC,cAAA,QAAM+C,SAAU5C,KAAKgC,cACnBrC,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,uBACLF,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAAA,SAAOyL,UAAQ,EAACrN,KAAK,SAAS+E,IAAI,IAAIuI,IAAI,IAAIzI,YAAY,OAAOnC,KAAK,OAAOb,UAAU,SAAS+C,SAAU7C,KAAKyB,eAC/G9B,EAAAC,EAAAC,cAAA,SAAOyL,UAAQ,EAACrN,KAAK,SAAS+E,IAAI,IAAIuI,IAAI,KAAKzI,YAAY,SAASnC,KAAK,SAASb,UAAU,SAAS+C,SAAU7C,KAAKyB,iBAEtH9B,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,6BACLF,EAAAC,EAAAC,cAAA,SAAOyL,UAAQ,EAACrN,KAAK,SAAS+E,IAAI,IAAIuI,IAAI,OAAOzL,UAAU,YAAYgD,YAAY,SAASnC,KAAK,SAASkC,SAAU7C,KAAKyB,gBACzH9B,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,2BACLF,EAAAC,EAAAC,cAAA,SAAO5B,KAAK,SAAS+E,IAAI,IAAIuI,IAAI,KAAKzL,UAAU,YAAYgD,YAAY,aAAanC,KAAK,UAAUkC,SAAU7C,KAAKyB,gBACnH9B,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,oBACLF,EAAAC,EAAAC,cAAA,SAAOyL,UAAQ,EAACrN,KAAK,SAAS+E,IAAI,KAAKuI,IAAI,MAAMC,QAAQ,SAAS1I,YAAY,MAAMnC,KAAK,MAAMkC,SAAU7C,KAAKyB,gBAC9G9B,EAAAC,EAAAC,cAAA,SAAOC,UAAU,UAAjB,UACAH,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,UACnBH,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAAA,SAAO5B,KAAK,QAAQ0C,KAAK,SAASkC,SAAU7C,KAAKyB,eACjD9B,EAAAC,EAAAC,cAAA,uBAEFF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,+BACJG,KAAKmL,uBACNxL,EAAAC,EAAAC,cAAA,SAAO5B,KAAK,SAAS8D,MAAM,6BA/FN5B,IAAMC,WAkHtBC,cAZS,SAAAC,GACtB,MAAO,CACL2K,KAAM3K,EAAM2K,OAIW,SAAAjN,GACzB,MAAM,CACJkM,WAAY,SAACnM,GAAD,OAAWC,EAASkM,EAAWnM,OAIhCsC,CAA6C+J,GCrH/CqB,EAAY,WACvB,OAAO,SAACzN,GAGN,OADAA,EAAS,CAACC,KAAM,kBACTE,MAAK,GAAAN,OAAIP,EAAJ,SAAgB,CAC1Bc,OAAQ,OACRC,QAASd,IACTe,KAAMC,KAAKC,UAAU,CAACkN,MAAO,IAAIxG,MAAMyG,qBAExClN,KAAK,SAAAC,GAAC,OAAIA,EAAEC,SACZF,KAAK,SAAAgB,GACJzB,EAAS,CAACC,KAAM,iBAChBD,EAAS,CAAEC,KAAM,UAAWY,QAASY,QAK9BmM,EAAY,SAAClM,GACxB,OAAO,SAAC1B,GAEN,OADAA,EAAS,CAACC,KAAM,kBACTE,MAAK,GAAAN,OAAIP,EAAJ,UAAAO,OAAgB6B,GAAM,CAACrB,QAASd,MAC3CkB,KAAK,SAAAC,GAAC,OAAIA,EAAEC,SACZF,KAAK,SAAAoN,GACJ7N,EAAS,CAACC,KAAM,iBAChBD,EAAS,CAAEC,KAAM,aAAcY,QAASgN,QAKjCC,EAAY,SAAApM,GAEvB,OAAO,SAAA1B,GAEL,OADAA,EAAS,CAACC,KAAM,aAAcY,QAASa,IAChCvB,MAAK,GAAAN,OAAIP,EAAJ,UAAAO,OAAgB6B,GAAM,CAACtB,OAAQ,SAAUC,QAASd,QAIrDwO,EAAY,SAAAtM,GACvB,OAAO,SAAAzB,GACL,OAAOG,MAAK,GAAAN,OAAIP,EAAJ,SAAAO,OAAe4B,EAAIC,IAAM,CACnCtB,OAAQ,QACRC,QAASd,IACTe,KAAMC,KAAKC,UAAUiB,OCtCrBuM,6MAEJ1L,MAAQ,CACN2L,kBAAkB,KAGpBC,cAAgB,WACd,IAAMC,EAAchN,EAAKpB,MAAMqO,MAAMlE,KAAK,SAAStI,EAAEyM,GACnD,OAAIzM,EAAEe,KAAK2L,cAAgBD,EAAE1L,KAAK2L,cAAsB,EACpD1M,EAAEe,KAAK2L,cAAgBD,EAAE1L,KAAK2L,eAAuB,EAClD,IAET,OAAO3M,EAAAC,EAAAC,cAAA,UAAQkC,MAAO5C,EAAKpB,MAAMkM,KAAKvK,GAAII,UAAU,cAAc+C,SAAU1D,EAAKoN,YAC9EJ,EAAYjJ,IAAI,SAAA+G,GAAI,OAAItK,EAAAC,EAAAC,cAAA,UAAQkC,MAAOkI,EAAKvK,GAAI0D,IAAK6G,EAAKvK,IAAKuK,EAAKtJ,YAIzE4L,WAAa,SAAC7K,GACZvC,EAAKpB,MAAMwO,WAAW7K,EAAEI,OAAOC,OAC/B5C,EAAKpB,MAAMgO,UAAU,CAACrM,GAAIP,EAAKpB,MAAM0B,IAAIC,GAAG8M,QAAS9K,EAAEI,OAAOC,WAGhE0K,QAAU,WACRtN,EAAKpB,MAAMmM,WAAW,CACpBc,QAAS7L,EAAKpB,MAAMkN,KAAKvL,GACzBiB,KAAM,WACNa,SAAU,EAAGX,IAAK,EAAGE,MAAO,EAAGC,QAAS,IAEzCvC,KAAKU,EAAKuN,aAEbA,SAAW,WACTvN,EAAKwC,SAAS,CAACsK,kBAAkB,OAEnC9B,WAAa,WACRhL,EAAKpB,MAAMqO,MAAM1H,OAAS,GAC3BvF,EAAKpB,MAAMoM,WAAWhL,EAAKpB,MAAMkM,KAAKvK,OAI1CsC,aAAe,SAACN,GACdA,EAAEO,iBACF9C,EAAKwC,SAAS,CAACsK,kBAAkB,IACjC9M,EAAKpB,MAAMiM,WAAW7K,EAAKpB,MAAMkM,SAGnCxI,aAAe,SAACC,GAEdvC,EAAKpB,MAAM2O,SAAX9K,OAAAC,EAAA,EAAAD,CAAA,GAAsBF,EAAEI,OAAOnB,KAAOe,EAAEI,OAAOC,WAGjDmJ,mBAAqB,WAAO/L,EAAKwC,SAAS,CAACgL,sBAAuBxN,EAAKmB,MAAMqM,gGAG3E,OACEhN,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqG,SAAA,KAEAjG,KAAKM,MAAM2L,iBAEXtM,EAAAC,EAAAC,cAAA,QAAMC,UAAU,aAAa8C,SAAU5C,KAAKgC,cAC1CrC,EAAAC,EAAAC,cAAA,MAAIC,UAAU,cAAaH,EAAAC,EAAAC,cAAA,sBAC3BF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eACZH,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,SAAO5B,KAAK,OAAO0C,KAAK,OAAOmC,YAAY,OAAO8J,aAAc5M,KAAKjC,MAAMkM,KAAKtJ,KAAMoB,MAAO/B,KAAKM,MAAMK,KAAMkC,SAAU7C,KAAKyB,iBAEpI9B,EAAAC,EAAAC,cAAA,MAAIC,UAAU,kBAAkBH,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,SAAO5B,KAAK,SAAS0C,KAAK,WAAWqC,IAAI,IAAIF,YAAY,OAAOf,MAAO/B,KAAKjC,MAAMkM,KAAKzI,SAAUqB,SAAU7C,KAAKyB,iBACrJ9B,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aAAaH,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,SAAO5B,KAAK,SAAS0C,KAAK,MAAMqC,IAAI,IAAIF,YAAY,QAAQf,MAAO/B,KAAKjC,MAAMkM,KAAKpJ,IAAKgC,SAAU7C,KAAKyB,iBACvI9B,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAeH,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,SAAO5B,KAAK,SAAS0C,KAAK,QAAQqC,IAAI,IAAIF,YAAY,QAAQf,MAAO/B,KAAKjC,MAAMkM,KAAKlJ,MAAO8B,SAAU7C,KAAKyB,iBAC7I9B,EAAAC,EAAAC,cAAA,MAAIC,UAAU,iBAAiBH,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,SAAO5B,KAAK,SAAS0C,KAAK,UAAUqC,IAAI,IAAIF,YAAY,QAAQf,MAAO/B,KAAKjC,MAAMkM,KAAKjJ,QAAS6B,SAAU7C,KAAKyB,iBACnJ9B,EAAAC,EAAAC,cAAA,MAAIC,UAAU,cAAaH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,aAAa7B,KAAK,SAAS8D,MAAM,aAG/EpC,EAAAC,EAAAC,cAAA,MAAIC,UAAU,cACZH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,cAAaH,EAAAC,EAAAC,cAAA,sBAC3BF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAcH,EAAAC,EAAAC,cAAA,WAAMG,KAAKkM,kBACvCvM,EAAAC,EAAAC,cAAA,MAAIC,UAAU,kBAAkBH,EAAAC,EAAAC,cAAA,WAAMG,KAAKjC,MAAMkM,KAAKzI,WACtD7B,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aAAaH,EAAAC,EAAAC,cAAA,WAAMG,KAAKjC,MAAMkM,KAAKpJ,MACjDlB,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAeH,EAAAC,EAAAC,cAAA,WAAMG,KAAKjC,MAAMkM,KAAKlJ,QACnDpB,EAAAC,EAAAC,cAAA,MAAIC,UAAU,iBAAiBH,EAAAC,EAAAC,cAAA,WAAMG,KAAKjC,MAAMkM,KAAKjJ,UACrDrB,EAAAC,EAAAC,cAAA,QAAMC,UAAU,kBACdH,EAAAC,EAAAC,cAAA,sBACAF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,YACZH,EAAAC,EAAAC,cAAA,MAAIE,QAASC,KAAKyM,SAAS9M,EAAAC,EAAAC,cAAA,cAAQF,EAAAC,EAAAC,cAAA,OAAKuG,IAAI,sBAAsBtG,UAAU,oBAAoBuG,IAAI,kBAApG,YACA1G,EAAAC,EAAAC,cAAA,MAAIE,QAASC,KAAK0M,UAAU/M,EAAAC,EAAAC,cAAA,cAAQF,EAAAC,EAAAC,cAAA,OAAKuG,IAAI,gBAAgBtG,UAAU,sBAAsBuG,IAAI,eAAjG,aACA1G,EAAAC,EAAAC,cAAA,MAAIE,QAASC,KAAKmK,YAAYxK,EAAAC,EAAAC,cAAA,cAAQF,EAAAC,EAAAC,cAAA,OAAKuG,IAAI,iBAAiBtG,UAAU,4BAA4BuG,IAAI,mBAA1G,eACA1G,EAAAC,EAAAC,cAAA,MAAIE,QAASC,KAAKkL,oBAAoBvL,EAAAC,EAAAC,cAAA,wBAAtC,wBAKRF,EAAAC,EAAAC,cAAA,OACE4C,MAAO,CAACC,QAAS1C,KAAKM,MAAMqM,qBAAuB,QAAU,SAE7DhN,EAAAC,EAAAC,cAAEgN,EAAF,CAAmB3B,mBAAoBlL,KAAKkL,8BA3F3B/K,IAAMC,WAiHdC,cAfS,SAAAC,GACtB,OAAOA,GAGkB,SAAAtC,GACzB,MAAO,CACLuO,WAAY,SAAC7M,GAAD,OAAQ1B,EAAS,CAAEC,KAAM,cAAeY,QAASa,KAC7DsK,WAAY,SAACC,GAAD,OAAUjM,EAASgM,EAAWC,KAC1CC,WAAY,SAAC4C,GAAD,OAAY9O,EAASkM,EAAW4C,KAC5C3C,WAAY,SAAAzK,GAAE,OAAI1B,EAASmM,EAAWzK,KACtCgN,SAAU,SAAAvD,GAAI,OAAInL,EAAS,CAAEC,KAAM,YAAaY,QAASsK,KACzD4C,UAAW,SAAA5C,GAAI,OAAInL,EAAS+N,EAAU5C,OAI3B9I,CAA6C2L,GCrH/Ce,EAAU,SAACzM,GACtB,OAAO,SAACtC,GAEN,OADAA,EAAS,CAACC,KAAM,kBACTE,MAAK,GAAAN,OAAIP,EAAJ,YAAmB,CAC7Bc,OAAQ,QACRC,QAASd,IACTe,KAAMC,KAAKC,UAAU8B,KAEtB7B,KAAK,SAAAC,GAAC,OAAIV,EAAS,CAACC,KAAM,qBCEzB+O,6MAcJtD,QAAU,SAAC1C,GACT,IAAI2C,EAAM,EAcV,OAbAxK,EAAKpB,MAAMmI,YAAY0D,QAAQ,SAAAzI,GAI7B,IAAM0F,EAAS1F,EAAW2F,OAAOD,OAC3B1D,EAAUhC,EAAW8F,SAAS7B,KAAK,SAAAC,GAAC,OAAIA,EAAE3F,KAAOyB,EAAW2F,OAAOI,aAInEC,EAHaN,EAAS1D,EAAQiE,MACdjG,EAAW7B,KAAKiC,eAChB4B,EAAQ0D,OAAQ1D,EAAQ0D,OAAS,GAGvD8C,GAAO9B,SAAS1G,EAAW7B,KAAK0H,GAASG,KAEpCwC,EAAI7I,aAGbmM,OACEtN,EAAAC,EAAAC,cAAA,MAAIC,UAAU,YACZH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,QAAOH,EAAAC,EAAAC,cAAA,oBACrBF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,UAASH,EAAAC,EAAAC,cAAA,sBACvBF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,WAAWH,EAAAC,EAAAC,cAAA,uBACzBF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,kBAAkBH,EAAAC,EAAAC,cAAA,wBAChCF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aAAaH,EAAAC,EAAAC,cAAA,mBAC3BF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAeH,EAAAC,EAAAC,cAAA,qBAC7BF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,iBAAiBH,EAAAC,EAAAC,cAAA,uBAC/BF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,oBAGlBoN,gBAAkB,SAAClG,GAEjB,OAAK7H,EAAKpB,MAAMkN,KAAKkC,MACjBhO,EAAKuK,QAAQ1C,GAAS7H,EAAKpB,MAAMkM,KAAKjD,GAAS,EAC1C,QACA7H,EAAKuK,QAAQ1C,GAAS7H,EAAKpB,MAAMkM,KAAKjD,GAAS,EAC/C,OACI,OALsB,QAQrCoG,UAAY,WACV,OAAQzN,EAAAC,EAAAC,cAAA,MAAIC,UAAU,kBACpBH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,UAASH,EAAAC,EAAAC,cAAA,wBACvBF,EAAAC,EAAAC,cAAA,MAAIC,UAAS,iBAAoBgD,YAAY,SAAS3D,EAAKuK,QAAQ,aACnE/J,EAAAC,EAAAC,cAAA,MAAIC,UAAS,aAAAjC,OAAesB,EAAK+N,gBAAgB,SAAW/N,EAAKuK,QAAQ,QACzE/J,EAAAC,EAAAC,cAAA,MAAIC,UAAS,eAAAjC,OAAiBsB,EAAK+N,gBAAgB,WAAa/N,EAAKuK,QAAQ,UAC7E/J,EAAAC,EAAAC,cAAA,MAAIC,UAAS,iBAAAjC,OAAmBsB,EAAK+N,gBAAgB,aAAe/N,EAAKuK,QAAQ,YACjF/J,EAAAC,EAAAC,cAAA,MAAIC,UAAU,sGA3DC,IAAA0C,EAAAxC,KACjBqN,OAAOC,iBAAiB,eAAgB,SAAA5L,GACtCc,EAAKzE,MAAMgP,QAAQvK,EAAKzE,SAE1Be,SAASwO,iBAAiB,UAAW,SAAA5L,GAC/BA,EAAE6L,SAAsB,SAAX7L,EAAE8L,OACjB9L,EAAEO,iBACFO,EAAKzE,MAAMgP,QAAQvK,EAAKzE,2CAwDtB,IAAAiI,EAAAhG,KAEN,OACEL,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACZnC,aAAaC,QAAQ,SAAW,KAC/B+B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACfH,EAAAC,EAAAC,cAAA,4BACAF,EAAAC,EAAAC,cAAA,4CACAF,EAAAC,EAAAC,cAAA,YAGFF,EAAAC,EAAAC,cAAE4N,EAAF,MACCzN,KAAKoN,YACLpN,KAAKiN,OACLjN,KAAKjC,MAAMkD,WAAWiH,KAAK,SAAC7C,EAAG8C,GAAJ,OAAU9C,EAAEqI,WAAavF,EAAEuF,aAAYxK,IAAI,SAAAuG,GACvE,OAAO9J,EAAAC,EAAAC,cAAC8N,EAAD,CAAclE,SAAUA,EAAUrG,IAAKqG,EAAS/J,OAEtDM,KAAKiN,OACLjN,KAAKoN,YACNzN,EAAAC,EAAAC,cAAA,UAAQC,UAAU,aAAaC,QAAS,kBAAMiG,EAAKjI,MAAMgP,QAAQ/G,EAAKjI,SAAtE,QACCiC,KAAKjC,MAAM6P,QAASjO,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YAAmB,aArFjCK,IAAMC,WA+GrBC,cAnBS,SAACC,GAEvB,OAAOA,GAGkB,SAAAtC,GACzB,MAAO,CACL6P,WAAY,SAACC,GAAD,OAAa9P,EAAS,CAAEC,KAAM,cAAeY,QAASiP,KAClEC,WAAY,SAAC9C,GAAD,OAAUjN,EAAS,CAAEC,KAAM,cAAeY,QAASoM,KAC/DyB,SAAU,SAACvD,GAAD,OAAUnL,EAAS,CAAEC,KAAM,YAAaY,QAASsK,KAC3DoD,WAAY,SAAC7M,GAAD,OAAQ1B,EAAS,CAAEC,KAAM,cAAeY,QAASa,KAC7DsK,WAAY,SAACC,GAAD,OAAUjM,EAASgM,EAAWC,KAC1CC,WAAY,SAAC5J,GAAD,OAAWtC,EAASkM,EAAW5J,KAC3CyM,QAAS,SAACzM,GAAD,OAAWtC,EAAS+O,EAAQzM,KACrC0N,aAAc,SAACrN,GAAD,OAAU3C,EAAS,CAAEC,KAAM,iBAAkBY,QAAS8B,KACpEwJ,WAAY,SAAAzK,GAAE,OAAI1B,EAASmM,EAAWzK,OAI3BW,CAA6C2M,GC5G/CiB,EAAS,WACpB,OAAO,SAACjQ,GAEN,OADAA,EAAS,CAACC,KAAM,kBACTE,MAAK,GAAAN,OAAIP,EAAJ,WAAkB,CAC5Bc,OAAQ,OACRC,QAASd,MAEVkB,KAAK,SAAAyP,GACJ,OAAOA,EAASvP,SAEjBF,KAAK,SAAA0P,GAEJnQ,EAAS,CAACC,KAAM,iBACZkQ,EAAWlD,MAAQkD,EAAWC,KAEhCpQ,EAAS,CAAEC,KAAM,cAAeY,QAASsP,QCxB3CE,6MAEJ/N,MAAQ,CACNgO,gBAAiB,GACjBC,SAAU,GACVhM,MAAO,MAGTP,aAAe,SAAAN,GACbA,EAAEO,iBACE9C,EAAKmB,MAAMiO,WACbpP,EAAKpB,MAAM8G,eACX1F,EAAKpB,MAAMyQ,KAAK,CAACC,kBAAmBtP,EAAKmB,MAAMgO,gBAAiBC,SAAUpP,EAAKmB,MAAMiO,WACpF9P,KAAK,SAAAyP,GACJ,OAAOA,EAASvP,SAEjBF,KAAK,SAAAyP,GAEJ/O,EAAKpB,MAAM8H,cACPqI,EAASjD,MAAQiD,EAASE,KAC5BzQ,aAAa+Q,QAAQ,QAASR,EAASE,KACvCjP,EAAKpB,MAAMgQ,WAAWG,IAGtB/O,EAAKwC,SAAS,CAACY,MAAO2L,EAASS,gBAMvClN,aAAe,SAAAC,GACbvC,EAAKwC,SAALC,OAAAC,EAAA,EAAAD,CAAA,GAAiBF,EAAEI,OAAOnB,KAAOe,EAAEI,OAAOC,iFAI1C,OACEpC,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqG,SAAA,KACAtG,EAAAC,EAAAC,cAAA,QAAM+C,SAAU5C,KAAKgC,cACnBrC,EAAAC,EAAAC,cAAA,SAAOkC,MAAO/B,KAAKM,MAAMgO,gBAAiB3N,KAAK,kBAAkBjB,GAAG,kBAAkBmD,SAAU7C,KAAKyB,aAAcxD,KAAK,OAAO6E,YAAY,mBAC3InD,EAAAC,EAAAC,cAAA,SAAOkC,MAAO/B,KAAKM,MAAMiO,SAAU5N,KAAK,WAAWkC,SAAU7C,KAAKyB,aAAcxD,KAAK,WAAW6E,YAAY,aAC5GnD,EAAAC,EAAAC,cAAA,SAAOkC,MAAM,SAAS9D,KAAK,SAAS6B,UAAU,mBAC9CH,EAAAC,EAAAC,cAAA,UAAQE,QAASC,KAAKjC,MAAM6Q,aAAc9O,UAAU,kBAAkBE,KAAKjC,MAAM8Q,WAAa,gBAAiB,YAEhH7O,KAAKM,MAAMiC,MAAQ5C,EAAAC,EAAAC,cAAA,KAAGC,UAAU,gBAAgBE,KAAKM,MAAMiC,OAAa,aA3CvDpC,IAAMC,WA0DfC,cAAQ,KATI,SAAArC,GACzB,MAAO,CACL+P,WAAY,SAAC9C,GAAD,OAAUjN,EAAS,CAAEC,KAAM,cAAeY,QAASoM,KAC/DpG,aAAc,kBAAM7G,EAAS,CAACC,KAAM,mBACpC4H,YAAa,kBAAM7H,EAAS,CAACC,KAAM,kBACnCuQ,KAAM,SAACrF,GAAD,OAAUnL,ED1DA,SAACmL,GACnB,OAAO,SAACnL,GAEN,OADAA,EAAS,CAACC,KAAM,kBACTE,MAAK,GAAAN,OAAIP,EAAJ,SAAgB,CAC1Bc,OAAQ,OACRC,QAASd,IACTe,KAAMC,KAAKC,UAAU,CACnByM,KAAKrJ,OAAAS,EAAA,EAAAT,CAAA,GAAKuH,QCmDWqF,CAAKrF,OAInB9I,CAAkCgO,GC1D3CS,6MAEJxO,MAAQ,CACNyO,SAAU,GACV5B,MAAO,GACPoB,SAAU,GACVS,UAAW,GACXzM,MAAO,MAGTP,aAAe,SAACN,GACdA,EAAEO,iBACG9C,EAAKmB,MAAMiO,UAAapP,EAAKmB,MAAMyO,UAAa5P,EAAKmB,MAAM6M,MAGrD,eAAgBnF,KAAK7I,EAAKmB,MAAM6M,OAGlChO,EAAKmB,MAAMiO,WAAapP,EAAKmB,MAAM0O,UAC1C7P,EAAKwC,SAAS,CAACY,MAAO,yBAEfpD,EAAKmB,MAAMiO,SAAS7J,OAAS,EACpCvF,EAAKwC,SAAS,CAACY,MAAO,2CAGtBpD,EAAKpB,MAAMkR,WAAW9P,EAAKmB,OAT3BnB,EAAKwC,SAAS,CAACY,MAAO,qBAHtBpD,EAAKwC,SAAS,CAACY,MAAO,8CAgB1B2M,kBAAoB,WACd/P,EAAKmB,MAAM6O,QACbhQ,EAAKgQ,SACLhQ,EAAKwC,SAAS,CACZ4M,SAAU,MAGZpP,EAAKwC,SAAS,CAACwN,QAAQ,OAI3B1N,aAAe,SAAAC,GACbvC,EAAKwC,SAALC,OAAAC,EAAA,EAAAD,CAAA,GAAiBF,EAAEI,OAAOnB,KAAOe,EAAEI,OAAOC,iFAI1C,OACEpC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QAAQ2C,MAAO,CAACC,QAAO,GAAA7E,OAAMmC,KAAKjC,MAAM8Q,aAAe7O,KAAKjC,MAAMkN,KAAKkC,MAAQ,QAAU,UACxGxN,EAAAC,EAAAC,cAAA,QAAM+C,SAAU5C,KAAKgC,aAAclC,UAAU,cAC3CH,EAAAC,EAAAC,cAAA,UACAF,EAAAC,EAAAC,cAAA,yBAAuBF,EAAAC,EAAAC,cAAA,WACvBF,EAAAC,EAAAC,cAAA,SAAOkC,MAAO/B,KAAKM,MAAMyO,SAAUpO,KAAK,WAAWkC,SAAU7C,KAAKyB,aAAcxD,KAAK,OAAO6E,YAAY,cAExGnD,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,sBAAoBF,EAAAC,EAAAC,cAAA,WACpBF,EAAAC,EAAAC,cAAA,SAAOkC,MAAO/B,KAAKM,MAAM6M,MAAOxM,KAAK,QAAQkC,SAAU7C,KAAKyB,aAAcxD,KAAK,QAAQ6E,YAAY,WAErGnD,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,yBAAuBF,EAAAC,EAAAC,cAAA,WACvBF,EAAAC,EAAAC,cAAA,SAAOkC,MAAO/B,KAAKM,MAAMiO,SAAU5N,KAAK,WAAWkC,SAAU7C,KAAKyB,aAAcxD,KAAK,WAAW6E,YAAY,kBAE9GnD,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,yBAAuBF,EAAAC,EAAAC,cAAA,WACvBF,EAAAC,EAAAC,cAAA,SAAOkC,MAAO/B,KAAKM,MAAM0O,UAAWrO,KAAK,YAAYkC,SAAU7C,KAAKyB,aAAcxD,KAAK,WAAW6E,YAAY,aAEhHnD,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,SAAOkC,MAAM,UAAU9D,KAAK,aAG/B+B,KAAKM,MAAMiC,MAAQ5C,EAAAC,EAAAC,cAAA,KAAGC,UAAU,gBAAgBE,KAAKM,MAAMiC,OAAa,aApEtDpC,IAAMC,WAqFhBC,cAXS,SAAAC,GACtB,OAAOA,GAGkB,SAAAtC,GACzB,MAAO,CACL+P,WAAY,SAAC9C,GAAD,OAAUjN,EAAS,CAAEC,KAAM,cAAeY,QAASoM,KAC/DgE,WAAY,SAAAhE,GAAI,OAAIjN,ECrFE,SAACiN,GACzB,OAAO,SAACjN,GAEN,OADAA,EAAS,CAACC,KAAM,kBACTE,MAAK,GAAAN,OAAIP,EAAJ,UAAiB,CAC3Bc,OAAQ,OACRC,QAASd,IACTe,KAAMC,KAAKC,UAAU,CACnByM,KAAMA,MAGTxM,KAAK,SAAAC,GAAC,OAAIA,EAAEC,SACZF,KAAK,SAAA2Q,GAEJ,GADApR,EAAS,CAACC,KAAM,iBACZmR,EAAKnE,MAAQmE,EAAKhB,IAGpB,OAFAzQ,aAAa+Q,QAAQ,QAASU,EAAKhB,KACnCpQ,EAAS,CAAEC,KAAM,cAAeY,QAASuQ,IAClCA,KDqEkBH,CAAWhE,OAI7B5K,CAA6CyO,GEtFtDO,6MAEJ/O,MAAQ,CACN+J,cAAc,EACdC,KAAM,KACNC,OAAQ,KACRC,OAAQ,KACRC,QAAS,KACTC,IAAK,KACLC,OAAQ,GACRC,cAAe,OAGjB5I,aAAe,SAACN,GAEd,IAAImJ,EADJnJ,EAAEO,iBAGA4I,EADE1L,EAAKmB,MAAMmK,SACFtL,EAAK2L,eAAiB3L,EAAK4L,WAAa,EAGzC5L,EAAK4L,UAEjB5L,EAAKpB,MAAMmM,WAAW,CACpB1I,SAAUqJ,EAAQ/J,UAClBD,IAAK,EACLE,MAAO,EACPC,QAAS,EACTL,KAAM,uBACNqK,QAAS7L,EAAKpB,MAAMkN,KAAKvL,KAE3BP,EAAKwC,SAAS,CAAC0I,cAAc,OAG/BS,aAAe,WAKb,OAFY,IAAO,OAFD3L,EAAKmB,MAAMkK,OAAUrL,EAAKmB,MAAMkK,QAAUrL,EAAKmB,MAAMmK,QAAU,MACpD,MAEVtL,EAAKmB,MAAMsK,iBAIhCG,QAAU,WAOR,OAFY,IAJK5L,EAAKmB,MAAMkK,OAAS,KAIT,MAH4C,MAApC,GAAlBrL,EAAKmB,MAAMgK,KAAYzC,SAAS1I,EAAKmB,MAAMiK,UAC5C,EAAIpL,EAAKmB,MAAMoK,KACLvL,EAAKmB,MAAMqK,OAAS,IAA3B,IAAkC,MAEnCxL,EAAKmB,MAAMsK,iBAIhCnJ,aAAe,SAAAC,GACbvC,EAAKwC,SAALC,OAAAC,EAAA,EAAAD,CAAA,GAAgBF,EAAEI,OAAOnB,KAAOe,EAAEI,OAAOC,WAG3CoJ,oBAAsB,WAOpB,OAAOxL,EAAAC,EAAAC,cAAA,UAAQc,KAAK,gBAAgBkC,SAAU1D,EAAKsC,cANpC,CACb,CAACd,KAAM,YAAayK,WAAY,KAChC,CAACzK,KAAM,iBAAkByK,WAAY,OACrC,CAACzK,KAAM,oBAAqByK,WAAY,MACxC,CAACzK,KAAM,cAAeyK,WAAY,OAClC,CAACzK,KAAM,mBAAoByK,WAAY,MAEjClI,IAAI,SAAAmI,GACR,OAAO1L,EAAAC,EAAAC,cAAA,UAAQc,KAAM0K,EAAI1K,KAAMoB,MAAOsJ,EAAID,YAAcC,EAAI1K,kFAK1D,IAAA6B,EAAAxC,KACN,OACEL,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqG,SAAA,KACAtG,EAAAC,EAAAC,cAAA,UAAQC,UAAU,uBAAuBC,QAAS,kBAAMyC,EAAKb,SAAS,CAAC0I,cAAe7H,EAAKlC,MAAM+J,iBAAiBrK,KAAKjC,MAAMkN,KAAK8D,SAAlI,IAA6I/O,KAAKM,MAAM+J,aAAc,SAAM,UAC5K1K,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YAAY2C,MAAO,CAACC,QAAS1C,KAAKM,MAAM+J,aAAe,SAAW,SAC/E1K,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACfH,EAAAC,EAAAC,cAAA,UAAQE,QAAS,kBAAMyC,EAAKb,SAAS,CAAC0I,cAAc,KAASvK,UAAU,4BAA4BuG,IAAI,SAC7F1G,EAAAC,EAAAC,cAAA,OAAKuG,IAAI,iBAAiBtG,UAAU,2BAA2BuG,IAAI,WAE7E1G,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAAA,sBAAcG,KAAKjC,MAAMkN,KAAK8D,UAC9BpP,EAAAC,EAAAC,cAAA,mBAAWG,KAAKjC,MAAMkN,KAAKkC,OAC3BxN,EAAAC,EAAAC,cAAA,UAAQC,UAAU,uBAAlB,KACEH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACbH,EAAAC,EAAAC,cAAA,0BACAF,EAAAC,EAAAC,cAAA,kEACEF,EAAAC,EAAAC,cAAA,KAAGyP,KAAK,wEAAR,kBADF,6HAKM3P,EAAAC,EAAAC,cAAA,KAAGyP,KAAK,sDAAR,iBALN,kDAOE3P,EAAAC,EAAAC,cAAA,6RAKFF,EAAAC,EAAAC,cAAA,6CACAF,EAAAC,EAAAC,cAAA,2BAAkBF,EAAAC,EAAAC,cAAA,KAAGyP,KAAK,+EAAR,kBAAlB,sDAGJ3P,EAAAC,EAAAC,cAAA,6BACAF,EAAAC,EAAAC,cAAA,QAAM+C,SAAU5C,KAAKgC,cACnBrC,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAAA,SAAOyL,UAAQ,EAACrN,KAAK,SAAS+E,IAAI,IAAIuI,IAAI,IAAIzI,YAAY,OAAOnC,KAAK,OAAOb,UAAU,SAAS+C,SAAU7C,KAAKyB,eAC/G9B,EAAAC,EAAAC,cAAA,SAAOyL,UAAQ,EAACrN,KAAK,SAAS+E,IAAI,IAAIuI,IAAI,KAAKzI,YAAY,SAASnC,KAAK,SAASb,UAAU,SAAS+C,SAAU7C,KAAKyB,gBAEtH9B,EAAAC,EAAAC,cAAA,6BACAF,EAAAC,EAAAC,cAAA,SAAOyL,UAAQ,EAACrN,KAAK,SAAS+E,IAAI,IAAIuI,IAAI,OAAOzL,UAAU,YAAYgD,YAAY,SAASnC,KAAK,SAASkC,SAAU7C,KAAKyB,eACzH9B,EAAAC,EAAAC,cAAA,2BACAF,EAAAC,EAAAC,cAAA,SAAO5B,KAAK,SAAS+E,IAAI,IAAIuI,IAAI,KAAKzL,UAAU,YAAYgD,YAAY,oBAAoBnC,KAAK,UAAUkC,SAAU7C,KAAKyB,eAC1H9B,EAAAC,EAAAC,cAAA,oBACAF,EAAAC,EAAAC,cAAA,SAAOyL,UAAQ,EAACrN,KAAK,SAAS+E,IAAI,KAAKuI,IAAI,MAAMC,QAAQ,SAAS1I,YAAY,MAAMnC,KAAK,MAAMkC,SAAU7C,KAAKyB,eAC9G9B,EAAAC,EAAAC,cAAA,SAAOC,UAAU,UAAjB,UACAH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,UACdH,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAAA,QAAA+B,OAAAC,EAAA,EAAAD,CAAA,CAAO3D,KAAK,QAAQ0C,KAAK,SAASkC,SAAU,SAAAnB,GAAC,OAAIiE,QAAQC,IAAIlE,EAAEI,OAAOC,SAAtE,WAAwF/B,KAAKyB,eAC7F9B,EAAAC,EAAAC,cAAA,sBAEFF,EAAAC,EAAAC,cAAA,+BACCG,KAAKmL,sBACNxL,EAAAC,EAAAC,cAAA,SAAO5B,KAAK,SAAS8D,MAAM,+BAzHV5B,IAAMC,WCM3BmP,GDwISlP,YAZS,SAAAC,GACtB,MAAO,CACL2K,KAAM3K,EAAM2K,OAIW,SAAAjN,GACzB,MAAM,CACJkM,WAAY,SAACnM,GAAD,OAAWC,EAASkM,EAAWnM,OAIhCsC,CAA6CgP,8MCtI1D/O,MAAQ,KAIRkP,cAAgB,WACdrQ,EAAKwC,SAAS,CACZoN,SAAU,GACV5B,MAAO,GACPmB,gBAAiB,GACjBC,SAAU,GACVY,QAAQ,EACRxO,KAAM,KACN+K,KAAM,KACN+D,SAAS,IAEX9R,aAAa+R,WAAW,SACxBvQ,EAAKpB,MAAM4R,aAGbC,iBAAmB,SAACC,GAClB,IAAMpQ,EAAMoQ,EAAOnE,KAOnB,MAAO,GAAA7N,OAAG4B,EAAIqQ,MAAM,EAAE,GAAf,KAAAjS,OAAqB4B,EAAIqQ,MAAM,EAAE,IAAjC,KAAAjS,OAAwC4B,EAAIqQ,MAAM,EAAE,KAAQD,EAAOlP,KAAP,IAAA9C,OAAkBgS,EAAOlP,MAAS,OAGvGoP,WAAa,WAGX,OADa5Q,EAAKpB,MAAMiS,KAAK9H,KAAK,SAAC7C,EAAG8C,GAAJ,OAAU,IAAIjD,KAAKiD,EAAEuD,MAAQ,IAAIxG,KAAKG,EAAEqG,QAC9DxI,IAAI,SAAAzD,GACd,OAAOE,EAAAC,EAAAC,cAAA,UAAQkC,MAAOtC,EAAIC,GAAI0D,IAAK3D,EAAIC,IAAMP,EAAKyQ,iBAAiBnQ,SAIvEgQ,QAAU,WACRtQ,EAAKwC,SAAS,CAAC8N,SAAS,OAG1BQ,oBAAsB,SAACvO,GACrBvC,EAAKwC,SAALC,OAAAC,EAAA,EAAAD,CAAA,GAAgBF,EAAEI,OAAOnB,KAAOe,EAAEI,OAAOC,WAG3CgK,UAAY,SAACrK,GAGX,GAFAA,EAAEO,iBACF9C,EAAKwC,SAAS,CAAC8N,SAAS,EAAO9O,KAAM,KAAM+K,KAAM,OAC5CvM,EAAKmB,MAAMK,OAASxB,EAAKpB,MAAM0B,IAAIkB,MAAUxB,EAAKmB,MAAMoL,MAAQvM,EAAKmB,MAAMoL,OAASvM,EAAKpB,MAAM0B,IAAIiM,KAAO,CAC7G,IAAMjM,EAAGmC,OAAAS,EAAA,EAAAT,CAAA,GAAOzC,EAAKpB,MAAM0B,IAAlB,CAAuBkB,KAAMxB,EAAKmB,MAAMK,MAAQxB,EAAKpB,MAAM0B,IAAIkB,KAAM+K,KAAMvM,EAAKmB,MAAMoL,MAAQvM,EAAKpB,MAAM0B,IAAIiM,OACtHvM,EAAKpB,MAAM0R,QAAQhQ,GACnBN,EAAKpB,MAAMgO,UAAUtM,OAIzByQ,iBAAmB,SAAAxO,GACjBvC,EAAKpB,MAAMgP,QAAQ5N,EAAKpB,OACxBoB,EAAKpB,MAAM6N,UAAUlK,EAAEI,OAAOC,UAGhCoO,WAAa,WACX,IAAMzE,EAAO,IAAIxG,KACXkL,EAAO1E,EAAK2E,cACdC,EAAQ5E,EAAK6E,WAAa,EAC1B9Q,EAAMiM,EAAK8E,UAGf,OAFIF,EAAQ,KAAKA,EAAK,IAAAzS,OAAOyS,IACzB7Q,EAAM,KAAKA,EAAG,IAAA5B,OAAO4B,IACzB,GAAA5B,OAAUuS,EAAV,KAAAvS,OAAkByS,EAAlB,KAAAzS,OAA2B4B,MAG7BqM,UAAY,WACV,GAAI3M,EAAKpB,MAAMiS,KAAKtL,OAAS,GAAK2I,OAAOoD,QAAQ,6CAA8C,CAC7F,IAAMC,EAAavR,EAAKpB,MAAMiS,KAAKzG,OAAO,SAAAlE,GAAC,OAAIA,EAAE3F,KAAOP,EAAKpB,MAAM0B,IAAIC,KAAI,GAC3EP,EAAKpB,MAAM6N,UAAU8E,EAAWhR,IAChCP,EAAKpB,MAAM+N,UAAU3M,EAAKpB,MAAM0B,IAAIC,QAIxC4C,kBAAoB,WAClBnD,EAAKwC,SAAS,CAACgB,iBAAkBxD,EAAKmB,MAAMqC,qBAG9CgO,QAAU,WACRxR,EAAKpB,MAAM4S,QAAQxR,EAAKpB,MAAM0B,IAAIC,6EAKlC,OACEC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cAAaH,EAAAC,EAAAC,cAAA,OAAKuG,IAAI,sBAAsBtG,UAAU,aAAauG,IAAI,gBACpF1G,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACbH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,OACZH,EAAAC,EAAAC,cAAA,UAAKG,KAAKjC,MAAMkN,KAAK8D,UACrBpP,EAAAC,EAAAC,cAAA,UAAKG,KAAKjC,MAAMkN,KAAKkC,QAKvBxN,EAAAC,EAAAC,cAAA,MAAIC,UAAU,UACZH,EAAAC,EAAAC,cAAA,MAAIE,QAASC,KAAKsC,mBAAlB,wBACA3C,EAAAC,EAAAC,cAAE+Q,EAAF,CAAejO,gBAAiB3C,KAAKM,MAAMqC,gBAAiBL,kBAAmBtC,KAAKsC,kBAAmB/C,WAAYS,KAAKjC,MAAMkD,WAAW,GAAGvB,KAC5IC,EAAAC,EAAAC,cAAA,MAAIC,UAAU,WAAUH,EAAAC,EAAAC,cAAA,KAAGyP,KAAK,+BAAR,YACxB3P,EAAAC,EAAAC,cAAA,MAAIC,UAAU,UAAUC,QAASC,KAAKwP,eAAtC,gBAKR7P,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACZE,KAAKM,MAAMmP,QAEZ9P,EAAAC,EAAAC,cAAA,QAAMC,UAAU,UAAU8C,SAAU5C,KAAK+L,WACvCpM,EAAAC,EAAAC,cAAA,SAAO5B,KAAK,OAAO0C,KAAK,OAAOmC,YAAY,OAAO8J,aAAc5M,KAAKjC,MAAM0B,IAAIkB,KAAMoB,MAAO/B,KAAKM,MAAMK,KAAMkC,SAAU7C,KAAKiQ,sBAC5HtQ,EAAAC,EAAAC,cAAA,SAAO5B,KAAK,OAAO0C,KAAK,OAAOmC,YAAY,OAAO8J,aAAc5M,KAAKjC,MAAM0B,IAAIiM,KAAM3J,MAAO/B,KAAKM,MAAMoL,KAAM7I,SAAU7C,KAAKiQ,sBAC5HtQ,EAAAC,EAAAC,cAAA,SAAO5B,KAAK,SAAS8D,MAAM,YAG7BpC,EAAAC,EAAAC,cAAA,QAAMC,UAAU,aACdH,EAAAC,EAAAC,cAAA,UAAQgD,SAAU7C,KAAKkQ,iBAAkBnO,MAAO/B,KAAKjC,MAAM0B,IAAIC,GAAII,UAAU,aAC1EE,KAAK+P,cAERpQ,EAAAC,EAAAC,cAAA,QAAMC,UAAU,kBACdH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,WAAlB,UACAH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,YACZH,EAAAC,EAAAC,cAAA,MAAIE,QAASC,KAAKjC,MAAM0N,WAAW9L,EAAAC,EAAAC,cAAA,cAAQF,EAAAC,EAAAC,cAAA,OAAKuG,IAAI,sBAAsBtG,UAAU,mBAAmBuG,IAAI,iBAA3G,WACA1G,EAAAC,EAAAC,cAAA,MAAIE,QAASC,KAAKyP,SAAS9P,EAAAC,EAAAC,cAAA,cAAQF,EAAAC,EAAAC,cAAA,OAAKuG,IAAI,gBAAgBtG,UAAU,qBAAqBuG,IAAI,cAA/F,YACA1G,EAAAC,EAAAC,cAAA,MAAIE,QAASC,KAAK2Q,SAAShR,EAAAC,EAAAC,cAAA,UAAQC,UAAU,cAAaH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,QAAhB,iBAA1D,YACAH,EAAAC,EAAAC,cAAA,MAAIE,QAASC,KAAK8L,WAAWnM,EAAAC,EAAAC,cAAA,cAAQF,EAAAC,EAAAC,cAAA,OAAKuG,IAAI,iBAAiBtG,UAAU,yBAAyBuG,IAAI,gBAAtG,kBAMR1G,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACbH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,WAAd,gBA1ImBK,IAAMC,YAqKpBC,cApBS,SAAAC,GACtB,OAAOA,GAGkB,SAAAtC,GACzB,MAAM,CACJ2R,QAAS,kBAAM3R,EAAS,CAAEC,KAAM,cAChCwR,QAAS,SAAChQ,GAAD,OAASzB,EAAS,CAACC,KAAM,WAAYY,QAASY,KACvDsM,UAAW,SAAAtM,GAAG,OAAIzB,EAAS+N,EAAUtM,KACrCwO,OAAQ,kBAAMjQ,EAASiQ,MACvBxC,UAAW,kBAAMzN,EAASyN,MAC1BG,UAAW,SAAClM,GAAD,OAAQ1B,EAAS4N,EAAUlM,KACtCqN,QAAS,SAACzM,GAAD,OAAWtC,EAAS+O,EAAQzM,KACrCuE,aAAc,kBAAM7G,EAAS,CAACC,KAAM,mBACpC4H,YAAa,kBAAM7H,EAAS,CAACC,KAAM,kBACnC6N,UAAW,SAACpM,GAAD,OAAQ1B,EAAS8N,EAAUpM,KACtCiR,QAAS,SAACjR,GAAD,OAAQ1B,ET3HE,SAAA0B,GACrB,OAAO,SAAA1B,GAEL,OADAA,EAAS,CAACC,KAAM,kBACTE,MAAK,GAAAN,OAAIP,EAAJ,cAAAO,OAAoB6B,GAAM,CAACrB,QAASd,MAC/CkB,KAAK,SAAAC,GAAC,OAAIA,EAAEC,SACZF,KAAK,SAAAC,GACJV,EAAS,CAACC,KAAM,iBAChBD,EAAS,CAAEC,KAAM,UAAWY,QAASH,IACrCV,EAAS,CAAEC,KAAM,aAAcY,QAASH,OSmHhBiS,CAAQjR,OAIvBW,CAA6CkP,GCrKtDsB,8MAEJvQ,MAAQ,CACNyO,SAAU,GACV5B,MAAO,GACPmB,gBAAiB,GACjBC,SAAU,GACVY,QAAQ,EACR2B,aAAa,EACbjC,YAAY,KAOdW,cAAgB,WACdrQ,EAAKwC,SAAS,CACZoN,SAAU,GACV5B,MAAO,GACPmB,gBAAiB,GACjBC,SAAU,GACVY,QAAQ,EACR2B,aAAa,EACbC,QAAS,KAEXpT,aAAa+R,WAAW,SACxBvQ,EAAKpB,MAAM4R,aAGbf,aAAe,SAAClN,GACdA,EAAEO,iBACF9C,EAAKwC,SAAS,CAACkN,YAAa1P,EAAKmB,MAAMuO,gBAGzCmC,SAAW,WACT,QAAS7R,EAAKpB,MAAMkN,KAAKkC,SAG3ByC,iBAAmB,SAACC,GAClB,IAAMpQ,EAAM,IAAIyF,KAAK2K,EAAOnC,YAC5B,MAAO,GAAA7P,OAAG4B,EAAI8Q,WAAa,EAApB,KAAA1S,OAAyB4B,EAAI+Q,UAA7B,KAAA3S,OAA0C4B,EAAI4Q,gBAAmBR,EAAOlP,KAAP,IAAA9C,OAAkBgS,EAAOlP,MAAS,OAG5GoP,WAAa,WAGX,OADa5Q,EAAKpB,MAAMiS,KAAK9H,KAAK,SAAC7C,EAAG8C,GAAJ,OAAU,IAAIjD,KAAKiD,EAAEuF,YAAc,IAAIxI,KAAKG,EAAEqI,cACpExK,IAAI,SAAAzD,GACd,OAAOE,EAAAC,EAAAC,cAAA,UAAQkC,MAAOtC,EAAIC,GAAI0D,IAAK3D,EAAIC,IAAMP,EAAKyQ,iBAAiBnQ,SAIvEwR,cAAgB,WACd9R,EAAKwC,SAAS,CAACmP,aAAc3R,EAAKmB,MAAMwQ,iBAG1CI,oBAAsB,SAACxP,GACrBvC,EAAKwC,SAAS,CAACoP,QAASrP,EAAEI,OAAOC,WAGnCmO,iBAAmB,SAAAxO,GACjBvC,EAAKpB,MAAMgP,QAAQ5N,EAAKpB,OACxBoB,EAAKpB,MAAM6N,UAAUlK,EAAEI,OAAOC,UAGhCoO,WAAa,WACX,IAAMzE,EAAO,IAAIxG,KACXkL,EAAO1E,EAAK2E,cACdC,EAAQ5E,EAAK6E,WAAa,EAC1B9Q,EAAMiM,EAAK8E,UAGf,OAFIF,EAAQ,KAAKA,EAAK,IAAAzS,OAAOyS,IACzB7Q,EAAM,KAAKA,EAAG,IAAA5B,OAAO4B,IACzB,GAAA5B,OAAUuS,EAAV,KAAAvS,OAAkByS,EAAlB,KAAAzS,OAA2B4B,MAG7BqM,UAAY,WACV,GAAI3M,EAAKpB,MAAMiS,KAAKtL,OAAS,GAAK2I,OAAOoD,QAAQ,6CAA8C,CAC7F,IAAMC,EAAavR,EAAKpB,MAAMiS,KAAKzG,OAAO,SAAAlE,GAAC,OAAIA,EAAE3F,KAAOP,EAAKpB,MAAM0B,IAAIC,KAAI,GAC3EP,EAAKpB,MAAM6N,UAAU8E,EAAWhR,IAChCP,EAAKpB,MAAM+N,UAAU3M,EAAKpB,MAAM0B,IAAIC,yFAlElC/B,aAAaC,QAAQ,UAAUoC,KAAKjC,MAAMkQ,0CAuE9C,OACEtO,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBACfH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBAAqBH,EAAAC,EAAAC,cAAA,iDACpCF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACbH,EAAAC,EAAAC,cAAEsR,EAAF,CAAYtC,WAAY7O,KAAKM,MAAMuO,WAAYD,aAAc5O,KAAK4O,aAAcnN,aAAczB,KAAKyB,aAAc2P,MAAOpR,KAAKoR,QAC7HzR,EAAAC,EAAAC,cAAEwR,EAAF,CAAaxC,WAAY7O,KAAKM,MAAMuO,WAAYD,aAAc5O,KAAK4O,wBAzF3CzO,IAAMC,WAkHvBC,eAlBS,SAAAC,GACtB,OAAOA,GAGkB,SAAAtC,GACzB,MAAM,CACJ2R,QAAS,kBAAM3R,EAAS,CAAEC,KAAM,cAChCgQ,OAAQ,kBAAMjQ,EAASiQ,MACvBxC,UAAW,kBAAMzN,EAASyN,MAC1BG,UAAW,SAAClM,GAAD,OAAQ1B,EAAS4N,EAAUlM,KACtCoR,YAAa,SAACC,GAAD,OAAa/S,EAAS,CAACC,KAAM,gBAAiBY,QAASkS,KACpEhE,QAAS,SAACzM,GAAD,OAAWtC,EAAS+O,EAAQzM,KACrCuE,aAAc,kBAAM7G,EAAS,CAACC,KAAM,mBACpC4H,YAAa,kBAAM7H,EAAS,CAACC,KAAM,kBACnC6N,UAAW,SAACpM,GAAD,OAAQ1B,EAAS8N,EAAUpM,OAI3BW,CAA6CwQ,IChHtDS,8MAEJhR,MAAQ,CACNyO,SAAU,GACV5B,MAAO,GACPmB,gBAAiB,GACjBC,SAAU,GACVY,QAAQ,EACR2B,aAAa,EACbjC,YAAY,KAOdW,cAAgB,WACdrQ,EAAKwC,SAAS,CACZoN,SAAU,GACV5B,MAAO,GACPmB,gBAAiB,GACjBC,SAAU,GACVY,QAAQ,EACR2B,aAAa,EACbC,QAAS,KAEXpT,aAAa+R,WAAW,SACxBvQ,EAAKpB,MAAM4R,aAGbf,aAAe,SAAClN,GACdA,EAAEO,iBACF9C,EAAKwC,SAAS,CAACkN,YAAa1P,EAAKmB,MAAMuO,gBAGzCe,iBAAmB,SAACC,GAClB,IAAMpQ,EAAM,IAAIyF,KAAK2K,EAAOnC,YAC5B,MAAO,GAAA7P,OAAG4B,EAAI8Q,WAAa,EAApB,KAAA1S,OAAyB4B,EAAI+Q,UAA7B,KAAA3S,OAA0C4B,EAAI4Q,gBAAmBR,EAAOlP,KAAP,IAAA9C,OAAkBgS,EAAOlP,MAAS,OAG5GoP,WAAa,WAGX,OADa5Q,EAAKpB,MAAMiS,KAAK9H,KAAK,SAAC7C,EAAG8C,GAAJ,OAAU,IAAIjD,KAAKiD,EAAEuF,YAAc,IAAIxI,KAAKG,EAAEqI,cACpExK,IAAI,SAAAzD,GACd,OAAOE,EAAAC,EAAAC,cAAA,UAAQkC,MAAOtC,EAAIC,GAAI0D,IAAK3D,EAAIC,IAAMP,EAAKyQ,iBAAiBnQ,SAIvEwR,cAAgB,WACd9R,EAAKwC,SAAS,CAACmP,aAAc3R,EAAKmB,MAAMwQ,iBAG1CI,oBAAsB,SAACxP,GACrBvC,EAAKwC,SAAS,CAACoP,QAASrP,EAAEI,OAAOC,WAGnCmO,iBAAmB,SAAAxO,GACjBvC,EAAKpB,MAAMgP,QAAQ5N,EAAKpB,OACxBoB,EAAKpB,MAAM6N,UAAUlK,EAAEI,OAAOC,UAGhCoO,WAAa,WACX,IAAMzE,EAAO,IAAIxG,KACXkL,EAAO1E,EAAK2E,cACdC,EAAQ5E,EAAK6E,WAAa,EAC1B9Q,EAAMiM,EAAK8E,UAGf,OAFIF,EAAQ,KAAKA,EAAK,IAAAzS,OAAOyS,IACzB7Q,EAAM,KAAKA,EAAG,IAAA5B,OAAO4B,IACzB,GAAA5B,OAAUuS,EAAV,KAAAvS,OAAkByS,EAAlB,KAAAzS,OAA2B4B,MAG7BqM,UAAY,WACV,GAAI3M,EAAKpB,MAAMiS,KAAKtL,OAAS,GAAK2I,OAAOoD,QAAQ,6CAA8C,CAC7F,IAAMC,EAAavR,EAAKpB,MAAMiS,KAAKzG,OAAO,SAAAlE,GAAC,OAAIA,EAAE3F,KAAOP,EAAKpB,MAAM0B,IAAIC,KAAI,GAC3EP,EAAKpB,MAAM6N,UAAU8E,EAAWhR,IAChCP,EAAKpB,MAAM+N,UAAU3M,EAAKpB,MAAM0B,IAAIC,yFA9DlC/B,aAAaC,QAAQ,UAAUoC,KAAKjC,MAAMkQ,0CAmE9C,OACEtQ,aAAaC,QAAQ,SAErB+B,EAAAC,EAAAC,cAAE0R,EAAF,MAEA5R,EAAAC,EAAAC,cAAE2R,GAAF,aArFerR,IAAMC,WA6GZC,eAnBS,SAAAC,GACtB,OAAOA,GAGkB,SAAAtC,GACzB,MAAM,CACJ2R,QAAS,kBAAM3R,EAAS,CAAEC,KAAM,cAChCgQ,OAAQ,kBAAMjQ,EAASiQ,MACvBxC,UAAW,kBAAMzN,EAASyN,MAC1BG,UAAW,SAAClM,GAAD,OAAQ1B,EAAS4N,EAAUlM,KACtCoR,YAAa,SAACC,GAAD,OAAa/S,EAAS,CAACC,KAAM,gBAAiBY,QAASkS,KACpEhE,QAAS,SAACzM,GAAD,OAAWtC,EAAS+O,EAAQzM,KACrCuE,aAAc,kBAAM7G,EAAS,CAACC,KAAM,mBACpC4H,YAAa,kBAAM7H,EAAS,CAACC,KAAM,kBACnC6N,UAAW,SAACpM,GAAD,OAAQ1B,EAAS8N,EAAUpM,KACtCqM,UAAW,SAAC8D,GAAD,OAAY7R,EAAS+N,EAAU8D,OAI/BxP,CAA6CiR,ICtHtDG,oLAIF,OACE9R,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UAEbH,EAAAC,EAAAC,cAAA,KAAGyP,KAAK,0BAA0BxP,UAAU,eAC1CH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SAAf,kBACAH,EAAAC,EAAAC,cAAA,mBAEFF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,UAAhB,sFAA4GH,EAAAC,EAAAC,cAAA,WAA5G,6GAXaM,IAAMC,WAwBZC,eAAQ,KAPI,SAAArC,GACzB,MAAO,CACLuI,UAAW,SAACO,GAAD,OAAY9I,EAAS,CAAEC,KAAM,cAAeY,QAAS,CAACiI,MACjEhJ,mBAAoB,SAAAyC,GAAI,OAAIvC,EAASF,EAAmByC,OAI7CF,CAAkCoR,ICnB3CC,8MAEJC,UAAY,SAAAC,GAAU,IACbC,EAA4BD,EAA5BC,YAAarJ,EAAeoJ,EAAfpJ,YACpB,GAAKqJ,EAAL,CAIA,IAAM1Q,EAAahC,EAAKpB,MAAMmI,YAAYd,KAAK,SAAAC,GAAC,OAAIA,EAAEyB,OAAOpH,KAAO8I,IAC9DjJ,EAAasS,EAAYhI,YAGzBiI,EAFkB3S,EAAKpB,MAAMmI,YAAYqD,OAAO,SAAAlE,GAAC,OAAIA,EAAEyB,OAAO0C,cAAgBjK,IAC7C2I,KAAK,SAAC7C,EAAG8C,GAAJ,OAAU9C,EAAEyB,OAAO2B,MAAQN,EAAErB,OAAO2B,QAC9CvF,IAAI,SAAAmC,GAAC,OAAIA,EAAEyB,OAAOpH,KACpD,GAAIyB,EAAW2F,OAAO0C,cAAgBjK,EAAW,CAC/C,IAAMkJ,EAAQqJ,EAAWC,QAAQ5Q,EAAW2F,OAAOpH,IACnDoS,EAAWE,OAAOvJ,EAAO,GAE3BqJ,EAAWE,OAAOH,EAAYpJ,MAAO,EAAGtH,EAAW2F,OAAOpH,IAC1DoS,EAAWlI,QAAQ,SAAClK,EAAIuS,GACtB9S,EAAKpB,MAAMyJ,WAAW,CAACV,OAAQ,CAACpH,GAAIA,EAAI+I,MAAOwJ,EAAGzI,YAAajK,iFAKjE,OACEI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAEqS,GAAF,MACAvS,EAAAC,EAAAC,cAAC0I,EAAA,EAAD,CAAiBoJ,UAAW3R,KAAK2R,WAC/BhS,EAAAC,EAAAC,cAAEsS,EAAF,OAEFxS,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACb2C,MAAO,CAACC,QAAS1C,KAAKjC,MAAM6P,QAAU,QAAU,UAElDjO,EAAAC,EAAAC,cAAA,OAAMC,UAAU,gBACdH,EAAAC,EAAAC,cAAEuS,EAAF,OAEFzS,EAAAC,EAAAC,cAAEwS,GAAF,cApCUlS,IAAMC,WAwDTC,eAbS,SAAAC,GACtB,OAAOA,GAGkB,SAAAtC,GACzB,MAAM,CACJsU,WAAY,SAACC,EAAYC,EAAUjT,GAAvB,OAAsCvB,EAAS,CAAEC,KAAM,cAAeY,QAAS,CAAC0T,WAAYA,EAAYC,SAAUA,EAAUjT,WAAYA,MACpJkT,YAAa,SAAAF,GAAU,OAAIvU,EAAS,CAAEC,KAAM,eAAgBY,QAAS0T,KACrEG,eAAgB,SAACF,EAAUjT,GAAX,OAA0BvB,EAAS,CAAEC,KAAM,kBAAmBY,QAAS,CAAC2T,SAAUA,EAAUjT,WAAYA,MACxHiI,WAAY,SAAA2B,GAAI,OAAInL,EAAS,CAAEC,KAAM,cAAeY,QAASsK,OAIlD9I,CAA6CqR,ICrDxCiB,QACW,cAA7BtF,OAAOuF,SAASC,UAEe,UAA7BxF,OAAOuF,SAASC,UAEhBxF,OAAOuF,SAASC,SAASC,MACvB,gFClBAC,GAAe,CACnB9R,WAAY,CACV,CAACN,KAAM,YAAa+M,WAAY,EAAGhO,GAAI,GACvC,CAACiB,KAAM,QAAS+M,WAAY,EAAGhO,GAAI,GACnC,CAACiB,KAAM,SAAU+M,WAAY,EAAGhO,GAAI,IAEtCD,IAAK,GACLuQ,KAAM,GACN9J,YAAa,GACb+D,KAAM,GACNmC,MAAO,GACPnB,KAAM,GACN1I,MAAO,GACPqL,SAAS,EACTlH,QAAS,IAiMIsM,GA7LC,WAAkC,IAAjC1S,EAAiCmF,UAAAf,OAAA,QAAAgB,IAAAD,UAAA,GAAAA,UAAA,GAAzBsN,GAAcE,EAAWxN,UAAAf,OAAA,EAAAe,UAAA,QAAAC,EAChD,OAAQuN,EAAOhV,MACb,IAAK,aAEH,OAAO2D,OAAAS,EAAA,EAAAT,CAAA,GAAItB,EAAX,CAAkB4F,YAAW,GAAArI,OAAA+D,OAAAsR,GAAA,EAAAtR,CAAMtB,EAAM4F,aAAZ,CAAyB,CACpDY,OAAOlF,OAAAS,EAAA,EAAAT,CAAA,GAAKqR,EAAOpU,QAAQiI,OAArB,CAA6BpH,GAAIuT,EAAOpU,QAAQiI,OAAOpH,IAAMwF,KAAKiO,QACxE7T,KAAM2T,EAAOpU,QAAQS,KACrB2H,SAAUgM,EAAOpU,QAAQoI,cAG7B,IAAK,cAEH,OAAOrF,OAAAS,EAAA,EAAAT,CAAA,GAAItB,EAAX,CAAkB4F,YAAW,GAAArI,OAAA+D,OAAAsR,GAAA,EAAAtR,CAAMtB,EAAM4F,aAAZtE,OAAAsR,GAAA,EAAAtR,CAA4BqR,EAAOpU,YAElE,IAAK,gBACH,IAAMuU,EAAgB9S,EAAM4F,YAAYd,KAAK,SAAAC,GAAC,OAAIA,EAAEyB,OAAOpH,KAAOuT,EAAOpU,UACzE,OAAO+C,OAAAS,EAAA,EAAAT,CAAA,GAAItB,EAAX,CACE4F,YAAa5F,EAAM4F,YAAYqD,OAAO,SAAAlE,GAAC,OAAIA,EAAEyB,OAAOpH,KAAOuT,EAAOpU,UAClE6H,QAAO,GAAA7I,OAAA+D,OAAAsR,GAAA,EAAAtR,CACFtB,EAAMoG,QAAQ6C,OAAO,SAAAlE,GAAC,OAAIA,EAAE3F,KAAO0T,EAAc9T,KAAKI,MADpD,CAEL0T,EAAc9T,SAIpB,IAAK,cAEH,OAAOsC,OAAAS,EAAA,EAAAT,CAAA,GACFtB,EADL,CAEEW,WAAYgS,EAAOpU,QAAQoM,KAAKhK,WAChCiF,YAAa+M,EAAOpU,QAAQoM,KAAKoI,aACjC5T,IAAKwT,EAAOpU,QAAQoM,KAAKxL,IACzBuQ,KAAMiD,EAAOpU,QAAQoM,KAAK+E,KAC1B/F,KAAMgJ,EAAOpU,QAAQoM,KAAKhB,KAC1BmC,MAAO6G,EAAOpU,QAAQoM,KAAKmB,MAC3BnB,KAAM,CACJkC,MAAO8F,EAAOpU,QAAQoM,KAAKkC,MAC3BzN,GAAIuT,EAAOpU,QAAQoM,KAAKvL,GACxBqP,SAAUkE,EAAOpU,QAAQoM,KAAK8D,YAIpC,IAAK,YACH,OAAOnN,OAAAS,EAAA,EAAAT,CAAA,GACFtB,EADL,CAEE2J,KAAKrI,OAAAS,EAAA,EAAAT,CAAA,GACAtB,EAAM2J,KACNgJ,EAAOpU,SAEZuN,MAAK,GAAAvO,OAAA+D,OAAAsR,GAAA,EAAAtR,CACAtB,EAAM8L,MAAM7C,OAAO,SAAAlE,GAAC,OAAIA,EAAE3F,KAAOY,EAAM2J,KAAKvK,MAD5C,CAAAkC,OAAAS,EAAA,EAAAT,CAAA,GAGEtB,EAAM2J,KACNgJ,EAAOpU,aAKlB,IAAK,cACH,IAAMa,EAAKuT,EAAOpU,QACZoL,EAAO3J,EAAM8L,MAAMhH,KAAK,SAAAC,GAAC,OAAIA,EAAE3F,KAAOmI,SAASnI,KACrD,OAAOkC,OAAAS,EAAA,EAAAT,CAAA,GACFtB,EADL,CAEE2J,KAAMA,IAGV,IAAK,WAEH,OAAOrI,OAAAS,EAAA,EAAAT,CAAA,GACFtB,EADL,CAEE4F,YAAa,GACb+D,KAAM,GACNmC,MAAO,GACPnB,KAAM,KAGV,IAAK,cAAe,IAAAqI,EAAA,WAGlB,IAFA,IAAMC,EAAa,GACbhB,EAAaU,EAAOpU,QAAQ0T,WAFhBiB,EAAA,SAGTvB,GACP,IAAM9Q,EAAab,EAAM4F,YAAYd,KAAK,SAAAC,GAAC,OAAIA,EAAEyB,OAAOpH,KAAOmI,SAAS0K,EAAWN,MAGnFsB,EAAWE,KAAX7R,OAAAS,EAAA,EAAAT,CAAA,GAAoBT,EAApB,CAAgC2F,OAAOlF,OAAAS,EAAA,EAAAT,CAAA,GAAKT,EAAW2F,OAAjB,CAAyB2B,MAAOwJ,QAJ/DA,EAAI,EAAGA,EAAIM,EAAW7N,OAAQuN,IAAMuB,EAApCvB,GAST,OAHmBsB,EAAWnO,KAAK,SAAAC,GAAC,OAAIA,EAAEyB,OAAOpH,KAAOuT,EAAOpU,QAAQ2T,WAC5D1L,OAAO0C,YAAcyJ,EAAOpU,QAAQU,WAE/C,CAAAmU,EAAA9R,OAAAS,EAAA,EAAAT,CAAA,GACKtB,EADL,CAEE4F,YAAaqN,KAdG,wBAAAD,EAAA,OAAAA,EAAAI,EAiBpB,IAAK,UACH,OAAO9R,OAAAS,EAAA,EAAAT,CAAA,GACFtB,EADL,CAEE4F,YAAa,GACbzG,IAAKwT,EAAOpU,QACZmR,KAAI,GAAAnS,OAAA+D,OAAAsR,GAAA,EAAAtR,CAAMtB,EAAM0P,MAAZ,CAAApO,OAAAS,EAAA,EAAAT,CAAA,GAAsBqR,EAAOpU,QAA7B,CAAsC2N,QAASyG,EAAOpU,QAAQoL,KAAKvK,OACvEuK,KAAMgJ,EAAOpU,QAAQoL,OAGzB,IAAK,aAEH,OAAOrI,OAAAS,EAAA,EAAAT,CAAA,GACFtB,EADL,CAEE4F,YAAa+M,EAAOpU,QAAQwU,aAC5B5T,IAAK,CACHiM,KAAMuH,EAAOpU,QAAQ6M,KACrBhM,GAAIuT,EAAOpU,QAAQa,GACnBiB,KAAMsS,EAAOpU,QAAQ8B,MAEvBsJ,KAAMgJ,EAAOpU,QAAQoL,OAGzB,IAAK,WAEH,OAAOrI,OAAAS,EAAA,EAAAT,CAAA,GACFtB,EADL,CAEE4F,YAAW,GAAArI,OAAA+D,OAAAsR,GAAA,EAAAtR,CAAMtB,EAAM4F,aAAZ,CAAyB+M,EAAOpU,YAG/C,IAAK,cACH,IAAMsC,EAAab,EAAM4F,YAAYd,KAAK,SAAAC,GAAC,OAAIA,EAAEyB,OAAOpH,KAAOuT,EAAOpU,QAAQiI,OAAOpH,KACrF,OAAOkC,OAAAS,EAAA,EAAAT,CAAA,GACFtB,EADL,CAEE4F,YAAW,GAAArI,OAAA+D,OAAAsR,GAAA,EAAAtR,CACNtB,EAAM4F,YAAYqD,OAAO,SAAAlE,GAAC,OAAIwC,SAASxC,EAAEyB,OAAOpH,MAAQmI,SAAS1G,EAAW2F,OAAOpH,OAD7E,CAAAkC,OAAAS,EAAA,EAAAT,CAAA,GAGJT,EAHI,CAIP2F,OAAOlF,OAAAS,EAAA,EAAAT,CAAA,GAAKT,EAAW2F,OAAWmM,EAAOpU,QAAQiI,cAKzD,IAAK,WACH,OAAOlF,OAAAS,EAAA,EAAAT,CAAA,GACFtB,EADL,CAEEb,IAAImC,OAAAS,EAAA,EAAAT,CAAA,GACCtB,EAAMb,IACNwT,EAAOpU,SAEZmR,KAAI,GAAAnS,OAAA+D,OAAAsR,GAAA,EAAAtR,CACCtB,EAAM0P,KAAKzG,OAAO,SAAAlE,GAAC,OAAIA,EAAE3F,KAAOY,EAAMb,IAAIC,MAD3C,CAAAkC,OAAAS,EAAA,EAAAT,CAAA,GAEAtB,EAAMb,IACLwT,EAAOpU,aAKhB,IAAK,WACH,OAAO+C,OAAAS,EAAA,EAAAT,CAAA,GACFtB,EADL,CAEE2J,KAAMgJ,EAAOpU,QACbuN,MAAK,GAAAvO,OAAA+D,OAAAsR,GAAA,EAAAtR,CACAtB,EAAM8L,OADN,CAEH6G,EAAOpU,YAIb,IAAK,gBACH,OAAO+C,OAAAS,EAAA,EAAAT,CAAA,GACFtB,EADL,CAEEsN,SAAS,IAGb,IAAK,eACH,OAAOhM,OAAAS,EAAA,EAAAT,CAAA,GACFtB,EADL,CAEEsN,SAAS,IAGb,IAAK,aACH,OAAOhM,OAAAS,EAAA,EAAAT,CAAA,GACFtB,EADL,CAEE0P,KAAM1P,EAAM0P,KAAKzG,OAAO,SAAAlE,GAAC,OAAIA,EAAE3F,KAAOmI,SAASoL,EAAOpU,aAG1D,IAAK,cACH,OAAO+C,OAAAS,EAAA,EAAAT,CAAA,GACFtB,EADL,CAEE8L,MAAO9L,EAAM8L,MAAM7C,OAAO,SAAAlE,GAAC,OAAIA,EAAE3F,KAAOmI,SAASoL,EAAOpU,aAG5D,QACE,OAAOyB,aC9LPqT,GAAQC,aACZZ,GAASa,aAAgBC,OAI3BC,IAASC,OACPrU,EAAAC,EAAAC,cAACoU,EAAA,EAAD,CAAUN,MAAOA,IACfhU,EAAAC,EAAAC,cAACqU,GAAD,OAEFpV,SAASqV,eAAe,SF4GpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAM7V,KAAK,SAAA8V,GACjCA,EAAaC","file":"static/js/main.a797c012.chunk.js","sourcesContent":["// export const URL = 'https://ham-backend.herokuapp.com/'\nexport const URL = 'http://localhost:3001/'\n\nexport const HEADERS = () => ({\n  'Content-Type':'application/json',\n  Accept: 'application/json',\n  Authorization: localStorage.getItem('token') ? `BEARER ${localStorage.getItem('token')}` : null\n  // Authorization: // upcase or title?\n})","import {URL, HEADERS} from '../constants'\n\nexport const selectSearchResult = (props) => {\n  return (dispatch) => {\n    dispatch({type: 'START_LOADING'})\n    unfocusSearch()\n    return fetch(`${URL}search/make_choice`, {\n      method: 'POST',\n      headers: HEADERS(),\n      body: JSON.stringify(props)\n    })\n    .then(r => r.json())\n    .then(choiceAndFood => {\n      // debugger\n      dispatch({type: 'STOP_LOADING'})\n      dispatch({ type: 'ADD_CHOICE', payload: choiceAndFood})\n    })\n  }\n}\n\nfunction unfocusSearch(){\n  document.querySelector('.table').focus()\n}\n\nexport const selectInternalSearchResult = (idAndCategory) => {\n  // debugger\n  unfocusSearch()\n  return (dispatch) => {\n    dispatch({type: 'START_LOADING'})\n    return fetch(`${URL}/choices`, {method: 'POST', headers: HEADERS(), body: JSON.stringify(idAndCategory)})\n    .then(r => r.json())\n    .then(choiceFood  => {\n      // debugger\n      dispatch({type: 'STOP_LOADING'})\n      dispatch({ type: 'ADD_CHOICE', payload: choiceFood})\n    })\n  }\n}\n\nexport const internalSearch = (searchTerm) => {\n  return dispatch => {\n    return fetch(`${URL}search/internal_search?q=${searchTerm}`, {headers: HEADERS()})\n  }\n}\n\nexport const favoriteSearch = (searchTerm) => {\n  return dispatch => {\n    return fetch(`${URL}search/favorite_search?q=${searchTerm}`, {headers: HEADERS()})\n  }\n}\n\nexport const externalSearch = (searchTerm, pageNumber = 1) => {\n  return dispatch => {\n    return fetch(`${URL}search/many?q=${searchTerm}&pageNumber=${pageNumber}`, {headers: HEADERS()})\n  }\n}","import React from 'react'\nimport {connect} from 'react-redux'\nimport {selectSearchResult} from '../actions/searchActions'\n\nclass SearchResultCard extends React.Component {\n\n  handleAddChoice = () => {\n    this.props.clearForm()\n    this.props.selectSearchResult({fdcId: this.props.food.fdcId, categoryId: this.props.categoryId, dayId: this.props.day.id})\n  }\n\n  render(){\n    return(\n      <li className='searchResult' onClick={this.handleAddChoice}>\n        <span className='resultName'>{this.props.food.description}</span>\n        {this.props.food.brandOwner ? <span className='brandName'> - {this.props.food.brandOwner}</span> : null}\n      </li>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    day: state.day\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    selectSearchResult: prop => dispatch(selectSearchResult(prop))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchResultCard)","import React from 'react'\nimport {connect} from 'react-redux'\nimport {selectInternalSearchResult} from '../actions/searchActions'\n\nclass InternalSearchResultCard extends React.Component {\n\n  handleAddChoice = () => {\n    this.props.clearForm()\n    this.props.selectInternalSearchResult({foodId: this.props.food.id, categoryId: this.props.categoryId, dayId: this.props.day.id})\n  }\n\n  render(){\n    // console.log(this.props)\n    return(\n      <li className='searchResult' onClick={this.handleAddChoice}>\n        <span className='resultName'>{this.props.food.name}</span>\n        {this.props.food.brand ? <span className='brandName'> - {this.props.food.brand}</span> : null}\n        <ul className='resultMacros'>\n          <li>fat: {this.props.food.fat.toFixed()}</li>\n          <li>carbs: {this.props.food.carbs.toFixed()}</li>\n          <li>protein: {this.props.food.protein.toFixed()}</li>\n        </ul>\n      </li>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    day: state.day,\n    categories: state.categories\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    selectInternalSearchResult: idAndCategory => dispatch(selectInternalSearchResult(idAndCategory))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(InternalSearchResultCard)","import React from 'react'\nimport {createFood} from '../actions/foodsActions'\nimport {connect} from 'react-redux'\n\nclass MakeFoodCard extends React.Component {\n\n  state = {\n    name: null,\n    brand: null,\n    serving_unit_amount: null,\n    serving_unit_name: null,\n    serving_grams: null,\n    calories: null,\n    serving_unit_name: null,\n    fat: null,\n    carbs: null,\n    protein: null,\n    cholesterol: null,\n    dietary_fiber: null,\n    potassium: null,\n    saturated_fat: null,\n    sodium: null,\n    sugars: null,\n    unit_size: null,\n    upc: null,\n    error: null\n  }\n\n  handleChange = (e) => {\n    // console.log(e.target.name, e.target.value)\n    this.setState({[e.target.name]: e.target.value})\n  }\n\n  handleSubmit = e => {\n    e.preventDefault()\n    const s = this.state\n    if (s.name && s.serving_unit_amount && s.serving_unit_name && s.serving_grams && s.calories && s.fat && s.carbs && s.protein) {\n      this.props.createFood({...this.state, categoryId: this.props.categoryId})\n      this.props.toggleNewFoodForm()\n      this.setState({\n        name: '',\n        brand: '',\n        serving_unit_amount: '',\n        serving_unit_name: '',\n        serving_grams: '',\n        calories: '',\n        serving_unit_name: '',\n        fat: '',\n        carbs: '',\n        protein: '',\n        cholesterol: '',\n        dietary_fiber: '',\n        potassium: '',\n        saturated_fat: '',\n        sodium: '',\n        sugars: '',\n        unit_size: '',\n        upc: ''\n      })\n    }else{\n      this.setState({error: 'Please fill required fields'})\n    }\n  }\n\n  render(){\n    return(\n      <div className='createFoodContainer' style={{display: this.props.showNewFoodForm ? 'block' : 'none'}}>\n      <button className='closeButton' onClick={this.props.toggleNewFoodForm}>Close</button>\n      <form onSubmit={this.handleSubmit} className='foodForm'>\n        {this.state.error ? <p className='errorMessage'>{this.state.error}</p> : null }\n        <ul className='newFoodGrid'>\n          <li>\n          <label>Food name</label>\n          <input type='text' value={this.state.name} onChange={this.handleChange} name='name' placeholder='Food name' />\n          </li>\n          <li>\n          <label>Brand (optional)</label>\n          <input type='text' value={this.state.brand} onChange={this.handleChange} name='brand' placeholder='food brand (optional)' />\n          </li>\n          <li>\n          <label>Serving Amount</label>\n          <input type='number' step=\"any\" min='0.1' value={this.state.serving_unit_amount} onChange={this.handleChange} name='serving_unit_amount' placeholder='serving amount' />\n          </li>\n          <li>\n            <label>Serving Unit</label>\n            <input type=\"text\" list=\"units\" name='serving_unit_name' value={this.state.serving_unit_name} onChange={this.handleChange} placeholder=\"unit\"/>\n            <datalist id='units'>\n              {['unit','tbsp','tsp','cup','package','piece', 'small', 'medium', 'large'].map(measure => {\n                return <option value={measure} key={measure} name='measure' >{measure} </option>}\n              )}\n            </datalist>\n          </li>\n          <li>\n            <label>Serving in Grams</label>\n            <input type='number' step=\"any\" min='0.1' value={this.state.serving_grams} onChange={this.handleChange} name='serving_grams' placeholder='grams/serving' />\n          </li>\n          {/* <li></li> */}\n          <li>\n            <label>Calories</label>\n            <input type='number' step=\"any\" min='0' value={this.state.calories} onChange={this.handleChange} name='calories' placeholder='Calories' />\n          </li>\n          <li>\n            <label>Fat</label>\n            <input type='number' step=\"any\" min='0' value={this.state.fat} onChange={this.handleChange} name='fat' placeholder='fat' />\n          </li>\n          <li>\n            <label>Carbs</label>\n            <input type='number' step=\"any\" min='0' value={this.state.carbs} onChange={this.handleChange} name='carbs' placeholder='carbs' />\n          </li>\n          <li>\n            <label>Protein</label>\n            <input type='number' step=\"any\" min='0' value={this.state.protein} onChange={this.handleChange} name='protein' placeholder='protein' />\n          </li>\n          <li>\n            <input type='submit' />\n          </li>\n        </ul>\n        <a onClick={() => this.setState({moreInfoForm: !this.state.moreInfoForm})} className='showMore'>\n          {this.state.moreInfoForm ? '⬆ Show Less Info (Optional) ⬆' : '⬇ Add More Info (Optional) ⬇'}\n        </a>\n        <ul className='newFoodGrid' style={{display: this.state.moreInfoForm ? 'grid' : 'none'}}>\n          <li>\n            <label>Saturated Fat</label>\n            <input type='number' step=\"any\" min='0' value={this.state.saturated_fat} onChange={this.handleChange} name='saturated_fat' placeholder='saturated fat' />\n          </li>\n          <li>\n            <label>Sugars</label>\n            <input type='number' step=\"any\" min='0' value={this.state.sugars} onChange={this.handleChange} name='sugars' placeholder='sugars' />\n          </li>\n          <li>\n            <label>Dietary Fiber</label>\n            <input type='number' step=\"any\" min='0' value={this.state.dietary_fiber} onChange={this.handleChange} name='dietary_fiber' placeholder='dietary fiber' />\n          </li>\n          <li>\n            <label>Sodium</label>\n            <input type='number' step=\"any\" min='0' value={this.state.sodium} onChange={this.handleChange} name='sodium' placeholder='sodium' />\n          </li>\n          <li>\n            <label>Cholesterol</label>\n            <input type='number' step=\"any\" min='0' value={this.state.cholesterol} onChange={this.handleChange} name='cholesterol' placeholder='cholesterol' />\n          </li>\n          <li>\n            <label>Potassium</label>\n            <input type='number' step=\"any\" min='0' value={this.state.potassium} onChange={this.handleChange} name='potassium' placeholder='potassium' />\n          </li>\n          <li>\n            <label>Unit Size</label>\n            <input type='number' step=\"any\" min='0' value={this.state.unit_size} onChange={this.handleChange} name='unit_size' placeholder='unit size' />\n          </li>\n          <li>\n            <label>Bar Code / UPC</label>\n            <input type='number' step=\"any\" min='0' value={this.state.upc} onChange={this.handleChange} name='upc' placeholder='UPC code' />\n          </li>\n          <li></li>\n          <li>\n            <input type='submit' />\n          </li>\n        </ul>\n      </form>\n      </div>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    createFood: (food) => dispatch(createFood(food))\n  }\n}\n\n\nexport default connect(null, mapDispatchToProps)(MakeFoodCard)","import {URL, HEADERS} from '../constants'\n\nexport const createFood = (food) => {\n  return (dispatch) => {\n    dispatch({type: 'START_LOADING'})\n    return fetch(`${URL}/foods`, {\n      method: 'POST',\n      headers: HEADERS(),\n      body: JSON.stringify(food)\n    })\n    .then(r => r.json())\n    .then(choiceFood => {\n      dispatch({type: 'STOP_LOADING'})\n      dispatch({type: 'ADD_FOOD', payload: choiceFood})\n    })\n  }\n}\n\nexport const foodsIndex = (searchTerm) => {\n  return dispatch => {\n    return fetch(`${URL}/foods?q=${searchTerm}`, {headers: HEADERS()})\n  }\n}","import React from 'react'\nimport SearchResultCard from '../components/SearchResultCard'\nimport InternalSearchResultCard from '../components/InternalSearchResultCard'\nimport {URL, HEADERS} from '../constants.js'\nimport MakeFoodCard from '../components/MakeFoodCard'\nimport {connect} from 'react-redux'\nimport {internalSearch, externalSearch, favoriteSearch} from '../actions/searchActions'\nimport {foodsIndex} from '../actions/foodsActions'\n\nclass SearchContainer extends React.Component {\n\n  state = {\n    text: '',\n    favorites: [],\n    filteredFavorites: [],\n    common: [],\n    internal: [],\n    error: false,\n    addFood: false,\n    showResults: false,\n    currentPage: 0,\n    totalPages: 0\n  }\n\n  componentDidMount = () => {\n    this.props.foodsIndex('')\n    .then(r => r.json())\n    .then(r => {\n      // debugger\n      this.setState({favorites: r.favorites})\n    })\n  }\n\n  foodsIndex = (text) => {\n    this.props.foodsIndex(text)\n    .then(r => r.json())\n    .then(r => {\n      // console.log(r)\n      this.setState({filteredFavorites: r.favorites})\n    })\n  }\n\n  handleChange = e => {\n    this.setState({text: e.target.value})\n    // this.favoriteSearch(e.target.value)\n    if(e.target.value.length === 0) {\n      this.foodsIndex('')\n      this.clearResults()\n    }\n  }\n\n  internalSearch = (text) => {\n    this.props.internalSearch(text)\n    .then(r => r.json())\n    .then(r => {\n      if (r.internal.length > 0){\n        // debugger\n        this.setState({\n          internal: r.internal,\n          // common: [{description: 'More results are loading'}]\n        })\n      }else{\n        this.setState({\n          internal: []\n        })\n      }\n    })\n  }\n\n  handleSubmit = e => {\n    e.preventDefault()\n    if (this.state.text){\n      // console.log('submit')\n      this.setState({common: []})\n      this.props.startLoading()\n      this.foodsIndex(this.state.text)\n      this.externalSearch(this.state.text, 1)\n    }\n  }\n\n  externalSearch(searchPhrase, pageNumber = 1){\n    this.props.externalSearch(searchPhrase, pageNumber)\n    .then(r => r.json())\n    .then(r => {\n      console.log(r)\n      this.props.stopLoading()\n      if (r.common && r.common.length > 0){\n        this.setState({common: this.state.common.concat(r.common), currentPage: r.current_page, totalPages: r.total_pages})\n      }\n      else{\n        this.setState({error: 'No More Results'})\n      }\n      // if (r.branded.length > 0){\n      //   this.setState({branded: r.branded})\n      // }\n    })\n  }\n\n  clearResults = () => {\n    this.setState({\n      filteredFavorites: [],\n      branded: [],\n      common: [],\n      internal: [],\n      text: '',\n      error: false,\n      showResults: false,\n      currentPage: 0,\n      totalPages: 0\n    })\n    // this.foodsIndex('')\n  }\n\n  categoryByTime = () => {\n    const hour = new Date().getHours()\n    if (hour < 9){return this.props.categories.find(x => x.name == 'Breakfast').id}\n    else if (hour < 16){return this.props.categories.find(x => x.name == 'Lunch').id}\n    else{return this.props.categories.find(x => x.name == 'Dinner').id}\n  }\n\n  showResults = () => {\n    this.setState({showResults: true})\n  }\n\n  hideResults = () => {\n    this.setState({showResults: false})\n  }\n\n  render(){\n    return(\n      <>\n      <div className='arrow' style={{display: this.props.choiceFoods.length > 0 ? 'none' : 'block'}}>\n        <span className='rectangle'>Start Here</span>\n      </div>\n      <div className='centered row foodSearchContainer' onFocus={this.showResults}>\n        <form onSubmit={this.handleSubmit} className='searchForm'>\n          <input type='search' \n            list='popularSearches'\n            value={this.state.text} \n            onChange={this.handleChange}\n            placeholder='Search for any food...'\n            className='searchText'\n            >\n          </input>\n          {/* <datalist id='popularSearches'>\n            <option>poo</option>\n          </datalist> */}\n          <input type='image' src='search-icon.png' alt='Search' name='submit' className='searchButton searchIcon'></input>\n          {/* <span className='tooltip'><input type='image' src='search-icon.png' alt='Search' name='submit' className='searchButton'></input><span className='tooltiptext'>Search</span></span>\n          <button onClick={() => this.setState({addFood: !this.state.addFood})} className='iconButton' style={{display: this.props.user.email ? 'inline' : 'none'}}>\n            {this.state.addFood ?\n            <>\n            <img src='close-icon.png' alt='close new food form' className='closeButton' />\n            <span className='tooltiptext'>Close Form</span>\n            </>\n            :\n            <>\n            <img src='add-icon-circle.png' alt='open new food form' className='addButton'/>\n            <span className='tooltiptext'>Add Your Own</span>\n            </>\n          }\n          </button> */}\n        </form>\n        {/* < MakeFoodCard addFood={this.state.addFood} categoryId={this.props.categoryId} closeAddFood={() => this.setState({addFood: false})} /> */}\n        <ul className={this.state.showResults ? 'searchResultContainer' : 'searchResultContainerHidden'} >\n          {/* {this.state.common.length > 0 || this.state.branded.length > 0 || this.state.internal.length > 0 || this.state.error ? \n          <button onClick={this.clearResults} className='closeButton'><span className='tooltiptext'>Close</span><img src='close-icon.png' alt='close search results' className='closeButton' /></button> \n          : null} */}\n          <h5>Favorites</h5>\n          {this.state[this.state.filteredFavorites.length > 0 ? 'filteredFavorites' : 'favorites'].map(food => (\n            < InternalSearchResultCard \n            categoryId={this.categoryByTime()}\n            key={food.id} \n            food={food} \n            addChoice={this.props.addChoice}\n            clearForm={this.clearResults}\n            />)\n          )}\n          <h5>More Results</h5>\n          {this.state.internal.map(food => (\n            < InternalSearchResultCard \n            categoryId={this.categoryByTime()}\n            key={food.food_name} \n            food={food} \n            addChoice={this.props.addChoice}\n            clearForm={this.clearResults}\n            />)\n          )}\n          {this.state.common.map(food => (\n            < SearchResultCard \n            categoryId={this.categoryByTime()}\n            key={food.fdcId} \n            food={food} \n            addChoice={this.props.addChoice}\n            clearForm={this.clearResults}\n            />)\n          )}\n\n          {this.state.currentPage < this.state.totalPages\n          ?\n          <li \n          className='searchResult loadMore'\n          onClick={()=>this.externalSearch(this.state.text, this.state.currentPage + 1)}\n          >\n            Load More - Showing {(this.state.currentPage/this.state.totalPages*100).toFixed()}% of results\n          </li>\n          :\n          null\n          }\n\n          {this.props.removed.length > 0 \n            ? \n            <>\n            <h5>Recently Deleted</h5>\n            {this.props.removed.map(food => (\n              < InternalSearchResultCard \n              categoryId={this.categoryByTime()}\n              key={food.food_name} \n              food={food} \n              addChoice={this.props.addChoice}\n              clearForm={this.clearResults}\n              />)\n            )}\n            </>\n            : null\n          }\n          {this.state.error ? <li>{this.state.error}</li> : null}\n          {/* {this.state.error ? <li>No Results</li> : null} */}\n        </ul>\n      </div>\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return state\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    startLoading: () => dispatch({type: 'START_LOADING'}),\n    stopLoading: () => dispatch({type: 'STOP_LOADING'}),\n    internalSearch: (searchTerm) => dispatch(internalSearch(searchTerm)),\n    // favoriteSearch: (searchTerm) => dispatch(favoriteSearch(searchTerm)),\n    externalSearch: (searchTerm, pageNumber = 1) => dispatch(externalSearch(searchTerm, pageNumber)),\n    foodsIndex: (searchTerm) => dispatch(foodsIndex(searchTerm))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchContainer)","import React from 'react'\nimport {URL, HEADERS} from '../constants.js'\nimport {connect} from 'react-redux'\nimport {Draggable} from 'react-beautiful-dnd'\nimport {updateChoice, destroyChoice} from '../actions/choicesActions'\n\nclass ChoiceCard extends React.Component {\n\n  state = {\n    amount: this.props.choiceFood.choice.amount,\n    measure: this.props.choiceFood.choice.measure,\n    className: 'choice grid'\n  }\n\n  componentDidMount(){\n    this.setState({className: 'grid toExpand'})\n    setTimeout(() => {\n      this.setState({className: 'choice grid'})\n    }, 500)\n  }\n  \n  autoUpdateMacro = macro => {\n    const amount = this.props.choiceFood.choice.amount\n    const measure = this.props.choiceFood.measures.find(x => x.id === this.props.choiceFood.choice.measure_id)\n    const totalGrams = amount * measure.grams\n    const servingAmount = this.props.choiceFood.food.serving_grams\n    const measureAmount = measure.amount? measure.amount : 1\n    const servings = (totalGrams / servingAmount) / measureAmount\n\n    return (this.props.choiceFood.food[macro] * servings).toFixed()\n  }\n\n  updateInDB = () => {\n    const id = this.props.choiceFood.choice.id\n    this.props.updateChoice({...this.props.choiceFood.choice})\n  }\n\n  handleAmountChange = (e) => {\n    if (e.target.value >= 0) {\n      const id = this.props.choiceFood.choice.id\n      this.setState({amount: e.target.value})\n      this.props.editChoice({choice: {amount: e.target.value, id: id}})\n    }\n  }\n\n  handleMeasureChange = (e) => {\n    const fromMeasureId = this.props.choiceFood.choice.measure_id\n    const fromMeasure = this.props.choiceFood.measures.find(x => x.id === fromMeasureId)\n    const toMeasureId = parseInt(e.target.value)\n    const toMeasure = this.props.choiceFood.measures.find(x => x.id === toMeasureId)\n    let newAmount = (fromMeasure.grams / toMeasure.grams * this.props.choiceFood.choice.amount) * ((toMeasure.amount || 1) / (fromMeasure.amount || 1))\n    if (!/^gram(s)?$/i.test(toMeasure.name)){newAmount = newAmount.toFixed(2)}\n    else{newAmount = newAmount.toFixed()}\n    // debugger\n    this.props.editChoice({choice: {measure_id: toMeasureId, amount: newAmount, id: this.props.choiceFood.choice.id}})\n    this.updateInDB()\n  }\n\n  generateMeasures = () => {\n    const measures = this.props.choiceFood.measures\n\n    return measures.sort((x,y) => x.name - y.name).map(measure => {\n      return (\n        <option value={measure.id} key={measure.id} >{measure.name}</option>\n      )\n    })\n  }\n\n  deleteChoice = () => {\n    // debugger\n    this.setState({className: 'grid shrunk'})\n    setTimeout(() => {\n      const id = this.props.choiceFood.choice.id\n      this.props.deleteChoice(id)\n      this.props.destroyChoice(id)\n    }, 500)\n  }\n\n  render(){\n    // console.log(this.props.choiceFood.food)\n    return(\n      <Draggable \n        draggableId={this.props.choiceFood.choice.id} \n        index={this.props.index}\n      >\n        {provided => (\n        <ul \n        className={this.state.className}\n        {...provided.draggableProps}\n        {...provided.dragHandleProps}\n        ref={provided.innerRef}\n        id={this.props.choiceFood.choice.id}\n        >\n          <li className='name'>\n            <span className='nameScroll'\n            >\n            {this.props.choiceFood.food.name}{this.props.choiceFood.food.brand ? ` - ${this.props.choiceFood.food.brand}` : null}\n            </span>\n          </li>\n          <li className='amount'>\n              <input type='number'\n              ref={(input) => { this.amountInput = input; }} \n              min='0'\n              name='amount'\n              value={this.props.choiceFood.choice.amount} \n              onChange={this.handleAmountChange} \n              onBlur={this.updateInDB}\n              >\n              </input>\n              </li>\n          <li className='measure'>\n              <select \n              className=''\n              value={this.props.choiceFood.choice.measure_id} \n              onChange={this.handleMeasureChange}\n              name='measure'\n              >\n                {this.generateMeasures()}\n              </select>\n            </li>\n          <li className='macro calories'>{this.autoUpdateMacro('calories')}</li>\n          <li className='macro fat'>{this.autoUpdateMacro('fat')}</li>\n          <li className='macro carbs'>{this.autoUpdateMacro('carbs')}</li>\n          <li className='macro protein'>{this.autoUpdateMacro('protein')}</li>\n          <li className='deleteColumn' ><button onClick={this.deleteChoice} className='deleteChoice deleteButton' alt='delete choice'><img src='trash-icon.png' className='deleteChoice' alt='delete choice'></img></button></li>\n        </ul>\n        \n        )}\n      </Draggable>\n    )\n  }\n}\n\n// const mapStateToProps = state => {\n//   return state\n// }\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    deleteChoice: id => dispatch({ type: 'DELETE_CHOICE', payload: id}),\n    editChoice: info => dispatch({ type: 'EDIT_CHOICE', payload: info}),\n    updateChoice: info => dispatch(updateChoice(info)),\n    destroyChoice: info => dispatch(destroyChoice(info)),\n  }\n}\n\nexport default connect(null, mapDispatchToProps)(ChoiceCard)","import {URL, HEADERS} from '../constants'\n\nexport const updateChoice = (choiceObj) => {\n  return dispatch => {\n    return fetch(`${URL}choices/${choiceObj.id}`, {\n      method: 'PATCH',\n      headers: HEADERS(),\n      body: JSON.stringify({choice: choiceObj})\n    })\n  }\n}\n\nexport const destroyChoice = (id) => {\n  return dispatch => {\n    return fetch(`${URL}/choices/${id}`, {method: 'DELETE'})\n  }\n}","import React from 'react'\nimport {connect} from 'react-redux'\nimport {Droppable} from 'react-beautiful-dnd'\nimport ChoiceCard from '../components/ChoiceCard'\nimport SearchContainer from '../containers/SearchContainer'\n\nclass CategoryCard extends React.Component {\n\n  mySortedChoices = () => {\n    const myChoices = this.props.choiceFoods.filter(choice => choice.choice.category_id === this.props.category.id)\n    return myChoices.sort((x, y) => x.choice.index - y.choice.index)\n  }\n\n  autoSum = (macro) => {\n    let sum = 0\n    this.props.choiceFoods.filter(choiceFood => choiceFood.choice.category_id === this.props.category.id).forEach(choiceFood => {\n      // console.log(choiceFood)\n      // const measurement = ((choiceFood.choice.measure === 'grams') ? choiceFood.food.serving_grams : (choiceFood.food.serving_unit_amount || 1))\n      // sum += parseInt((choiceFood.food[macro] / measurement * choiceFood.choice.amount).toFixed(0))\n      const amount = choiceFood.choice.amount\n      const measure = choiceFood.measures.find(x => x.id === choiceFood.choice.measure_id)\n      const totalGrams = amount * measure.grams\n      const servingAmount = choiceFood.food.serving_grams\n      const measureAmount = measure.amount? measure.amount : 1\n      const servings = (totalGrams / servingAmount) / measureAmount\n      // console.log(sum)\n      sum += parseInt(choiceFood.food[macro] * servings)\n    })\n    return sum.toFixed()\n  }\n\n  render(){\n    // console.log(this.props.choiceFoods)\n    return(\n      <Droppable droppableId={this.props.category.id}>\n      {(provided) => (\n        <div className='category'\n        ref={provided.innerRef}\n        {...provided.droppableProps}\n        >\n          <p className='name categoryName'>{this.props.category.name}</p>\n          {this.mySortedChoices().map((choiceFood, index) => < ChoiceCard //.sort((x, y) => x.id - y.id)\n          // animationEnd={console.log('END!')}\n          choiceFood={choiceFood} \n          key={choiceFood.choice.id} \n          index={index}\n          deleteChoice={this.props.deleteChoice} \n          /> )}\n          {provided.placeholder}\n          <ul\n          className=\"grid categoryGrid\"\n          >\n            <li className='name categoryName' ></li>\n            <li className='subtotals'>Subtotals: </li>\n            <li className='calories macro'>{this.autoSum('calories')}</li>\n            <li className='fat macro'>{this.autoSum('fat')}</li>\n            <li className='carbs macro'>{this.autoSum('carbs')}</li>\n            <li className='protein macro'>{this.autoSum('protein')}</li>\n            <li className='deleteColumn'></li>\n          </ul>\n        </div>\n      )}\n      \n    </Droppable>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {choiceFoods: state.choiceFoods}\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CategoryCard)","import {URL, HEADERS} from '../constants'\n\nexport const updateGoal = (goal) => {\n  return (dispatch) => {\n    dispatch({type: 'START_LOADING'})\n    dispatch({type: 'EDIT_GOAL', payload: goal})\n    return fetch(`${URL}/goals/${goal.id}`, {\n      method: 'PATCH', \n      headers: HEADERS(),\n      body: JSON.stringify({goal})\n    })\n    .then(r => dispatch({type: 'STOP_LOADING'}))\n  }\n}\n\nexport const createGoal = (info) => {\n  return (dispatch) => {\n    dispatch({type: 'START_LOADING'})\n    return fetch(`${URL}/goals`, {\n      method: 'POST', \n      headers: HEADERS(),\n      body: JSON.stringify(info)\n    })\n    .then(r => r.json())\n    .then(goal => {\n      dispatch({type: 'STOP_LOADING'})\n      dispatch({type: 'ADD_GOAL', payload: goal})\n    })\n  }\n}\n\nexport const deleteGoal = id => {\n  return dispatch => {\n    return fetch(`${URL}/goals/${id}`, {method: 'DELETE', headers: HEADERS()})\n    .then(r => dispatch({type: 'DELETE_GOAL', payload: id}))\n  }\n}","import React from 'react'\nimport {connect} from 'react-redux'\nimport {selectSearchResult} from '../actions/searchActions'\nimport {createGoal} from '../actions/goalsActions'\n\nclass AutogenerateGoal extends React.Component {\n\n  state = {\n    showUserInfo: false,\n    feet: null,\n    inches: null,\n    weight: null,\n    bodyFat: null,\n    age: null,\n    gender: 50,\n    activityLevel: 1.2\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault()\n    let bmrCals;\n    if (this.state.bodyFat) {\n      bmrCals = (this.katchMcArdle() + this.mifflin()) / 2\n    }\n    else{\n      bmrCals = this.mifflin()\n    }\n    \n    this.props.createGoal({\n      calories: bmrCals.toFixed(), \n      fat: 1,\n      carbs: 1,\n      protein: 1,\n      name: 'Total Daily Energy Expenditure', \n      user_id: this.props.user.id\n    })\n    this.props.toggleAutogenerate()\n  }\n\n  katchMcArdle = () => { // Katch-Mcardle formula and Harris Benedict Equation\n    const lbmPounds = this.state.weight - (this.state.weight * (this.state.bodyFat / 100))\n    const lbmKilos = lbmPounds / 2.2\n    const bmr = 370 + (21.6 * lbmKilos)\n    const cals = bmr * this.state.activityLevel\n    return cals\n  }\n\n  mifflin = () => {\n    const weightKG = this.state.weight / 2.2\n    const heightCM = (this.state.feet * 12 + parseInt(this.state.inches)) * 2.54\n    const ageCalc = (5 * this.state.age)\n    const genderCalc = (166 * (this.state.gender / 100) - 161)\n    const bmr = 10 * weightKG + 6.25 * heightCM - ageCalc + genderCalc\n    const cals = bmr * this.state.activityLevel\n    return cals\n  }\n\n  handleChange = e => {\n    this.setState({[e.target.name]: e.target.value})\n  }\n\n  activityLevelSelect = () => {\n    const levels = [\n      {name: 'Sedentary - little or no exercise, desk job', multiplier: 1.2}, \n      {name: 'lightly active - light exercise, sports 1-3 days a week', multiplier: 1.375}, \n      {name: 'moderately active - moderate exercise, sports 3-5 days a week', multiplier: 1.55}, \n      {name: 'very active - hard exercise, sports 6-7 days a week', multiplier: 1.725}, \n      {name: 'extremely active - hard daily exercise, sports and physical job, or 2x a day exercise', multiplier: 1.9}]\n    return <select className='activityLevel' name='activityLevel' onChange={this.handleChange}>\n    {levels.map(opt => {\n        return <option name={opt.name} key={opt.name} value={opt.multiplier} >{opt.name}</option>\n      })}\n    </select>\n  }\n\n  render(){\n    return(\n      <div className='autogenerateMacros'>\n        <h2>Generate Macros</h2>\n        <button onClick={this.props.toggleAutogenerate}>close</button>\n        <form onSubmit={this.handleSubmit}>\n          <div><label>Height</label>\n          <span>\n            <input required type='number' min='1' max='7' placeholder='feet' name='feet' className='height' onChange={this.handleChange} ></input>\n            <input required type='number' min='0' max='11' placeholder='inches' name='inches' className='height' onChange={this.handleChange}></input>\n          </span></div>\n          <div><label>Weight (lbs)</label>\n          <input required type='number' min='1' max='1500' className='sensitive' placeholder='pounds' name='weight' onChange={this.handleChange}></input></div>\n          <div><label>Body Fat %</label>\n          <input type='number' min='2' max='90' className='sensitive' placeholder='(optional)' name='bodyFat' onChange={this.handleChange}></input></div>\n          <div><label>Age</label>\n          <input required type='number' min='18' max='130' pattern='[0-9]*' placeholder='age' name='age' onChange={this.handleChange}></input></div>\n          <label className='gender'>Gender</label>\n          <div><span className='gender'>\n            <label>female</label>\n            <input type='range' name='gender' onChange={this.handleChange}></input>\n            <label>male</label>\n          </span></div>\n          <div><label>Activity Level</label>\n          {this.activityLevelSelect()}</div>\n          <input type='submit' value='Generate Macros' />\n        </form>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    user: state.user\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return{\n    createGoal: (props) => dispatch(createGoal(props))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AutogenerateGoal)","import {URL, HEADERS} from '../constants'\n\nexport const createDay = () => {\n  return (dispatch) => {\n    // debugger\n    dispatch({type: 'START_LOADING'})\n    return fetch(`${URL}/days`, {\n      method: 'POST', \n      headers: HEADERS(),\n      body: JSON.stringify({date: (new Date).toLocaleString()})\n    })\n    .then(r => r.json())\n    .then(day => {\n      dispatch({type: 'STOP_LOADING'})\n      dispatch({ type: 'ADD_DAY', payload: day})\n    })\n  }\n}\n\nexport const selectDay = (id) => {\n  return (dispatch) => {\n    dispatch({type: 'START_LOADING'})\n    return fetch(`${URL}/days/${id}`, {headers: HEADERS()})\n    .then(r => r.json())\n    .then(dayAndInfo => {\n      dispatch({type: 'STOP_LOADING'})\n      dispatch({ type: 'SELECT_DAY', payload: dayAndInfo})\n    })\n  }\n}\n\nexport const deleteDay = id => {\n  // debugger\n  return dispatch => {\n    dispatch({type: 'DELETE_DAY', payload: id})\n    return fetch(`${URL}/days/${id}`, {method: 'DELETE', headers: HEADERS()})\n  }\n}\n\nexport const updateDay = day => {\n  return dispatch => {\n    return fetch(`${URL}days/${day.id}`, {\n      method: 'PATCH',\n      headers: HEADERS(),\n      body: JSON.stringify(day)\n    })\n  }\n}\n\nexport const copyDay = id => {\n  return dispatch => {\n    dispatch({type: 'START_LOADING'})\n    return fetch(`${URL}days/copy/${id}`, {headers: HEADERS()})\n    .then(r => r.json())\n    .then(r => {\n      dispatch({type: 'STOP_LOADING'})\n      dispatch({ type: 'ADD_DAY', payload: r})\n      dispatch({ type: 'SELECT_DAY', payload: r})\n    })\n  }\n}","import React from 'react'\nimport {connect} from 'react-redux'\nimport {createGoal, updateGoal, deleteGoal} from '../actions/goalsActions'\nimport AutogenerateGoal from './AutogenerateGoal'\nimport {updateDay} from '../actions/daysActions'\n\nclass GoalsRow extends React.Component {\n\n  state = {\n    showEditGoalForm: false\n  }\n\n  goalsSelector = () => {\n    const sortedGoals = this.props.goals.sort(function(a,b){\n      if (a.name.toLowerCase() > b.name.toLowerCase()){return 1}\n      if (a.name.toLowerCase() < b.name.toLowerCase()){return -1}\n      return 0\n    })\n    return <select value={this.props.goal.id} className='goalsSelect' onChange={this.changeGoal}>\n      {sortedGoals.map(goal => <option value={goal.id} key={goal.id}>{goal.name}</option>)}\n    </select>\n  }\n\n  changeGoal = (e) => {\n    this.props.changeGoal(e.target.value)\n    this.props.updateDay({id: this.props.day.id,goal_id: e.target.value})\n  }\n\n  addGoal = () => {\n    this.props.createGoal({\n      user_id: this.props.user.id,\n      name: 'new goal',\n      calories: 1, fat: 1, carbs: 1, protein: 1\n    })\n    .then(this.editGoal)\n  }\n  editGoal = () => {\n    this.setState({showEditGoalForm: true})\n  }\n  deleteGoal = () => {\n    if(this.props.goals.length > 1){\n      this.props.deleteGoal(this.props.goal.id)\n    }\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.setState({showEditGoalForm: false})\n    this.props.updateGoal(this.props.goal)\n  }\n\n  handleChange = (e) => {\n    // console.log({[e.target.name]: e.target.value})\n    this.props.editGoal({[e.target.name]: e.target.value})\n  }\n\n  toggleAutogenerate = () => {this.setState({showAutogenerateForm: !this.state.showAutogenerateForm})}\n\n  render(){\n    return(\n      <>\n      {\n      this.state.showEditGoalForm\n      ?\n      <form className='grid goals' onSubmit={this.handleSubmit}>\n        <li className='goalsTitle'><div>Goals:</div></li>\n        <li className='goalsSelect'>\n          <div><input type='text' name='name' placeholder='name' defaultValue={this.props.goal.name} value={this.state.name} onChange={this.handleChange} /></div>\n        </li>\n        <li className='macro calories' ><div><input type='number' name='calories' min='0' placeholder='kcal' value={this.props.goal.calories} onChange={this.handleChange} /></div></li>\n        <li className='macro fat' ><div><input type='number' name='fat' min='0' placeholder='grams' value={this.props.goal.fat} onChange={this.handleChange} /></div></li>\n        <li className='macro carbs' ><div><input type='number' name='carbs' min='0' placeholder='grams' value={this.props.goal.carbs} onChange={this.handleChange} /></div></li>\n        <li className='macro protein' ><div><input type='number' name='protein' min='0' placeholder='grams' value={this.props.goal.protein} onChange={this.handleChange} /></div></li>\n        <li className='submitGoal'><input className='submitGoal' type='submit' value='✔'/></li>\n      </form>\n      :\n      <ul className='grid goals'>\n        <li className='goalsTitle'><div>Goals:</div></li>\n        <li className='goalsSelect'><div>{this.goalsSelector()}</div></li>\n        <li className='macro calories' ><div>{this.props.goal.calories}</div></li>\n        <li className='macro fat' ><div>{this.props.goal.fat}</div></li>\n        <li className='macro carbs' ><div>{this.props.goal.carbs}</div></li>\n        <li className='macro protein' ><div>{this.props.goal.protein}</div></li>\n        <span className='dropdownButton'>\n          <span>⋯</span>\n          <ul className='dropdown'>\n            <li onClick={this.addGoal}><button><img src='add-icon-circle.png' className='newGoal addButton' alt='add new goal'></img></button>Add Goal</li>\n            <li onClick={this.editGoal}><button><img src='edit-icon.png' className='editGoal editButton' alt='edit goal' /></button>Edit Goal</li>\n            <li onClick={this.deleteGoal}><button><img src='trash-icon.png' className='deleteChoice deleteButton' alt='delete choice' /></button>Delete Goal</li>\n            <li onClick={this.toggleAutogenerate}><button>♾</button>Autogenerate Goal</li>\n          </ul>\n        </span>\n      </ul>\n      }\n    <div \n      style={{display: this.state.showAutogenerateForm ? 'block' : 'none'}}\n      >\n      < AutogenerateGoal toggleAutogenerate={this.toggleAutogenerate}/>\n    </div>\n    </>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return state\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    changeGoal: (id) => dispatch({ type: 'CHANGE_GOAL', payload: id}),\n    updateGoal: (goal) => dispatch(updateGoal(goal)),\n    createGoal: (userId) => dispatch(createGoal(userId)),\n    deleteGoal: id => dispatch(deleteGoal(id)),\n    editGoal: info => dispatch({ type: 'EDIT_GOAL', payload: info}),\n    updateDay: info => dispatch(updateDay(info))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(GoalsRow)","import {URL, HEADERS} from '../constants'\n\nexport const saveAll = (state) => {\n  return (dispatch) => {\n    dispatch({type: 'START_LOADING'})\n    return fetch(`${URL}/saveall`, {\n      method: 'PATCH',\n      headers: HEADERS(),\n      body: JSON.stringify(state)\n    })\n    .then(r => dispatch({type: 'STOP_LOADING'}))\n  }\n}\n","import React from 'react'\nimport ChoiceCard from '../components/ChoiceCard'\nimport {URL, HEADERS} from '../constants.js'\nimport {connect} from 'react-redux'\nimport {Droppable} from 'react-beautiful-dnd'\nimport CategoryCard from '../components/CategoryCard'\nimport GoalsRow from '../components/GoalsRow'\nimport {updateGoal} from '../actions/goalsActions'\nimport {createGoal} from '../actions/goalsActions'\nimport {saveAll} from '../actions/saveAllAction'\nimport {deleteGoal} from '../actions/goalsActions'\n\nclass ChoiceContainer extends React.Component {\n\n  componentDidMount(){\n    window.addEventListener('beforeunload', e => {\n      this.props.saveAll(this.props)\n    })\n    document.addEventListener('keydown', e => {\n      if (e.metaKey && e.code === 'KeyS') {\n        e.preventDefault()\n        this.props.saveAll(this.props)\n      }\n    })\n  }\n\n  autoSum = (macro) => {\n    let sum = 0\n    this.props.choiceFoods.forEach(choiceFood => {\n      // console.log(choiceFood)\n      // const measurement = ((choiceFood.choice.measure === 'grams') ? choiceFood.food.serving_grams : (choiceFood.food.serving_unit_amount || 1))\n      // sum += parseInt((choiceFood.food[macro] / measurement * choiceFood.choice.amount).toFixed(0))\n      const amount = choiceFood.choice.amount\n      const measure = choiceFood.measures.find(x => x.id === choiceFood.choice.measure_id)\n      const totalGrams = amount * measure.grams\n      const servingAmount = choiceFood.food.serving_grams\n      const measureAmount = measure.amount? measure.amount : 1\n      const servings = (totalGrams / servingAmount) / measureAmount\n      // console.log(sum)\n      sum += parseInt(choiceFood.food[macro] * servings)\n    })\n    return sum.toFixed()\n  }\n\n  keyRow = \n    <ul className='grid key'>\n      <li className='name'><div>Name</div></li>\n      <li className='amount'><div>Amount</div></li>\n      <li className='measure' ><div>Measure</div></li>\n      <li className='macro calories' ><div>Calories</div></li>\n      <li className='macro fat' ><div>Fat</div></li>\n      <li className='macro carbs' ><div>Carbs</div></li>\n      <li className='macro protein' ><div>Protein</div></li>\n      <li className='deleteColumn'></li>\n    </ul>\n  \n  compareForStyle = (macro) =>{\n    // debugger\n    if (!this.props.user.email){return null}\n    if (this.autoSum(macro) < this.props.goal[macro] - 5) {\n      return 'under'\n    }else if(this.autoSum(macro) > this.props.goal[macro] + 5) {\n      return 'over'\n    }else{return 'good'}\n  }\n\n  totalsRow = () => {\n    return  <ul className='grid totalsRow'>\n      <li className='totals'><span>TOTALS:</span></li>\n      <li className={`calories macro`} placeholder='grams'>{this.autoSum('calories')}</li>\n      <li className={`fat macro ${this.compareForStyle('fat')}`}>{this.autoSum('fat')}</li>\n      <li className={`carbs macro ${this.compareForStyle('carbs')}`}>{this.autoSum('carbs')}</li>\n      <li className={`protein macro ${this.compareForStyle('protein')}`}>{this.autoSum('protein')}</li>\n      <li className='deleteColumn'></li>\n    </ul>\n  }\n\n  render(){\n    // console.log(this.props)\n    return(\n      <div className='table'>\n        {localStorage.getItem('token') ? null : \n          <div className='welcome'>\n          <h1>WELCOME TO HAM</h1>\n          <h2>a simple macronutrient tracker</h2>\n          <hr/>\n          </div>\n        }\n        < GoalsRow />\n        {this.totalsRow()}\n        {this.keyRow}\n        {this.props.categories.sort((x, y) => x.created_at - y.created_at).map(category => {\n        return <CategoryCard category={category} key={category.id} />\n        })}\n        {this.keyRow}\n        {this.totalsRow()}\n        <button className='saveButton' onClick={() => this.props.saveAll(this.props)}>Save</button>\n        {this.props.loading? <div className='loading'></div> : null}\n        {/* <div className='loading'></div> */}\n      </div>\n    ) \n  }\n}\n\nconst mapStateToProps = (state) => { // LIMIT TO WHAT THIS COMPONENT IS USING!\n  // console.log('Choice Container state to props', state)\n  return state\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    addChoices: (choices) => dispatch({ type: 'ADD_CHOICES', payload: choices}),\n    selectUser: (user) => dispatch({ type: 'SELECT_USER', payload: user}),\n    editGoal: (info) => dispatch({ type: 'EDIT_GOAL', payload: info}),\n    changeGoal: (id) => dispatch({ type: 'CHANGE_GOAL', payload: id}),\n    updateGoal: (goal) => dispatch(updateGoal(goal)),\n    createGoal: (state) => dispatch(createGoal(state)),\n    saveAll: (state) => dispatch(saveAll(state)),\n    editGoalName: (name) => dispatch({ type: 'EDIT_GOAL_NAME', payload: name}),\n    deleteGoal: id => dispatch(deleteGoal(id))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ChoiceContainer)","import {URL, HEADERS} from '../constants'\n\nexport const auth = (info) => {\n  return (dispatch) => {\n    dispatch({type: 'START_LOADING'})\n    return fetch(`${URL}/auth`, {\n      method: 'POST',\n      headers: HEADERS(),\n      body: JSON.stringify({\n        user: {...info}\n      })\n    })\n  }\n}\n\nexport const reauth = () => {\n  return (dispatch) => {\n    dispatch({type: 'START_LOADING'})\n    return fetch(`${URL}/reauth`, {\n      method: 'POST',\n      headers: HEADERS()\n    })\n    .then(response => {\n      return response.json()\n    })\n    .then(jwtAndUser => {\n      // console.log(jwtAndUser)\n      dispatch({type: 'STOP_LOADING'})\n      if (jwtAndUser.user && jwtAndUser.jwt) {\n        // console.log(jwtAndUser)\n        dispatch({ type: 'SELECT_USER', payload: jwtAndUser})\n      }\n    })\n  }\n}","import React from 'react'\nimport {connect} from 'react-redux'\nimport '../constants.js'\nimport {URL, HEADERS} from '../constants.js'\nimport {auth, reauth} from '../actions/authActions'\n\nclass LoginCard extends React.Component {\n\n  state = {\n    usernameOrEmail: '',\n    password: '',\n    error: ''\n  }\n\n  handleSubmit = e => {\n    e.preventDefault()\n    if (this.state.password) {\n      this.props.startLoading()\n      this.props.auth({username_or_email: this.state.usernameOrEmail, password: this.state.password})\n      .then(response => {\n        return response.json()\n      })\n      .then(response => {\n        // console.log(jwtAndUser)\n        this.props.stopLoading()\n        if (response.user && response.jwt) {\n          localStorage.setItem('token', response.jwt)\n          this.props.selectUser(response)\n        }\n        else {\n          this.setState({error: response.message})\n        }\n      })\n    }\n  }\n\n  handleChange = e => {\n    this.setState({ [e.target.name]: e.target.value})\n  }\n\n  render(){\n    return(\n      <>\n      <form onSubmit={this.handleSubmit}>\n        <input value={this.state.usernameOrEmail} name='usernameOrEmail' id='usernameOrEmail' onChange={this.handleChange} type='text' placeholder='username/email' />\n        <input value={this.state.password} name='password' onChange={this.handleChange} type='password' placeholder='password' />\n        <input value='Log In' type='submit' className='standardButton' />\n        <button onClick={this.props.toggleSignup} className='standardButton'>{this.props.showSignup ? 'Close Sign Up': 'Sign Up'}</button>\n      </form>\n      {this.state.error ? <p className='errorMessage'>{this.state.error}</p> : null }\n      </>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    selectUser: (user) => dispatch({ type: 'SELECT_USER', payload: user}),\n    startLoading: () => dispatch({type: 'START_LOADING'}),\n    stopLoading: () => dispatch({type: 'STOP_LOADING'}),\n    auth: (info) => dispatch(auth(info))\n  }\n}\n\nexport default connect(null, mapDispatchToProps)(LoginCard)","import React from 'react'\nimport {connect} from 'react-redux'\nimport '../constants.js'\nimport {URL, HEADERS} from '../constants.js'\nimport {createUser} from '../actions/usersActions'\n\nclass SignUpCard extends React.Component {\n\n  state = {\n    username: '',\n    email: '',\n    password: '',\n    password2: '',\n    error: ''\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    if (!this.state.password || !this.state.username || !this.state.email) {\n      this.setState({error: 'Username, email, and password required'})\n    }\n    else if (!(/\\w+@\\w+\\.\\w+/).test(this.state.email)) {\n      this.setState({error: 'Email is invalid'})\n    }\n    else if (this.state.password !== this.state.password2){\n      this.setState({error: 'Passwords must match'})\n    }\n    else if (this.state.password.length < 6){\n      this.setState({error: 'Password must be at least 6 characters'})\n    }\n    else{\n      this.props.createUser(this.state)\n    }\n  }\n\n  handleSignupClick = () => {\n    if (this.state.signup){\n      this.signup()\n      this.setState({\n        password: ''\n      })\n    }else{\n      this.setState({signup: true})\n    }\n  }\n\n  handleChange = e => {\n    this.setState({ [e.target.name]: e.target.value})\n  }\n\n  render(){\n    return(\n      <div className='modal' style={{display: `${ this.props.showSignup && !this.props.user.email ? 'block' : 'none'}`}}>\n      <form onSubmit={this.handleSubmit} className='signupForm'>\n        <li>\n        <label>Username</label><br/>\n        <input value={this.state.username} name='username' onChange={this.handleChange} type='text' placeholder='username' />\n        </li>\n        <li>\n          <label>Email</label><br/>\n          <input value={this.state.email} name='email' onChange={this.handleChange} type='email' placeholder='email' />\n        </li>\n        <li>\n          <label>Password</label><br/>\n          <input value={this.state.password} name='password' onChange={this.handleChange} type='password' placeholder='6 characters'/>\n        </li>\n        <li>\n          <label>Password</label><br/>\n          <input value={this.state.password2} name='password2' onChange={this.handleChange} type='password' placeholder='confirm'/>\n        </li>\n        <li>\n          <input value='Sign Up' type='submit'/>\n        </li>\n      </form>\n      {this.state.error ? <p className='errorMessage'>{this.state.error}</p> : null }\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return state\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    selectUser: (user) => dispatch({ type: 'SELECT_USER', payload: user}),\n    createUser: user => dispatch(createUser(user))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignUpCard)","import {URL, HEADERS} from '../constants'\n\nexport const createUser = (user) => {\n  return (dispatch) => {\n    dispatch({type: 'START_LOADING'})\n    return fetch(`${URL}/users`, {\n      method: 'POST', \n      headers: HEADERS(),\n      body: JSON.stringify({\n        user: user\n      })\n    })\n    .then(r => r.json())\n    .then(resp => {\n      dispatch({type: 'STOP_LOADING'})\n      if (resp.user && resp.jwt) {\n        localStorage.setItem('token', resp.jwt)\n        dispatch({ type: 'SELECT_USER', payload: resp})\n        return resp\n      }\n    })\n  }\n}","import React from 'react'\nimport {connect} from 'react-redux'\nimport {selectSearchResult} from '../actions/searchActions'\nimport {createGoal} from '../actions/goalsActions'\n\nclass UsernameCard extends React.Component {\n\n  state = {\n    showUserInfo: false,\n    feet: null,\n    inches: null,\n    weight: null,\n    bodyFat: null,\n    age: null,\n    gender: 50,\n    activityLevel: 1.2\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault()\n    let bmrCals;\n    if (this.state.bodyFat) {\n      bmrCals = (this.katchMcArdle() + this.mifflin()) / 2\n    }\n    else{\n      bmrCals = this.mifflin()\n    }\n    this.props.createGoal({\n      calories: bmrCals.toFixed(), \n      fat: 1,\n      carbs: 1,\n      protein: 1,\n      name: 'basal metabolic rate', \n      user_id: this.props.user.id\n    })\n    this.setState({showUserInfo: false})\n  }\n\n  katchMcArdle = () => { // Katch-Mcardle formula and Harris Benedict Equation\n    const lbmPounds = this.state.weight - (this.state.weight * (this.state.bodyFat / 100))\n    const lbmKilos = lbmPounds / 2.2\n    const bmr = 370 + (21.6 * lbmKilos)\n    const cals = bmr * this.state.activityLevel\n    return cals\n  }\n\n  mifflin = () => {\n    const weightKG = this.state.weight / 2.2\n    const heightCM = (this.state.feet * 12 + parseInt(this.state.inches)) * 2.54\n    const ageCalc = (5 * this.state.age)\n    const genderCalc = (166 * (this.state.gender / 100) - 161)\n    const bmr = 10 * weightKG + 6.25 * heightCM - ageCalc + genderCalc\n    const cals = bmr * this.state.activityLevel\n    return cals\n  }\n\n  handleChange = e => {\n    this.setState({[e.target.name]: e.target.value})\n  }\n\n  activityLevelSelect = () => {\n    const levels = [\n      {name: 'sedentary', multiplier: 1.2}, \n      {name: 'lightly active', multiplier: 1.375}, \n      {name: 'moderately active', multiplier: 1.55}, \n      {name: 'very active', multiplier: 1.725}, \n      {name: 'extremely active', multiplier: 1.9}]\n    return <select name='activityLevel' onChange={this.handleChange}>\n    {levels.map(opt => {\n        return <option name={opt.name} value={opt.multiplier} >{opt.name}</option>\n      })}\n    </select>\n  }\n\n  render(){\n    return(\n      <>\n      <button className=\"third centered email\" onClick={() => this.setState({showUserInfo: !this.state.showUserInfo})}>{this.props.user.username} {this.state.showUserInfo? '△' : '▽'}</button> \n      <div className='userModal' style={{display: this.state.showUserInfo ? 'inline' : 'none'}}>\n        <div className='insideModal'>\n        <button onClick={() => this.setState({showUserInfo: false})} className='topRightClose closeButton' alt='Close'>\n                  <img src='close-icon.png' className='topRightForm closeButton' alt='Close'></img>\n        </button>\n        <h2>User Info</h2>\n        <p>username: {this.props.user.username}</p>\n        <p>email: {this.props.user.email}</p>\n        <button className='tooltip explanation'> ?\n          <div className='explanationtext'>\n            <h2>How It Works</h2>\n            <p>If you did not supply a body fat percentage, we us the \n              <a href='http://www.ksmithwriter.com/Mifflin_Equation_For_Weight_Control.html'>Mifflin Method</a> to \n              calculate your basal \n              metabolic rate (the amount of calories you burn each day). We \n              average the Mifflin Method and \n              the <a href='https://en.wikipedia.org/wiki/Basal_metabolic_rate'>Katch-McArdle</a> Formula \n              if a body fat percentage was present.</p>\n              <p>The number we suggest should maintain your weight.\n                To gain or lose weight, change the calories you intake each day. \n                We recommend small changes - 5% or 10% calorie decificts or surpluses at most so your body does not respond negatively. \n                After time, these can be readjusted.\n              </p>\n            <h2>Macros: Fat, Carbs, and Protein</h2>\n            <p>HAM recommends <a href='https://shapescale.com/blog/health/nutrition/calculate-macronutrient-ratio/'>shapescale.com</a> to help you determine your macronutrient needs.</p>\n          </div>\n        </button>\n        <h2>Generate Macros</h2>\n        <form onSubmit={this.handleSubmit}>\n          <label>Height</label>\n          <span>\n            <input required type='number' min='1' max='7' placeholder='feet' name='feet' className='height' onChange={this.handleChange} ></input>\n            <input required type='number' min='0' max='11' placeholder='inches' name='inches' className='height' onChange={this.handleChange}></input>\n          </span>\n          <label>Weight (lbs)</label>\n          <input required type='number' min='1' max='1500' className='sensitive' placeholder='hidden' name='weight' onChange={this.handleChange}></input>\n          <label>Body Fat %</label>\n          <input type='number' min='2' max='90' className='sensitive' placeholder='optional & hidden' name='bodyFat' onChange={this.handleChange}></input>\n          <label>Age</label>\n          <input required type='number' min='18' max='130' pattern='[0-9]*' placeholder='age' name='age' onChange={this.handleChange}></input>\n          <label className='gender'>Gender</label>\n          <span className='gender'>\n            <label>female</label>\n            <input type='range' name='gender' onChange={e => console.log(e.target.value)} onChange={this.handleChange}></input>\n            <label>male</label>\n          </span>\n          <label>Activity Level</label>\n          {this.activityLevelSelect()}\n          <input type='submit' value='Generate Macros' />\n        </form>\n        </div>\n      </div>\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    user: state.user\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return{\n    createGoal: (props) => dispatch(createGoal(props))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UsernameCard)","import React from 'react'\nimport { connect } from 'react-redux'\nimport LoginCard from './LoginCard'\nimport SignUpCard from './SignUpCard'\nimport {auth, reauth} from '../actions/authActions'\nimport {createDay, selectDay, updateDay, deleteDay, copyDay} from '../actions/daysActions'\nimport {URL, HEADERS} from '../constants.js'\nimport {saveAll} from '../actions/saveAllAction'\nimport UsernameCard from './UsernameCard'\nimport MakeFoodCard from './MakeFoodCard'\n\nclass SignedInHeader extends React.Component {\n\n  state = {\n\n  }\n\n  handleSignOut = () => {\n    this.setState({\n      username: '',\n      email: '',\n      usernameOrEmail: '',\n      password: '',\n      signup: false,\n      name: null,\n      date: null,\n      editDay: false\n    })\n    localStorage.removeItem('token');\n    this.props.signOut()\n  }\n\n  prettyDayDisplay = (dayObj) => {\n    const day = dayObj.date\n    // console.log(dayObj.date)\n    // debugger\n    // const day = new Date(dayObj.date)\n    // let year = day.getFullYear();\n    // year = year.toString().substr(2,2);\n    // return `${day.getMonth() + 1}-${day.getDate() + 1}-${year}` + (dayObj.name ? ` ${dayObj.name}` : '' )\n    return `${day.slice(5,7)}-${day.slice(8,10)}-${day.slice(2,4)}` + (dayObj.name ? ` ${dayObj.name}` : '' )\n  }\n\n  dayOptions = () => {\n    // const days = this.props.days.filter(day => day.id !== this.props.day.id)\n    const days = this.props.days.sort((x, y) => new Date(y.date) - new Date(x.date))\n    return days.map(day => {\n      return <option value={day.id} key={day.id} >{this.prettyDayDisplay(day)}</option>\n    })\n  }\n  \n  editDay = () => {\n    this.setState({editDay: true})\n  }\n\n  handleDayFormChange = (e) => {\n    this.setState({[e.target.name]: e.target.value})\n  }\n\n  updateDay = (e) => {\n    e.preventDefault()\n    this.setState({editDay: false, name: null, date: null})\n    if ((this.state.name !== this.props.day.name) || (this.state.date && this.state.date !== this.props.day.date)) {\n      const day = {...this.props.day, name: this.state.name || this.props.day.name, date: this.state.date || this.props.day.date }\n      this.props.editDay(day)\n      this.props.updateDay(day)\n    }\n  }\n\n  dayChangeHandler = e => {\n    this.props.saveAll(this.props) // doesn't work?\n    this.props.selectDay(e.target.value)\n  }\n\n  todaysDate = () => {\n    const date = new Date()\n    const year = date.getFullYear()\n    let month = date.getMonth() + 1\n    let day = date.getDate()\n    if (month < 10) {month = `0${month}`}\n    if (day < 10) {day = `0${day}`}\n    return `${year}-${month}-${day}`\n  }\n\n  deleteDay = () => {\n    if (this.props.days.length > 1 && window.confirm('Are you sure you want to delete this day?')) {\n      const anotherDay = this.props.days.filter(x => x.id !== this.props.day.id)[0]\n      this.props.selectDay(anotherDay.id)\n      this.props.deleteDay(this.props.day.id)\n    }\n  }\n\n  toggleNewFoodForm = () => {\n    this.setState({showNewFoodForm: !this.state.showNewFoodForm})\n  }\n\n  copyDay = () => {\n    this.props.copyDay(this.props.day.id)\n  }\n\n  render(){\n    // console.log(this.props.days)\n    return(\n      <div className='header'>\n        <div className='menu'>\n          <div className='menuButton'><img src='menu-icon-white.png' className='menuButton' alt='menu button'></img>\n            <div className='sideMenu'>\n              <ul className='top'>\n                <li>{this.props.user.username}</li>\n                <li>{this.props.user.email}</li>\n                {/* <li>Height</li>\n                <li>Weight</li>\n                <li>Body Fat %</li> */}\n              </ul>\n              <ul className='bottom'>\n                <li onClick={this.toggleNewFoodForm}>Create Your Own Food</li>\n                < MakeFoodCard showNewFoodForm={this.state.showNewFoodForm} toggleNewFoodForm={this.toggleNewFoodForm} categoryId={this.props.categories[0].id}/>\n                <li className='contact'><a href='mailto:jamesdorr3@gmail.com'>Contact</a></li>\n                <li className='signOut' onClick={this.handleSignOut}>Sign Out</li>\n              </ul>\n            </div>\n          </div>\n        </div>\n        <div className='daySelect'>\n          {this.state.editDay\n          ?\n          <form className='dayEdit' onSubmit={this.updateDay}>\n            <input type='text' name='name' placeholder='name' defaultValue={this.props.day.name} value={this.state.name} onChange={this.handleDayFormChange} />\n            <input type='date' name='date' placeholder='date' defaultValue={this.props.day.date} value={this.state.date} onChange={this.handleDayFormChange} />\n            <input type='submit' value='✔'/>\n          </form>\n          :\n          <span className='daySelect'>\n            <select onChange={this.dayChangeHandler} value={this.props.day.id} className='daySelect'>\n              {this.dayOptions()}\n            </select>\n            <span className=\"dropdownButton\">\n              <button className='nonMenu'>⋯</button>\n              <ul className='dropdown'>\n                <li onClick={this.props.createDay}><button><img src='add-icon-circle.png' className='newDay addButton' alt='add new Day'></img></button>Add Day</li>\n                <li onClick={this.editDay}><button><img src='edit-icon.png' className='editDay editButton' alt='edit Day' /></button>Edit Day</li>\n                <li onClick={this.copyDay}><button className='copyButton'><span className='copy'>𝍌</span></button>Copy Day</li>\n                <li onClick={this.deleteDay}><button><img src='trash-icon.png' className='deleteDay deleteButton' alt='delete Day' /></button>Delete Day</li>\n              </ul>\n            </span>\n          </span>\n          }\n        </div>\n        <div className='appName'>\n          <h1 className='appName'>HAM</h1>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return state\n}\n\nconst mapDispatchToProps = dispatch => {\n  return{\n    signOut: () => dispatch({ type: 'SIGN_OUT'}),\n    editDay: (day) => dispatch({type: 'EDIT_DAY', payload: day}),\n    updateDay: day => dispatch(updateDay(day)),\n    reauth: () => dispatch(reauth()),\n    createDay: () => dispatch(createDay()),\n    selectDay: (id) => dispatch(selectDay(id)),\n    saveAll: (state) => dispatch(saveAll(state)),\n    startLoading: () => dispatch({type: 'START_LOADING'}),\n    stopLoading: () => dispatch({type: 'STOP_LOADING'}),\n    deleteDay: (id) => dispatch(deleteDay(id)),\n    copyDay: (id) => dispatch(copyDay(id))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignedInHeader)","import React from 'react'\nimport { connect } from 'react-redux'\nimport LoginCard from './LoginCard'\nimport SignUpCard from './SignUpCard'\nimport {auth, reauth} from '../actions/authActions'\nimport {createDay, selectDay} from '../actions/daysActions'\nimport {URL, HEADERS} from '../constants.js'\nimport {saveAll} from '../actions/saveAllAction'\nimport {deleteDay} from '../actions/daysActions'\nimport UsernameCard from './UsernameCard'\n\nclass NotSignedInHeader extends React.Component {\n\n  state = {\n    username: '',\n    email: '',\n    usernameOrEmail: '',\n    password: '',\n    signup: false,\n    editDayName: false,\n    showSignup: false\n  }\n\n  componentDidMount(){\n    if (localStorage.getItem('token')){this.props.reauth()} // thunk\n  }\n\n  handleSignOut = () => {\n    this.setState({\n      username: '',\n      email: '',\n      usernameOrEmail: '',\n      password: '',\n      signup: false,\n      editDayName: false,\n      dayName: ''\n    })\n    localStorage.removeItem('token');\n    this.props.signOut()\n  }\n\n  toggleSignup = (e) => {\n    e.preventDefault()\n    this.setState({showSignup: !this.state.showSignup})\n  }\n\n  signedIn = () => {\n    return !!this.props.user.email\n  }\n\n  prettyDayDisplay = (dayObj) => {\n    const day = new Date(dayObj.created_at)\n    return `${day.getMonth() + 1}-${day.getDate()}-${day.getFullYear()}` + (dayObj.name ? ` ${dayObj.name}` : '' )\n  }\n\n  dayOptions = () => {\n    // const days = this.props.days.filter(day => day.id !== this.props.day.id)\n    const days = this.props.days.sort((x, y) => new Date(y.created_at) - new Date(x.created_at))\n    return days.map(day => {\n      return <option value={day.id} key={day.id} >{this.prettyDayDisplay(day)}</option>\n    })\n  }\n  \n  editDayToggle = () => {\n    this.setState({editDayName: !this.state.editDayName})\n  }\n\n  handleDayNameChange = (e) => {\n    this.setState({dayName: e.target.value})\n  }\n\n  dayChangeHandler = e => {\n    this.props.saveAll(this.props) // doesn't work?\n    this.props.selectDay(e.target.value)\n  }\n\n  todaysDate = () => {\n    const date = new Date()\n    const year = date.getFullYear()\n    let month = date.getMonth() + 1\n    let day = date.getDate()\n    if (month < 10) {month = `0${month}`}\n    if (day < 10) {day = `0${day}`}\n    return `${year}-${month}-${day}`\n  }\n\n  deleteDay = () => {\n    if (this.props.days.length > 1 && window.confirm('Are you sure you want to delete this day?')) {\n      const anotherDay = this.props.days.filter(x => x.id !== this.props.day.id)[0]\n      this.props.selectDay(anotherDay.id)\n      this.props.deleteDay(this.props.day.id)\n    }\n  }\n\n  render(){\n    return(\n      <div className='notSignedInHeader'>\n      <div className='notSignedInMessage'><p>Use HAM free. Log in to record data</p></div>\n      <div className='login'>\n        < LoginCard showSignup={this.state.showSignup} toggleSignup={this.toggleSignup} handleChange={this.handleChange} login={this.login} />\n        < SignUpCard showSignup={this.state.showSignup} toggleSignup={this.toggleSignup} />\n      </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return state\n}\n\nconst mapDispatchToProps = dispatch => {\n  return{\n    signOut: () => dispatch({ type: 'SIGN_OUT'}),\n    reauth: () => dispatch(reauth()),\n    createDay: () => dispatch(createDay()),\n    selectDay: (id) => dispatch(selectDay(id)),\n    editDayName: (dayName) => dispatch({type: 'EDIT_DAY_NAME', payload: dayName}),\n    saveAll: (state) => dispatch(saveAll(state)),\n    startLoading: () => dispatch({type: 'START_LOADING'}),\n    stopLoading: () => dispatch({type: 'STOP_LOADING'}),\n    deleteDay: (id) => dispatch(deleteDay(id))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NotSignedInHeader)","import React from 'react'\nimport { connect } from 'react-redux'\nimport LoginCard from '../components/LoginCard'\nimport SignUpCard from '../components/SignUpCard'\nimport {auth, reauth} from '../actions/authActions'\nimport {createDay, selectDay} from '../actions/daysActions'\nimport {URL, HEADERS} from '../constants.js'\nimport {saveAll} from '../actions/saveAllAction'\nimport {deleteDay, updateDay} from '../actions/daysActions'\nimport UsernameCard from '../components/UsernameCard'\nimport SignedInHeader from '../components/SignedInHeader'\nimport NotSignedInHeader from '../components/NotSignedInHeader'\n\nclass Header extends React.Component {\n\n  state = {\n    username: '',\n    email: '',\n    usernameOrEmail: '',\n    password: '',\n    signup: false,\n    editDayName: false,\n    showSignup: false\n  }\n\n  componentDidMount(){\n    if (localStorage.getItem('token')){this.props.reauth()} // thunk\n  }\n\n  handleSignOut = () => {\n    this.setState({\n      username: '',\n      email: '',\n      usernameOrEmail: '',\n      password: '',\n      signup: false,\n      editDayName: false,\n      dayName: ''\n    })\n    localStorage.removeItem('token');\n    this.props.signOut()\n  }\n\n  toggleSignup = (e) => {\n    e.preventDefault()\n    this.setState({showSignup: !this.state.showSignup})\n  }\n\n  prettyDayDisplay = (dayObj) => {\n    const day = new Date(dayObj.created_at)\n    return `${day.getMonth() + 1}-${day.getDate()}-${day.getFullYear()}` + (dayObj.name ? ` ${dayObj.name}` : '' )\n  }\n\n  dayOptions = () => {\n    // const days = this.props.days.filter(day => day.id !== this.props.day.id)\n    const days = this.props.days.sort((x, y) => new Date(y.created_at) - new Date(x.created_at))\n    return days.map(day => {\n      return <option value={day.id} key={day.id} >{this.prettyDayDisplay(day)}</option>\n    })\n  }\n  \n  editDayToggle = () => {\n    this.setState({editDayName: !this.state.editDayName})\n  }\n\n  handleDayNameChange = (e) => {\n    this.setState({dayName: e.target.value})\n  }\n\n  dayChangeHandler = e => {\n    this.props.saveAll(this.props) // doesn't work?\n    this.props.selectDay(e.target.value)\n  }\n\n  todaysDate = () => {\n    const date = new Date()\n    const year = date.getFullYear()\n    let month = date.getMonth() + 1\n    let day = date.getDate()\n    if (month < 10) {month = `0${month}`}\n    if (day < 10) {day = `0${day}`}\n    return `${year}-${month}-${day}`\n  }\n\n  deleteDay = () => {\n    if (this.props.days.length > 1 && window.confirm('Are you sure you want to delete this day?')) {\n      const anotherDay = this.props.days.filter(x => x.id !== this.props.day.id)[0]\n      this.props.selectDay(anotherDay.id)\n      this.props.deleteDay(this.props.day.id)\n    }\n  }\n\n  render(){\n    return(\n      localStorage.getItem('token')\n      ? \n      < SignedInHeader /> \n      : \n      < NotSignedInHeader /> \n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return state\n}\n\nconst mapDispatchToProps = dispatch => {\n  return{\n    signOut: () => dispatch({ type: 'SIGN_OUT'}),\n    reauth: () => dispatch(reauth()),\n    createDay: () => dispatch(createDay()),\n    selectDay: (id) => dispatch(selectDay(id)),\n    editDayName: (dayName) => dispatch({type: 'EDIT_DAY_NAME', payload: dayName}),\n    saveAll: (state) => dispatch(saveAll(state)),\n    startLoading: () => dispatch({type: 'START_LOADING'}),\n    stopLoading: () => dispatch({type: 'STOP_LOADING'}),\n    deleteDay: (id) => dispatch(deleteDay(id)),\n    updateDay: (dayObj) => dispatch(updateDay(dayObj))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Header)","import React from 'react'\nimport {connect} from 'react-redux'\nimport {selectSearchResult} from '../actions/searchActions'\n\nclass Footer extends React.Component {\n\n  render(){\n    // console.log(this.props.categoryId)\n    return(\n      <div className='footer' >\n        \n        <a href='http://ndb.nal.usda.gov' className='attribution'>\n          <div className='small'>Powered by the</div>\n          <h2>USDA</h2>\n        </a>\n        <span className='hidden'>Powered by the U.S. Department of Agriculture, Agricultural Research Service, 2019 <br/> USDA Branded Food Products Database - Nutrient Data Laboratory Home Page http://ndb.nal.usda.gov</span>\n      </div>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    addChoice: (choice) => dispatch({ type: 'ADD_CHOICES', payload: [choice]}),\n    selectSearchResult: prop => dispatch(selectSearchResult(prop))\n  }\n}\n\nexport default connect(null, mapDispatchToProps)(Footer)","import React from 'react';\nimport './App.css';\nimport SearchContainer from './containers/SearchContainer'\nimport Table from './containers/Table'\nimport Header from './containers/Header'\nimport {DragDropContext} from 'react-beautiful-dnd';\nimport {connect} from 'react-redux'\nimport Footer from './components/Footer'\n\nclass App extends React.Component {\n\n  onDragEnd = result => {\n    const {destination, draggableId} = result;\n    if (!destination) {\n      return;\n    }\n\n    const choiceFood = this.props.choiceFoods.find(x => x.choice.id === draggableId)\n    const categoryId = destination.droppableId\n    const thisCatsChoices = this.props.choiceFoods.filter(x => x.choice.category_id === categoryId)\n    const orderedChoices = thisCatsChoices.sort((x, y) => x.choice.index - y.choice.index)\n    const orderedIds = orderedChoices.map(x => x.choice.id)\n    if (choiceFood.choice.category_id === categoryId){\n      const index = orderedIds.indexOf(choiceFood.choice.id)\n      orderedIds.splice(index, 1)\n    }\n    orderedIds.splice(destination.index, 0, choiceFood.choice.id)\n    orderedIds.forEach((id, i) => {\n      this.props.editChoice({choice: {id: id, index: i, category_id: categoryId}})\n    })\n  };\n\n  render(){\n    return (\n      <div className=\"App\">\n        < Header />\n        <DragDropContext onDragEnd={this.onDragEnd}>\n          < Table />\n        </DragDropContext>\n        <div className='loading'\n          style={{display: this.props.loading ? 'block' : 'none'}}\n        ></div>\n        <div  className='footerSearch'>\n          < SearchContainer />\n        </div>\n        < Footer />\n        {/* < SearchContainer /> */}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return state\n}\n\nconst mapDispatchToProps = dispatch => {\n  return{\n    handleDrop: (choicesIds, choiceId, categoryId) => dispatch({ type: 'HANDLE_DROP', payload: {choicesIds: choicesIds, choiceId: choiceId, categoryId: categoryId}}),\n    updateIndex: choicesIds => dispatch({ type: 'UPDATE_INDEX', payload: choicesIds}),\n    updateCategory: (choiceId, categoryId) => dispatch({ type: 'UPDATE_CATEGORY', payload: {choiceId: choiceId, categoryId: categoryId}}),\n    editChoice: info => dispatch({ type: 'EDIT_CHOICE', payload: info})\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","const initialState = {\n  categories: [\n    {name: 'Breakfast', created_at: 1, id: 1},\n    {name: 'Lunch', created_at: 2, id: 2},\n    {name: 'Dinner', created_at: 3, id: 3}\n  ],\n  day: {},\n  days: [],\n  choiceFoods: [],\n  goal: {},\n  goals: [],\n  user: {},\n  error: {},\n  loading: false,\n  removed: []\n}\n\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'ADD_CHOICE': {\n      debugger\n      return {...state, choiceFoods: [...state.choiceFoods, {\n        choice: {...action.payload.choice, id: action.payload.choice.id || Date.now()},\n        food: action.payload.food,\n        measures: action.payload.measures\n      }]}\n    }\n    case 'ADD_CHOICES': {\n      debugger\n      return {...state, choiceFoods: [...state.choiceFoods, ...action.payload]}\n    }\n    case 'DELETE_CHOICE': {\n      const removedChoice = state.choiceFoods.find(x => x.choice.id === action.payload)\n      return {...state, \n        choiceFoods: state.choiceFoods.filter(x => x.choice.id !== action.payload),\n        removed: [\n          ...state.removed.filter(x => x.id !== removedChoice.food.id),\n          removedChoice.food\n        ]\n      }\n    }\n    case 'SELECT_USER': {\n      // debugger\n      return {\n        ...state,\n        categories: action.payload.user.categories,\n        choiceFoods: action.payload.user.choice_foods,\n        day: action.payload.user.day,\n        days: action.payload.user.days,\n        goal: action.payload.user.goal,\n        goals: action.payload.user.goals,\n        user: {\n          email: action.payload.user.email,\n          id: action.payload.user.id,\n          username: action.payload.user.username\n        }\n      }\n    }\n    case 'EDIT_GOAL': {\n      return {\n        ...state,\n        goal: {\n          ...state.goal,\n          ...action.payload\n        },\n        goals: [\n          ...state.goals.filter(x => x.id !== state.goal.id),\n          {\n            ...state.goal,\n            ...action.payload\n          }\n        ]\n      }\n    }\n    case 'CHANGE_GOAL': {\n      const id = action.payload\n      const goal = state.goals.find(x => x.id === parseInt(id))\n      return {\n        ...state,\n        goal: goal\n      }\n    }\n    case 'SIGN_OUT': {\n      // console.log('sign out')\n      return {\n        ...state,\n        choiceFoods: [],\n        goal: {},\n        goals: [],\n        user: {}\n      }\n    }\n    case 'HANDLE_DROP': {\n      const newChoices = []\n      const choicesIds = action.payload.choicesIds\n      for (let i = 0; i < choicesIds.length; i ++) {\n        const choiceFood = state.choiceFoods.find(x => x.choice.id === parseInt(choicesIds[i]))\n\n        // debugger\n        newChoices.push({...choiceFood, choice: {...choiceFood.choice, index: i}})\n      }\n      const choiceFood = newChoices.find(x => x.choice.id === action.payload.choiceId)\n      choiceFood.choice.category_id = action.payload.categoryId\n      // debugger\n      return {\n        ...state,\n        choiceFoods: newChoices\n      }\n    }\n    case 'ADD_DAY': {\n      return {\n        ...state,\n        choiceFoods: [],\n        day: action.payload,\n        days: [...state.days, {...action.payload, goal_id: action.payload.goal.id}],\n        goal: action.payload.goal\n      }\n    }\n    case 'SELECT_DAY': {\n      // debugger\n      return {\n        ...state,\n        choiceFoods: action.payload.choice_foods,\n        day: {\n          date: action.payload.date,\n          id: action.payload.id,\n          name: action.payload.name\n        },\n        goal: action.payload.goal,\n      }\n    }\n    case 'ADD_FOOD': {\n      // debugger\n      return {\n        ...state,\n        choiceFoods: [...state.choiceFoods, action.payload]\n      }\n    }\n    case 'EDIT_CHOICE': {\n      const choiceFood = state.choiceFoods.find(x => x.choice.id === action.payload.choice.id)\n      return {\n        ...state,\n        choiceFoods: [\n          ...state.choiceFoods.filter(x => parseInt(x.choice.id) !== parseInt(choiceFood.choice.id)),\n          {\n            ...choiceFood,\n            choice: {...choiceFood.choice, ...action.payload.choice}\n          }\n        ]\n      }\n    }\n    case 'EDIT_DAY': {\n      return {\n        ...state,\n        day: {\n          ...state.day,\n          ...action.payload\n        },\n        days: [\n          ...state.days.filter(x => x.id !== state.day.id),\n        {...state.day,\n          ...action.payload\n        }\n        ]\n      }\n    }\n    case 'ADD_GOAL': {\n      return {\n        ...state,\n        goal: action.payload,\n        goals: [\n          ...state.goals,\n          action.payload\n        ]\n      }\n    }\n    case 'START_LOADING': {\n      return {\n        ...state,\n        loading: true\n      }\n    }\n    case 'STOP_LOADING': {\n      return {\n        ...state,\n        loading: false\n      }\n    }\n    case 'DELETE_DAY': {\n      return {\n        ...state,\n        days: state.days.filter(x => x.id !== parseInt(action.payload))\n      }\n    }\n    case 'DELETE_GOAL': {\n      return {\n        ...state,\n        goals: state.goals.filter(x => x.id !== parseInt(action.payload))\n      }\n    }\n    default: {\n      return state\n    }\n  }\n}\n\nexport default reducer","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport { createStore, applyMiddleware } from 'redux'\nimport reducer from './Redux/reducer'\nimport { Provider } from 'react-redux'\nimport thunk from 'redux-thunk'\n// import rootReducer from './reducers'\n\nconst store = createStore(\n  reducer, applyMiddleware(thunk) //, /* preloadedState, */\n  // window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>\n, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}